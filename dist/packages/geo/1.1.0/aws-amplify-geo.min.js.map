{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"aws_amplify_core\"","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@aws-sdk/util-locate-window/dist/es/index.js","webpack:///./node_modules/camelcase-keys/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/ie11Sha256.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/constants.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/webCryptoSha256.js","webpack:///./node_modules/@aws-crypto/util/build/index.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/constants.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/index.js","webpack:///./node_modules/bowser/es5.js","webpack:///./node_modules/camelcase-keys/node_modules/map-obj/index.js","webpack:///./node_modules/camelcase/index.js","webpack:///./node_modules/quick-lru/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/crossPlatformSha256.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/isEmptyData.js","webpack:///./node_modules/@aws-crypto/util/build/convertToBuffer.js","webpack:///./node_modules/buffer/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/@aws-crypto/util/build/isEmptyData.js","webpack:///./node_modules/@aws-crypto/util/build/numToUint8.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/index.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/jsSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/RawSha256.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/index.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/supportsWebCrypto.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/index.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/CryptoOperation.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/Key.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/KeyOperation.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/MsSubtleCrypto.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/MsWindow.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/protocol-http/dist/es/httpResponse.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/protocol-http/dist/es/httpRequest.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/protocol-http/dist/es/isValidHostname.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-uri-escape/dist/es/escape-uri.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-base64-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/fetch-http-handler/dist/es/fetch-http-handler.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/querystring-builder/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/fetch-http-handler/dist/es/request-timeout.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/fetch-http-handler/dist/es/stream-collector.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/invalid-dependency/dist/es/invalidFunction.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/retryMiddleware.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/service-error-classification/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/service-error-classification/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/config.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/delayDecider.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/retryDecider.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/StandardRetryStrategy.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/defaultRetryQuota.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/DefaultRateLimiter.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/AdaptiveRetryStrategy.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-retry/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/endpoints.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/url-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/invalid-dependency/dist/es/invalidProvider.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-user-agent-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/runtimeConfig.shared.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/querystring-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/runtimeConfig.browser.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-body-length-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/config-resolver/dist/es/EndpointsConfig.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/config-resolver/dist/es/RegionConfig.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-content-length/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-host-header/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-logger/dist/es/loggerMiddleware.js","webpack:///./node_modules/@aws-sdk/property-provider/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@aws-sdk/property-provider/dist/es/ProviderError.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/util-hex-encoding/dist/es/index.js","webpack:///./node_modules/@aws-sdk/property-provider/dist/es/fromStatic.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/credentialDerivation.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalHeaders.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/getPayloadHash.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/is-array-buffer/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/cloneRequest.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/prepareRequest.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/utilDate.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/SignatureV4.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/moveHeadersToQuery.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/hasHeader.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalQuery.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-signing/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/property-provider/dist/es/memoize.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-signing/dist/es/middleware.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-user-agent/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-user-agent/dist/es/user-agent-middleware.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-stack/dist/es/MiddlewareStack.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/client.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/command.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/extended-encode-uri-component.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/get-array-if-single-item.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/lazy-json.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/parse-utils.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/ser-utils.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/smithy-client/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/models/models_0.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/LocationClient.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-user-agent/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/protocols/Aws_restJson1.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-serde/dist/es/serdePlugin.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-serde/dist/es/deserializerMiddleware.js","webpack:///./node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-serde/dist/es/serializerMiddleware.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/commands/SearchPlaceIndexForTextCommand.js","webpack:///./node_modules/@aws-sdk/client-location/dist/es/commands/SearchPlaceIndexForPositionCommand.js","webpack:///../../src/Providers/AmazonLocationServiceProvider.ts","webpack:///../src/Geo.ts","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js","webpack:///./node_modules/@aws-crypto/util/node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-crypto/util/node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-crypto/util/node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__createBinding","k","k2","undefined","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","fallbackWindow","locateWindow","self","mapObj","camelCase","QuickLru","cache","maxSize","isObject","RegExp","Error","Date","camelCaseConvert","input","options","deep","pascalCase","exclude","stopPaths","stopPathsSet","Set","makeMapper","parentPath","path","array","some","x","lastIndex","test","cacheKey","ret","isArray","keys","map","Sha256","isEmptyData_1","constants_1","util_utf8_browser_1","util_locate_window_1","secret","operation","keyOperation","msCrypto","subtle","importKey","toArrayBufferView","SHA_256_HMAC_ALGO","oncomplete","onerror","getKeyPromise","keyData","sign","catch","digest","update","toHash","_this","isEmptyData","process","Uint8Array","finish","data","fromUtf8","ArrayBuffer","isView","buffer","byteOffset","byteLength","BYTES_PER_ELEMENT","EMPTY_DATA_SHA_256","SHA_256_HASH","hash","util_1","crypto","convertToBuffer","typedArray","numToUint8","convertToBuffer_1","numToUint8_1","MAX_HASHABLE_LENGTH","INIT","KEY","DIGEST_LENGTH","BLOCK_SIZE","Uint32Array","Math","pow","WebCryptoSha256","Ie11Sha256","ie11Sha256_1","webCryptoSha256_1","17","getFirstMatch","match","getSecondMatch","matchAndReturnConst","getWindowsVersionName","getMacOSVersionName","split","splice","parseInt","getAndroidVersionName","getVersionPrecision","compareVersions","max","u","join","reverse","min","find","forEach","getBrowserAlias","BROWSER_ALIASES_MAP","getBrowserTypeByAlias","BROWSER_MAP","18","ENGINE_MAP","OS_MAP","PLATFORMS_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","focus","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","tablet","mobile","desktop","tv","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","EdgeHTML","Blink","Trident","Presto","Gecko","WebKit","90","configurable","writable","getParser","parse","getResult","91","_ua","parsedResult","getUA","parseBrowser","browser","describe","getBrowser","getBrowserName","String","toLowerCase","getBrowserVersion","version","getOS","os","parseOS","getOSName","getOSVersion","getPlatform","platform","parsePlatform","getPlatformType","type","getEngine","engine","parseEngine","getEngineName","satisfies","isOS","isPlatform","h","isBrowser","compareVersion","substr","isEngine","is","92","search","93","versionName","replace","94","vendor","model","Number","95","mapObjectSkip","isObjectCustom","mapObject","mapper","isSeen","WeakMap","mapArray","element","entries","mapResult","newKey","newValue","shouldRecurse","trim","filter","toUpperCase","string","isLastCharLower","isLastCharUpper","isLastLastCharUpper","character","slice","preserveCamelCase","p1","charAt","Map","oldCache","_size","delete","_set","deleted","clear","item","oldCacheSize","sha256_js_1","supports_web_crypto_1","ie11_detection_1","supportsWebCrypto","isMsWindow","encoding","Buffer","from","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","fromArrayLike","fromArrayBuffer","isEncoding","actual","write","fromString","obj","isBuffer","len","checked","copy","val","fromObject","assertSize","size","toString","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","Function","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","tslib_1","RawSha256_1","RawSha256","outer","inner","bufferHash","bufferFromSecret","digestSync","finished","_a","state","Int32Array","temp","bufferLength","bytesHashed","position","hashBuffer","bitsHashed","bufferView","DataView","undecoratedLength","setUint8","setUint32","state0","state1","state2","state3","state4","state5","state6","state7","t1_1","t2_1","t1","t2","supportsZeroByteGCM","supportsSubtleCrypto","supportsSecureRandom","subtleCryptoMethods","getRandomValues","every","methodName","_b","generateKey","encrypt","iv","additionalData","tagLength","msSubtleCryptoMethods","quacksLikeAnMsWindow","subtle_1","method","__spreadArray","to","pack","HttpResponse","statusCode","headers","isInstance","response","resp","HttpRequest","hostname","port","query","protocol","request","req","clone","cloned","reduce","carry","paramName","param","isValidHostname","escapeUri","uri","encodeURIComponent","hexEncode","FetchHttpHandler","requestTimeout","destroy","handle","abortSignal","requestTimeoutInMs","aborted","abortError","queryString","e_1","sort","_c","iLen","qsEntry","e_1_1","return","buildQueryString","url","requestOptions","Headers","AbortController","timeoutInMs","fetchRequest","Request","raceOfPromises","fetch","fetchHeaders","transformedHeaders","pair","status","blob","setTimeout","timeoutError","onabort","race","alphabetByEncoding","alphabetByValue","index","fromBase64","totalByteLength","dataView","bits","bitLength","chunkOffset","readToBase64","reader","FileReader","onloadend","readyState","commaIndex","dataOffset","substring","readAsDataURL","retryMiddlewareOptions","tags","priority","override","getRetryPlugin","applyToStack","clientStack","add","context","args","retryStrategy","userAgent","retry","retryMiddleware","CLOCK_SKEW_ERROR_CODES","THROTTLING_ERROR_CODES","TRANSIENT_ERROR_CODES","TRANSIENT_ERROR_STATUS_CODES","isThrottlingError","$metadata","httpStatusCode","$retryable","throttling","rnds8","rng","uuid","byteToHex","RETRY_MODES","rnds","random","DEFAULT_RETRY_MODE","STANDARD","defaultDelayDecider","delayBase","attempts","defaultRetryDecider","isRetryableByTrait","isClockSkewError","isTransientError","StandardRetryStrategy","maxAttemptsProvider","retryDecider","delayDecider","retryQuota","initialRetryTokens","MAX_CAPACITY","noRetryIncrement","retryCost","timeoutRetryCost","availableCapacity","getCapacityAmount","hasRetryTokens","freeze","retrieveRetryTokens","capacityAmount","releaseRetryTokens","capacityReleaseAmount","getDefaultRetryQuota","shouldRetry","maxAttempts","getMaxAttempts","retryTokenAmount","totalDelay","_loop_1","this_1","state_1","err","delay_1","beforeRequest","afterRequest","totalRetryDelay","asSdkError","DefaultRateLimiter","_d","_e","currentCapacity","enabled","lastMaxRate","measuredTxRate","requestCount","lastTimestamp","timeWindow","beta","minCapacity","minFillRate","scaleConstant","smooth","currentTimeInSeconds","getCurrentTimeInSeconds","lastThrottleTime","lastTxRateBucket","fillRate","maxCapacity","now","getSendToken","acquireTokenBucket","amount","refillTokenBucket","timestamp","fillAmount","updateClientSendingRate","calculatedRate","updateMeasuredRate","rateToUse","calculateTimeWindow","cubicThrottle","enableTokenBucket","cubicSuccess","newRate","updateTokenBucketRate","getPrecise","timeBucket","currentRate","parseFloat","toFixed","_super","AdaptiveRetryStrategy","rateLimiter","superOptions","ADAPTIVE","normalizeMaxAttempts","promisified_1","AWS_REGIONS","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","message","serviceId","clientVersion","ClientSharedValues","apiVersion","disableHostPrefix","logger","regionInfoProvider","region","regionInfo","partition","signingService","urlParser","URL","pathname","querystring","decodeURIComponent","parseQueryString","ClientDefaultValues","runtime","base64Decoder","base64Encoder","bitClusterCount","ceil","bodyLengthChecker","credentialDefaultProvider","defaultUserAgentProvider","parsedUA","sections","_f","_g","_h","navigator","requestHandler","retryModeProvider","sha256","streamCollector","stream","Blob","arrayBuffer","collectBlob","isDone","prior","getReader","collectStream","utf8Decoder","TextEncoder","encode","surrogatePair","utf8Encoder","TextDecoder","decode","decoded","byte","nextByte","encoded","byteValue","endpoint","promisified_2","getEndPointFromRegion","tls","normalizeRegion","contentLengthMiddlewareOptions","getContentLengthPlugin","contentLengthMiddleware","hostHeaderMiddlewareOptions","getHostHeaderPlugin","handlerProtocol","hostHeaderMiddleware","loggerMiddlewareOptions","getLoggerPlugin","clientName","commandName","inputFilterSensitiveLog","outputFilterSensitiveLog","outputWithoutMetadata","info","ProviderError","tryNextLink","CredentialsProviderError","SHORT_TO_HEX","HEX_TO_SHORT","encodedByte","AMZ_DATE_HEADER","GENERATED_HEADERS","SIGNATURE_HEADER","TOKEN_HEADER","ALWAYS_UNSIGNABLE_HEADERS","authorization","connection","expect","pragma","referer","te","trailer","upgrade","PROXY_HEADER_PATTERN","SEC_HEADER_PATTERN","EVENT_ALGORITHM_IDENTIFIER","signingKeyCache","cacheQueue","createScope","shortDate","service","hmac","ctor","getCanonicalHeaders","unsignableHeaders","signableHeaders","canonical","headerName","canonicalHeaderName","getPayloadHash","hashConstructor","hashCtor","cloneRequest","rest","prepareRequest","iso8601","time","toDate","toISOString","SignatureV4","applyChecksum","credentials","uriEscapePath","regionProvider","normalizeRegionProvider","credentialProvider","normalizeCredentialsProvider","presign","originalRequest","signingDate","expiresIn","unhoistableHeaders","signingRegion","longDate","scope","canonicalHeaders","_j","_k","_l","formatDate","lname","moveHeadersToQuery","sessionToken","accessKeyId","getCanonicalHeaderList","getSignature","getSigningKey","createCanonicalRequest","toSign","signString","payload","signEvent","signRequest","priorSignature","hashedPayload","hashedHeaders","stringToSign","requestToSign","payloadHash","signature","soughtHeader","hasHeader","ALGORITHM_IDENTIFIER","sortedHeaders","getCanonicalPath","serialized","getCanonicalQuery","createStringToSign","credentialScope","canonicalRequest","hashedRequest","keyPromise","sha256Constructor","credsHash","signable","secretAccessKey","normalizeProvider","normalizeCredentialProvider","provider","isExpired","requiresRefresh","hasResult","isConstant","resolved","memoize","expiration","getTime","getSkewCorrectedDate","systemClockOffset","awsAuthMiddleware","signer","dateHeader","serverTime","date","newServerTime","awsAuthMiddlewareOptions","relation","toMiddleware","getAwsAuthPlugin","addRelativeTo","UA_ESCAPE_REGEX","escapeUserAgent","prefixSeparatorIndex","prefix","uaName","getUserAgentMiddlewareOptions","getUserAgentPlugin","config","defaultUserAgent","customUserAgent","sdkUserAgentValue","normalUAValue","section","startsWith","constructStack","absoluteEntries","relativeEntries","entriesNameSet","cloneTo","toStack","entry","middleware","expandRelativeMiddlewareList","expandedMiddlewareList","before","after","getMiddlewareList","normalizedAbsoluteEntries","normalizedRelativeEntries","normalizedEntriesNameMap","normalizedEntry","stepWeights","priorityWeights","wholeList","expendedMiddlewareList","stack","toOverrideIndex","findIndex","toOverride","use","plugin","remove","toRemove","isRemoved","filterCb","removeByName","removeByReference","removeByTag","handler","initialize","serialize","build","finalizeRequest","deserialize","high","normal","low","Client","middlewareStack","send","command","optionsOrCb","cb","callback","resolveMiddleware","extendedEncodeURIComponent","StringWrapper","Class","getPrototypeOf","Constructor","instance","LazyJsonString","deserializeJSON","JSON","stringify","expectNumber","expectString","handleFloat","serializeFloat","SENSITIVE_STRING","LocationClient","configuration","_config_2","isCustomEndpoint","resolveEndpointsConfig","resolveRegionConfig","_config_6","resolveUserAgentConfig","normalizedCreds","signingEscapePath","signingName","resolveAwsAuthConfig","retryMode","filterSensitiveLog","Position","DevicePositionUpdates","DevicePositions","Polygon","Geometry","Entries","Updates","DeparturePosition","DestinationPosition","WaypointPositions","LineString","StartPosition","EndPosition","Steps","RouteBBox","Legs","Summary","Point","Place","Results","Text","BiasPosition","FilterBBox","ResultBBox","deserializeAws_restJson1SearchPlaceIndexForPositionCommandError","parsedOutput","errorCode","parsedBody","parseBody","loadRestJsonErrorCode","deserializeAws_restJson1AccessDeniedExceptionResponse","deserializeMetadata","deserializeAws_restJson1InternalServerExceptionResponse","deserializeAws_restJson1ResourceNotFoundExceptionResponse","deserializeAws_restJson1ThrottlingExceptionResponse","deserializeAws_restJson1ValidationExceptionResponse","Code","Message","$fault","deserializeAws_restJson1SearchPlaceIndexForTextCommandError","contents","FieldList","Reason","fieldList","deserializeAws_restJson1ValidationExceptionFieldList","reason","serializeAws_restJson1BoundingBox","serializeAws_restJson1CountryCodeList","serializeAws_restJson1Position","deserializeAws_restJson1BoundingBox","deserializeAws_restJson1CountryCodeList","deserializeAws_restJson1Place","AddressNumber","Country","deserializeAws_restJson1PlaceGeometry","Label","Municipality","Neighborhood","PostalCode","Region","Street","SubRegion","deserializeAws_restJson1Position","deserializeAws_restJson1SearchForPositionResultList","deserializeAws_restJson1SearchForPositionResult","deserializeAws_restJson1SearchForTextResultList","deserializeAws_restJson1SearchForTextResult","deserializeAws_restJson1SearchPlaceIndexForPositionSummary","DataSource","MaxResults","deserializeAws_restJson1SearchPlaceIndexForTextSummary","FilterCountries","Name","deserializeAws_restJson1ValidationExceptionField","requestId","extendedRequestId","cfId","collectBody","streamBody","collectBodyString","sanitizeErrorCode","rawValue","cleanValue","headerKey","deserializerMiddlewareOption","serializerMiddlewareOption","getSerdePlugin","serializer","deserializer","commandStack","deserializerMiddleware","serializerMiddleware","SearchPlaceIndexForTextCommand","handlerExecutionContext","basePath","resolvedPath","labelValue","resolvedHostname","endsWith","IndexName","serializeAws_restJson1SearchPlaceIndexForTextCommand","deserializeAws_restJson1SearchPlaceIndexForTextCommand","SearchPlaceIndexForPositionCommand","serializeAws_restJson1SearchPlaceIndexForPositionCommand","deserializeAws_restJson1SearchPlaceIndexForPositionCommand"],"mappings":"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","file":"aws-amplify-geo.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws_amplify_core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_geo\", [\"aws_amplify_core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_geo\"] = factory(require(\"aws_amplify_core\"));\n\telse\n\t\troot[\"aws_amplify_geo\"] = factory(root[\"aws_amplify_core\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var fallbackWindow = {};\n/**\n * Locates the global scope for a browser or browser-like environment. If\n * neither `window` nor `self` is defined by the environment, the same object\n * will be returned on each invocation.\n */\nexport function locateWindow() {\n    if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else if (typeof self !== \"undefined\") {\n        return self;\n    }\n    return fallbackWindow;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxjQUFjLEdBQUcsRUFBWSxDQUFDO0FBRXBDOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsWUFBWTtJQUMxQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUNqQyxPQUFPLE1BQU0sQ0FBQztLQUNmO1NBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7UUFDdEMsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmYWxsYmFja1dpbmRvdyA9IHt9IGFzIFdpbmRvdztcblxuLyoqXG4gKiBMb2NhdGVzIHRoZSBnbG9iYWwgc2NvcGUgZm9yIGEgYnJvd3NlciBvciBicm93c2VyLWxpa2UgZW52aXJvbm1lbnQuIElmXG4gKiBuZWl0aGVyIGB3aW5kb3dgIG5vciBgc2VsZmAgaXMgZGVmaW5lZCBieSB0aGUgZW52aXJvbm1lbnQsIHRoZSBzYW1lIG9iamVjdFxuICogd2lsbCBiZSByZXR1cm5lZCBvbiBlYWNoIGludm9jYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2NhdGVXaW5kb3coKTogV2luZG93IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICByZXR1cm4gZmFsbGJhY2tXaW5kb3c7XG59XG4iXX0=","'use strict';\nconst mapObj = require('map-obj');\nconst camelCase = require('camelcase');\nconst QuickLru = require('quick-lru');\n\nconst has = (array, key) => array.some(x => {\n\tif (typeof x === 'string') {\n\t\treturn x === key;\n\t}\n\n\tx.lastIndex = 0;\n\treturn x.test(key);\n});\n\nconst cache = new QuickLru({maxSize: 100000});\n\n// Reproduces behavior from `map-obj`\nconst isObject = value =>\n\ttypeof value === 'object' &&\n\tvalue !== null &&\n\t!(value instanceof RegExp) &&\n\t!(value instanceof Error) &&\n\t!(value instanceof Date);\n\nconst camelCaseConvert = (input, options) => {\n\tif (!isObject(input)) {\n\t\treturn input;\n\t}\n\n\toptions = {\n\t\tdeep: false,\n\t\tpascalCase: false,\n\t\t...options\n\t};\n\n\tconst {exclude, pascalCase, stopPaths, deep} = options;\n\n\tconst stopPathsSet = new Set(stopPaths);\n\n\tconst makeMapper = parentPath => (key, value) => {\n\t\tif (deep && isObject(value)) {\n\t\t\tconst path = parentPath === undefined ? key : `${parentPath}.${key}`;\n\n\t\t\tif (!stopPathsSet.has(path)) {\n\t\t\t\tvalue = mapObj(value, makeMapper(path));\n\t\t\t}\n\t\t}\n\n\t\tif (!(exclude && has(exclude, key))) {\n\t\t\tconst cacheKey = pascalCase ? `${key}_` : key;\n\n\t\t\tif (cache.has(cacheKey)) {\n\t\t\t\tkey = cache.get(cacheKey);\n\t\t\t} else {\n\t\t\t\tconst ret = camelCase(key, {pascalCase});\n\n\t\t\t\tif (key.length < 100) { // Prevent abuse\n\t\t\t\t\tcache.set(cacheKey, ret);\n\t\t\t\t}\n\n\t\t\t\tkey = ret;\n\t\t\t}\n\t\t}\n\n\t\treturn [key, value];\n\t};\n\n\treturn mapObj(input, makeMapper(undefined));\n};\n\nmodule.exports = (input, options) => {\n\tif (Array.isArray(input)) {\n\t\treturn Object.keys(input).map(key => camelCaseConvert(input[key], options));\n\t}\n\n\treturn camelCaseConvert(input, options);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (secret) {\n            this.operation = getKeyPromise(secret).then(function (keyData) {\n                return (0, util_locate_window_1.locateWindow)().msCrypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, keyData);\n            });\n            this.operation.catch(function () { });\n        }\n        else {\n            this.operation = Promise.resolve((0, util_locate_window_1.locateWindow)().msCrypto.subtle.digest(\"SHA-256\"));\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        var _this = this;\n        if ((0, isEmptyData_1.isEmptyData)(toHash)) {\n            return;\n        }\n        this.operation = this.operation.then(function (operation) {\n            operation.onerror = function () {\n                _this.operation = Promise.reject(new Error(\"Error encountered updating hash\"));\n            };\n            operation.process(toArrayBufferView(toHash));\n            return operation;\n        });\n        this.operation.catch(function () { });\n    };\n    Sha256.prototype.digest = function () {\n        return this.operation.then(function (operation) {\n            return new Promise(function (resolve, reject) {\n                operation.onerror = function () {\n                    reject(new Error(\"Error encountered finalizing hash\"));\n                };\n                operation.oncomplete = function () {\n                    if (operation.result) {\n                        resolve(new Uint8Array(operation.result));\n                    }\n                    reject(new Error(\"Error encountered finalizing hash\"));\n                };\n                operation.finish();\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction getKeyPromise(secret) {\n    return new Promise(function (resolve, reject) {\n        var keyOperation = (0, util_locate_window_1.locateWindow)().msCrypto.subtle.importKey(\"raw\", toArrayBufferView(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"]);\n        keyOperation.oncomplete = function () {\n            if (keyOperation.result) {\n                resolve(keyOperation.result);\n            }\n            reject(new Error(\"ImportKey completed without importing key.\"));\n        };\n        keyOperation.onerror = function () {\n            reject(new Error(\"ImportKey failed to import key.\"));\n        };\n    });\n}\nfunction toArrayBufferView(data) {\n    if (typeof data === \"string\") {\n        return (0, util_utf8_browser_1.fromUtf8)(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWUxMVNoYTI1Ni5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9pZTExU2hhMjU2LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUE0QztBQUM1Qyx5Q0FBZ0Q7QUFFaEQsZ0VBQXNEO0FBRXRELGtFQUEyRDtBQUUzRDtJQUdFLGdCQUFZLE1BQW1CO1FBQzdCLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFNBQVMsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsT0FBTztnQkFDakQsT0FBQyxJQUFBLGlDQUFZLEdBQWUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDL0MsNkJBQWlCLEVBQ2pCLE9BQU8sQ0FDUjtZQUhELENBR0MsQ0FDRixDQUFDO1lBQ0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsY0FBTyxDQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNO1lBQ0wsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUM3QixJQUFBLGlDQUFZLEdBQWUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FDL0QsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVELHVCQUFNLEdBQU4sVUFBTyxNQUFrQjtRQUF6QixpQkFnQkM7UUFmQyxJQUFJLElBQUEseUJBQVcsRUFBQyxNQUFNLENBQUMsRUFBRTtZQUN2QixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQUEsU0FBUztZQUM1QyxTQUFTLENBQUMsT0FBTyxHQUFHO2dCQUNsQixLQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQzdCLElBQUksS0FBSyxDQUFDLGlDQUFpQyxDQUFDLENBQzdDLENBQUM7WUFDSixDQUFDLENBQUM7WUFDRixTQUFTLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFFN0MsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxjQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCx1QkFBTSxHQUFOO1FBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FDeEIsVUFBQSxTQUFTO1lBQ1AsT0FBQSxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO2dCQUMxQixTQUFTLENBQUMsT0FBTyxHQUFHO29CQUNsQixNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxDQUFDLENBQUM7Z0JBQ0YsU0FBUyxDQUFDLFVBQVUsR0FBRztvQkFDckIsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFO3dCQUNwQixPQUFPLENBQUMsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7cUJBQzNDO29CQUNELE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pELENBQUMsQ0FBQztnQkFFRixTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDckIsQ0FBQyxDQUFDO1FBWkYsQ0FZRSxDQUNMLENBQUM7SUFDSixDQUFDO0lBQ0gsYUFBQztBQUFELENBQUMsQUF2REQsSUF1REM7QUF2RFksd0JBQU07QUF5RG5CLFNBQVMsYUFBYSxDQUFDLE1BQWtCO0lBQ3ZDLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNqQyxJQUFNLFlBQVksR0FBSSxJQUFBLGlDQUFZLEdBQWUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FDekUsS0FBSyxFQUNMLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxFQUN6Qiw2QkFBaUIsRUFDakIsS0FBSyxFQUNMLENBQUMsTUFBTSxDQUFDLENBQ1QsQ0FBQztRQUVGLFlBQVksQ0FBQyxVQUFVLEdBQUc7WUFDeEIsSUFBSSxZQUFZLENBQUMsTUFBTSxFQUFFO2dCQUN2QixPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzlCO1lBRUQsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUM7UUFDRixZQUFZLENBQUMsT0FBTyxHQUFHO1lBQ3JCLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxJQUFnQjtJQUN6QyxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUM1QixPQUFPLElBQUEsNEJBQVEsRUFBQyxJQUFJLENBQUMsQ0FBQztLQUN2QjtJQUVELElBQUksV0FBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM1QixPQUFPLElBQUksVUFBVSxDQUNuQixJQUFJLENBQUMsTUFBTSxFQUNYLElBQUksQ0FBQyxVQUFVLEVBQ2YsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsaUJBQWlCLENBQy9DLENBQUM7S0FDSDtJQUVELE9BQU8sSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDOUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRW1wdHlEYXRhIH0gZnJvbSBcIi4vaXNFbXB0eURhdGFcIjtcbmltcG9ydCB7IFNIQV8yNTZfSE1BQ19BTEdPIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBIYXNoLCBTb3VyY2VEYXRhIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBmcm9tVXRmOCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXV0ZjgtYnJvd3NlclwiO1xuaW1wb3J0IHsgQ3J5cHRvT3BlcmF0aW9uLCBLZXksIE1zV2luZG93IH0gZnJvbSBcIkBhd3MtY3J5cHRvL2llMTEtZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBsb2NhdGVXaW5kb3cgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1sb2NhdGUtd2luZG93XCI7XG5cbmV4cG9ydCBjbGFzcyBTaGEyNTYgaW1wbGVtZW50cyBIYXNoIHtcbiAgcHJpdmF0ZSBvcGVyYXRpb246IFByb21pc2U8Q3J5cHRvT3BlcmF0aW9uPjtcblxuICBjb25zdHJ1Y3RvcihzZWNyZXQ/OiBTb3VyY2VEYXRhKSB7XG4gICAgaWYgKHNlY3JldCkge1xuICAgICAgdGhpcy5vcGVyYXRpb24gPSBnZXRLZXlQcm9taXNlKHNlY3JldCkudGhlbihrZXlEYXRhID0+XG4gICAgICAgIChsb2NhdGVXaW5kb3coKSBhcyBNc1dpbmRvdykubXNDcnlwdG8uc3VidGxlLnNpZ24oXG4gICAgICAgICAgU0hBXzI1Nl9ITUFDX0FMR08sXG4gICAgICAgICAga2V5RGF0YVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5vcGVyYXRpb24uY2F0Y2goKCkgPT4ge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZXJhdGlvbiA9IFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgKGxvY2F0ZVdpbmRvdygpIGFzIE1zV2luZG93KS5tc0NyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUodG9IYXNoOiBTb3VyY2VEYXRhKTogdm9pZCB7XG4gICAgaWYgKGlzRW1wdHlEYXRhKHRvSGFzaCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm9wZXJhdGlvbiA9IHRoaXMub3BlcmF0aW9uLnRoZW4ob3BlcmF0aW9uID0+IHtcbiAgICAgIG9wZXJhdGlvbi5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIG5ldyBFcnJvcihcIkVycm9yIGVuY291bnRlcmVkIHVwZGF0aW5nIGhhc2hcIilcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBvcGVyYXRpb24ucHJvY2Vzcyh0b0FycmF5QnVmZmVyVmlldyh0b0hhc2gpKTtcblxuICAgICAgcmV0dXJuIG9wZXJhdGlvbjtcbiAgICB9KTtcbiAgICB0aGlzLm9wZXJhdGlvbi5jYXRjaCgoKSA9PiB7fSk7XG4gIH1cblxuICBkaWdlc3QoKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9uLnRoZW48VWludDhBcnJheT4oXG4gICAgICBvcGVyYXRpb24gPT5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG9wZXJhdGlvbi5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkVycm9yIGVuY291bnRlcmVkIGZpbmFsaXppbmcgaGFzaFwiKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBvcGVyYXRpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24ucmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJlc29sdmUobmV3IFVpbnQ4QXJyYXkob3BlcmF0aW9uLnJlc3VsdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkVycm9yIGVuY291bnRlcmVkIGZpbmFsaXppbmcgaGFzaFwiKSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG9wZXJhdGlvbi5maW5pc2goKTtcbiAgICAgICAgfSlcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEtleVByb21pc2Uoc2VjcmV0OiBTb3VyY2VEYXRhKTogUHJvbWlzZTxLZXk+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBrZXlPcGVyYXRpb24gPSAobG9jYXRlV2luZG93KCkgYXMgTXNXaW5kb3cpLm1zQ3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICBcInJhd1wiLFxuICAgICAgdG9BcnJheUJ1ZmZlclZpZXcoc2VjcmV0KSxcbiAgICAgIFNIQV8yNTZfSE1BQ19BTEdPLFxuICAgICAgZmFsc2UsXG4gICAgICBbXCJzaWduXCJdXG4gICAgKTtcblxuICAgIGtleU9wZXJhdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGtleU9wZXJhdGlvbi5yZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZShrZXlPcGVyYXRpb24ucmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkltcG9ydEtleSBjb21wbGV0ZWQgd2l0aG91dCBpbXBvcnRpbmcga2V5LlwiKSk7XG4gICAgfTtcbiAgICBrZXlPcGVyYXRpb24ub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJJbXBvcnRLZXkgZmFpbGVkIHRvIGltcG9ydCBrZXkuXCIpKTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheUJ1ZmZlclZpZXcoZGF0YTogU291cmNlRGF0YSk6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gIH1cblxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFxuICAgICAgZGF0YS5idWZmZXIsXG4gICAgICBkYXRhLmJ5dGVPZmZzZXQsXG4gICAgICBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EMPTY_DATA_SHA_256 = exports.SHA_256_HMAC_ALGO = exports.SHA_256_HASH = void 0;\nexports.SHA_256_HASH = { name: \"SHA-256\" };\nexports.SHA_256_HMAC_ALGO = {\n    name: \"HMAC\",\n    hash: exports.SHA_256_HASH\n};\nexports.EMPTY_DATA_SHA_256 = new Uint8Array([\n    227,\n    176,\n    196,\n    66,\n    152,\n    252,\n    28,\n    20,\n    154,\n    251,\n    244,\n    200,\n    153,\n    111,\n    185,\n    36,\n    39,\n    174,\n    65,\n    228,\n    100,\n    155,\n    147,\n    76,\n    164,\n    149,\n    153,\n    27,\n    120,\n    82,\n    184,\n    85\n]);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBYSxRQUFBLFlBQVksR0FBd0IsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUM7QUFFeEQsUUFBQSxpQkFBaUIsR0FBZ0Q7SUFDNUUsSUFBSSxFQUFFLE1BQU07SUFDWixJQUFJLEVBQUUsb0JBQVk7Q0FDbkIsQ0FBQztBQUVXLFFBQUEsa0JBQWtCLEdBQUcsSUFBSSxVQUFVLENBQUM7SUFDL0MsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEVBQUU7SUFDRixHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEVBQUU7SUFDRixHQUFHO0lBQ0gsRUFBRTtJQUNGLEdBQUc7SUFDSCxHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxFQUFFO0lBQ0YsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEdBQUc7SUFDSCxFQUFFO0lBQ0YsR0FBRztJQUNILEVBQUU7Q0FDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0hBXzI1Nl9IQVNIOiB7IG5hbWU6IFwiU0hBLTI1NlwiIH0gPSB7IG5hbWU6IFwiU0hBLTI1NlwiIH07XG5cbmV4cG9ydCBjb25zdCBTSEFfMjU2X0hNQUNfQUxHTzogeyBuYW1lOiBcIkhNQUNcIjsgaGFzaDogeyBuYW1lOiBcIlNIQS0yNTZcIiB9IH0gPSB7XG4gIG5hbWU6IFwiSE1BQ1wiLFxuICBoYXNoOiBTSEFfMjU2X0hBU0hcbn07XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9EQVRBX1NIQV8yNTYgPSBuZXcgVWludDhBcnJheShbXG4gIDIyNyxcbiAgMTc2LFxuICAxOTYsXG4gIDY2LFxuICAxNTIsXG4gIDI1MixcbiAgMjgsXG4gIDIwLFxuICAxNTQsXG4gIDI1MSxcbiAgMjQ0LFxuICAyMDAsXG4gIDE1MyxcbiAgMTExLFxuICAxODUsXG4gIDM2LFxuICAzOSxcbiAgMTc0LFxuICA2NSxcbiAgMjI4LFxuICAxMDAsXG4gIDE1NSxcbiAgMTQ3LFxuICA3NixcbiAgMTY0LFxuICAxNDksXG4gIDE1MyxcbiAgMjcsXG4gIDEyMCxcbiAgODIsXG4gIDE4NCxcbiAgODVcbl0pO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar util_1 = require(\"@aws-crypto/util\");\nvar constants_1 = require(\"./constants\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.toHash = new Uint8Array(0);\n        if (secret !== void 0) {\n            this.key = new Promise(function (resolve, reject) {\n                (0, util_locate_window_1.locateWindow)()\n                    .crypto.subtle.importKey(\"raw\", (0, util_1.convertToBuffer)(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"])\n                    .then(resolve, reject);\n            });\n            this.key.catch(function () { });\n        }\n    }\n    Sha256.prototype.update = function (data) {\n        if ((0, util_1.isEmptyData)(data)) {\n            return;\n        }\n        var update = (0, util_1.convertToBuffer)(data);\n        var typedArray = new Uint8Array(this.toHash.byteLength + update.byteLength);\n        typedArray.set(this.toHash, 0);\n        typedArray.set(update, this.toHash.byteLength);\n        this.toHash = typedArray;\n    };\n    Sha256.prototype.digest = function () {\n        var _this = this;\n        if (this.key) {\n            return this.key.then(function (key) {\n                return (0, util_locate_window_1.locateWindow)()\n                    .crypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, key, _this.toHash)\n                    .then(function (data) { return new Uint8Array(data); });\n            });\n        }\n        if ((0, util_1.isEmptyData)(this.toHash)) {\n            return Promise.resolve(constants_1.EMPTY_DATA_SHA_256);\n        }\n        return Promise.resolve()\n            .then(function () {\n            return (0, util_locate_window_1.locateWindow)().crypto.subtle.digest(constants_1.SHA_256_HASH, _this.toHash);\n        })\n            .then(function (data) { return Promise.resolve(new Uint8Array(data)); });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViQ3J5cHRvU2hhMjU2LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3dlYkNyeXB0b1NoYTI1Ni50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx5Q0FBZ0U7QUFDaEUseUNBSXFCO0FBQ3JCLGtFQUEyRDtBQUUzRDtJQUlFLGdCQUFZLE1BQW1CO1FBRnZCLFdBQU0sR0FBZSxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUc3QyxJQUFJLE1BQU0sS0FBSyxLQUFLLENBQUMsRUFBRTtZQUNyQixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07Z0JBQ3JDLElBQUEsaUNBQVksR0FBRTtxQkFDWCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FDdEIsS0FBSyxFQUNMLElBQUEsc0JBQWUsRUFBQyxNQUFNLENBQUMsRUFDdkIsNkJBQWlCLEVBQ2pCLEtBQUssRUFDTCxDQUFDLE1BQU0sQ0FBQyxDQUNUO3FCQUNBLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDM0IsQ0FBQyxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxjQUFPLENBQUMsQ0FBQyxDQUFDO1NBQzFCO0lBQ0gsQ0FBQztJQUVELHVCQUFNLEdBQU4sVUFBTyxJQUFnQjtRQUNyQixJQUFJLElBQUEsa0JBQVcsRUFBQyxJQUFJLENBQUMsRUFBRTtZQUNyQixPQUFPO1NBQ1I7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFBLHNCQUFlLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBTSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQzNDLENBQUM7UUFDRixVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0IsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsdUJBQU0sR0FBTjtRQUFBLGlCQWtCQztRQWpCQyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDWixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQUMsR0FBRztnQkFDdkIsT0FBQSxJQUFBLGlDQUFZLEdBQUU7cUJBQ1gsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsNkJBQWlCLEVBQUUsR0FBRyxFQUFFLEtBQUksQ0FBQyxNQUFNLENBQUM7cUJBQ3ZELElBQUksQ0FBQyxVQUFDLElBQUksSUFBSyxPQUFBLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFwQixDQUFvQixDQUFDO1lBRnZDLENBRXVDLENBQ3hDLENBQUM7U0FDSDtRQUVELElBQUksSUFBQSxrQkFBVyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUM1QixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsOEJBQWtCLENBQUMsQ0FBQztTQUM1QztRQUVELE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRTthQUNyQixJQUFJLENBQUM7WUFDSixPQUFBLElBQUEsaUNBQVksR0FBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLHdCQUFZLEVBQUUsS0FBSSxDQUFDLE1BQU0sQ0FBQztRQUE5RCxDQUE4RCxDQUMvRDthQUNBLElBQUksQ0FBQyxVQUFDLElBQUksSUFBSyxPQUFBLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBckMsQ0FBcUMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQyxBQXRERCxJQXNEQztBQXREWSx3QkFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhhc2gsIFNvdXJjZURhdGEgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGlzRW1wdHlEYXRhLCBjb252ZXJ0VG9CdWZmZXIgfSBmcm9tIFwiQGF3cy1jcnlwdG8vdXRpbFwiO1xuaW1wb3J0IHtcbiAgRU1QVFlfREFUQV9TSEFfMjU2LFxuICBTSEFfMjU2X0hBU0gsXG4gIFNIQV8yNTZfSE1BQ19BTEdPLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGxvY2F0ZVdpbmRvdyB9IGZyb20gXCJAYXdzLXNkay91dGlsLWxvY2F0ZS13aW5kb3dcIjtcblxuZXhwb3J0IGNsYXNzIFNoYTI1NiBpbXBsZW1lbnRzIEhhc2gge1xuICBwcml2YXRlIHJlYWRvbmx5IGtleTogUHJvbWlzZTxDcnlwdG9LZXk+IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHRvSGFzaDogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KDApO1xuXG4gIGNvbnN0cnVjdG9yKHNlY3JldD86IFNvdXJjZURhdGEpIHtcbiAgICBpZiAoc2VjcmV0ICE9PSB2b2lkIDApIHtcbiAgICAgIHRoaXMua2V5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsb2NhdGVXaW5kb3coKVxuICAgICAgICAgIC5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgICAgICAgIFwicmF3XCIsXG4gICAgICAgICAgICBjb252ZXJ0VG9CdWZmZXIoc2VjcmV0KSxcbiAgICAgICAgICAgIFNIQV8yNTZfSE1BQ19BTEdPLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBbXCJzaWduXCJdXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMua2V5LmNhdGNoKCgpID0+IHt9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZGF0YTogU291cmNlRGF0YSk6IHZvaWQge1xuICAgIGlmIChpc0VtcHR5RGF0YShkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZSA9IGNvbnZlcnRUb0J1ZmZlcihkYXRhKTtcbiAgICBjb25zdCB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICB0aGlzLnRvSGFzaC5ieXRlTGVuZ3RoICsgdXBkYXRlLmJ5dGVMZW5ndGhcbiAgICApO1xuICAgIHR5cGVkQXJyYXkuc2V0KHRoaXMudG9IYXNoLCAwKTtcbiAgICB0eXBlZEFycmF5LnNldCh1cGRhdGUsIHRoaXMudG9IYXNoLmJ5dGVMZW5ndGgpO1xuICAgIHRoaXMudG9IYXNoID0gdHlwZWRBcnJheTtcbiAgfVxuXG4gIGRpZ2VzdCgpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICBpZiAodGhpcy5rZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmtleS50aGVuKChrZXkpID0+XG4gICAgICAgIGxvY2F0ZVdpbmRvdygpXG4gICAgICAgICAgLmNyeXB0by5zdWJ0bGUuc2lnbihTSEFfMjU2X0hNQUNfQUxHTywga2V5LCB0aGlzLnRvSGFzaClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4gbmV3IFVpbnQ4QXJyYXkoZGF0YSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChpc0VtcHR5RGF0YSh0aGlzLnRvSGFzaCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoRU1QVFlfREFUQV9TSEFfMjU2KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+XG4gICAgICAgIGxvY2F0ZVdpbmRvdygpLmNyeXB0by5zdWJ0bGUuZGlnZXN0KFNIQV8yNTZfSEFTSCwgdGhpcy50b0hhc2gpXG4gICAgICApXG4gICAgICAudGhlbigoZGF0YSkgPT4gUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGRhdGEpKSk7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\n// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.numToUint8 = exports.isEmptyData = exports.convertToBuffer = void 0;\nvar convertToBuffer_1 = require(\"./convertToBuffer\");\nObject.defineProperty(exports, \"convertToBuffer\", { enumerable: true, get: function () { return convertToBuffer_1.convertToBuffer; } });\nvar isEmptyData_1 = require(\"./isEmptyData\");\nObject.defineProperty(exports, \"isEmptyData\", { enumerable: true, get: function () { return isEmptyData_1.isEmptyData; } });\nvar numToUint8_1 = require(\"./numToUint8\");\nObject.defineProperty(exports, \"numToUint8\", { enumerable: true, get: function () { return numToUint8_1.numToUint8; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLG9FQUFvRTtBQUNwRSxzQ0FBc0M7OztBQUV0QyxxREFBb0Q7QUFBM0Msa0hBQUEsZUFBZSxPQUFBO0FBQ3hCLDZDQUE0QztBQUFuQywwR0FBQSxXQUFXLE9BQUE7QUFDcEIsMkNBQTBDO0FBQWpDLHdHQUFBLFVBQVUsT0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuXG5leHBvcnQgeyBjb252ZXJ0VG9CdWZmZXIgfSBmcm9tIFwiLi9jb252ZXJ0VG9CdWZmZXJcIjtcbmV4cG9ydCB7IGlzRW1wdHlEYXRhIH0gZnJvbSBcIi4vaXNFbXB0eURhdGFcIjtcbmV4cG9ydCB7IG51bVRvVWludDggfSBmcm9tIFwiLi9udW1Ub1VpbnQ4XCI7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MAX_HASHABLE_LENGTH = exports.INIT = exports.KEY = exports.DIGEST_LENGTH = exports.BLOCK_SIZE = void 0;\n/**\n * @internal\n */\nexports.BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexports.DIGEST_LENGTH = 32;\n/**\n * @internal\n */\nexports.KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n/**\n * @internal\n */\nexports.INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19\n];\n/**\n * @internal\n */\nexports.MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTs7R0FFRztBQUNVLFFBQUEsVUFBVSxHQUFXLEVBQUUsQ0FBQztBQUVyQzs7R0FFRztBQUNVLFFBQUEsYUFBYSxHQUFXLEVBQUUsQ0FBQztBQUV4Qzs7R0FFRztBQUNVLFFBQUEsR0FBRyxHQUFHLElBQUksV0FBVyxDQUFDO0lBQ2pDLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7Q0FDWCxDQUFDLENBQUM7QUFFSDs7R0FFRztBQUNVLFFBQUEsSUFBSSxHQUFHO0lBQ2xCLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0NBQ1gsQ0FBQztBQUVGOztHQUVHO0FBQ1UsUUFBQSxtQkFBbUIsR0FBRyxTQUFBLENBQUMsRUFBSSxFQUFFLENBQUEsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQkxPQ0tfU0laRTogbnVtYmVyID0gNjQ7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBESUdFU1RfTEVOR1RIOiBudW1iZXIgPSAzMjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEtFWSA9IG5ldyBVaW50MzJBcnJheShbXG4gIDB4NDI4YTJmOTgsXG4gIDB4NzEzNzQ0OTEsXG4gIDB4YjVjMGZiY2YsXG4gIDB4ZTliNWRiYTUsXG4gIDB4Mzk1NmMyNWIsXG4gIDB4NTlmMTExZjEsXG4gIDB4OTIzZjgyYTQsXG4gIDB4YWIxYzVlZDUsXG4gIDB4ZDgwN2FhOTgsXG4gIDB4MTI4MzViMDEsXG4gIDB4MjQzMTg1YmUsXG4gIDB4NTUwYzdkYzMsXG4gIDB4NzJiZTVkNzQsXG4gIDB4ODBkZWIxZmUsXG4gIDB4OWJkYzA2YTcsXG4gIDB4YzE5YmYxNzQsXG4gIDB4ZTQ5YjY5YzEsXG4gIDB4ZWZiZTQ3ODYsXG4gIDB4MGZjMTlkYzYsXG4gIDB4MjQwY2ExY2MsXG4gIDB4MmRlOTJjNmYsXG4gIDB4NGE3NDg0YWEsXG4gIDB4NWNiMGE5ZGMsXG4gIDB4NzZmOTg4ZGEsXG4gIDB4OTgzZTUxNTIsXG4gIDB4YTgzMWM2NmQsXG4gIDB4YjAwMzI3YzgsXG4gIDB4YmY1OTdmYzcsXG4gIDB4YzZlMDBiZjMsXG4gIDB4ZDVhNzkxNDcsXG4gIDB4MDZjYTYzNTEsXG4gIDB4MTQyOTI5NjcsXG4gIDB4MjdiNzBhODUsXG4gIDB4MmUxYjIxMzgsXG4gIDB4NGQyYzZkZmMsXG4gIDB4NTMzODBkMTMsXG4gIDB4NjUwYTczNTQsXG4gIDB4NzY2YTBhYmIsXG4gIDB4ODFjMmM5MmUsXG4gIDB4OTI3MjJjODUsXG4gIDB4YTJiZmU4YTEsXG4gIDB4YTgxYTY2NGIsXG4gIDB4YzI0YjhiNzAsXG4gIDB4Yzc2YzUxYTMsXG4gIDB4ZDE5MmU4MTksXG4gIDB4ZDY5OTA2MjQsXG4gIDB4ZjQwZTM1ODUsXG4gIDB4MTA2YWEwNzAsXG4gIDB4MTlhNGMxMTYsXG4gIDB4MWUzNzZjMDgsXG4gIDB4Mjc0ODc3NGMsXG4gIDB4MzRiMGJjYjUsXG4gIDB4MzkxYzBjYjMsXG4gIDB4NGVkOGFhNGEsXG4gIDB4NWI5Y2NhNGYsXG4gIDB4NjgyZTZmZjMsXG4gIDB4NzQ4ZjgyZWUsXG4gIDB4NzhhNTYzNmYsXG4gIDB4ODRjODc4MTQsXG4gIDB4OGNjNzAyMDgsXG4gIDB4OTBiZWZmZmEsXG4gIDB4YTQ1MDZjZWIsXG4gIDB4YmVmOWEzZjcsXG4gIDB4YzY3MTc4ZjJcbl0pO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSU5JVCA9IFtcbiAgMHg2YTA5ZTY2NyxcbiAgMHhiYjY3YWU4NSxcbiAgMHgzYzZlZjM3MixcbiAgMHhhNTRmZjUzYSxcbiAgMHg1MTBlNTI3ZixcbiAgMHg5YjA1Njg4YyxcbiAgMHgxZjgzZDlhYixcbiAgMHg1YmUwY2QxOVxuXTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9IQVNIQUJMRV9MRU5HVEggPSAyICoqIDUzIC0gMTtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebCryptoSha256 = exports.Ie11Sha256 = void 0;\nvar tslib_1 = require(\"tslib\");\n(0, tslib_1.__exportStar)(require(\"./crossPlatformSha256\"), exports);\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nObject.defineProperty(exports, \"Ie11Sha256\", { enumerable: true, get: function () { return ie11Sha256_1.Sha256; } });\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nObject.defineProperty(exports, \"WebCryptoSha256\", { enumerable: true, get: function () { return webCryptoSha256_1.Sha256; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHFFQUFzQztBQUN0QywyQ0FBb0Q7QUFBM0Msd0dBQUEsTUFBTSxPQUFjO0FBQzdCLHFEQUE4RDtBQUFyRCxrSEFBQSxNQUFNLE9BQW1CIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vY3Jvc3NQbGF0Zm9ybVNoYTI1NlwiO1xuZXhwb3J0IHsgU2hhMjU2IGFzIEllMTFTaGEyNTYgfSBmcm9tIFwiLi9pZTExU2hhMjU2XCI7XG5leHBvcnQgeyBTaGEyNTYgYXMgV2ViQ3J5cHRvU2hhMjU2IH0gZnJvbSBcIi4vd2ViQ3J5cHRvU2hhMjU2XCI7XG4iXX0=","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));","'use strict';\n\nconst isObject = value => typeof value === 'object' && value !== null;\nconst mapObjectSkip = Symbol('skip');\n\n// Customized for this use-case\nconst isObjectCustom = value =>\n\tisObject(value) &&\n\t!(value instanceof RegExp) &&\n\t!(value instanceof Error) &&\n\t!(value instanceof Date);\n\nconst mapObject = (object, mapper, options, isSeen = new WeakMap()) => {\n\toptions = {\n\t\tdeep: false,\n\t\ttarget: {},\n\t\t...options\n\t};\n\n\tif (isSeen.has(object)) {\n\t\treturn isSeen.get(object);\n\t}\n\n\tisSeen.set(object, options.target);\n\n\tconst {target} = options;\n\tdelete options.target;\n\n\tconst mapArray = array => array.map(element => isObjectCustom(element) ? mapObject(element, mapper, options, isSeen) : element);\n\tif (Array.isArray(object)) {\n\t\treturn mapArray(object);\n\t}\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tconst mapResult = mapper(key, value, object);\n\n\t\tif (mapResult === mapObjectSkip) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [newKey, newValue, {shouldRecurse = true} = {}] = mapResult;\n\n\t\t// Drop `__proto__` keys.\n\t\tif (newKey === '__proto__') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n\t\t\tnewValue = Array.isArray(newValue) ?\n\t\t\t\tmapArray(newValue) :\n\t\t\t\tmapObject(newValue, mapper, options, isSeen);\n\t\t}\n\n\t\ttarget[newKey] = newValue;\n\t}\n\n\treturn target;\n};\n\nmodule.exports = (object, mapper, options) => {\n\tif (!isObject(object)) {\n\t\tthrow new TypeError(`Expected an object, got \\`${object}\\` (${typeof object})`);\n\t}\n\n\treturn mapObject(object, mapper, options);\n};\n\nmodule.exports.mapObjectSkip = mapObjectSkip;\n","'use strict';\n\nconst preserveCamelCase = string => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && /[a-zA-Z]/.test(character) && character.toUpperCase() === character) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(character) && character.toLowerCase() === character) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = character.toLowerCase() === character && character.toUpperCase() !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = character.toUpperCase() === character && character.toLowerCase() !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = Object.assign({\n\t\tpascalCase: false\n\t}, options);\n\n\tconst postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? input.toUpperCase() : input.toLowerCase();\n\t}\n\n\tconst hasUpperCase = input !== input.toLowerCase();\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input);\n\t}\n\n\tinput = input\n\t\t.replace(/^[_.\\- ]+/, '')\n\t\t.toLowerCase()\n\t\t.replace(/[_.\\- ]+(\\w|$)/g, (_, p1) => p1.toUpperCase())\n\t\t.replace(/\\d+(\\w|$)/g, m => m.toUpperCase());\n\n\treturn postProcess(input);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn this._size + oldCacheSize;\n\t}\n}\n\nmodule.exports = QuickLRU;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nvar sha256_js_1 = require(\"@aws-crypto/sha256-js\");\nvar supports_web_crypto_1 = require(\"@aws-crypto/supports-web-crypto\");\nvar ie11_detection_1 = require(\"@aws-crypto/ie11-detection\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if ((0, supports_web_crypto_1.supportsWebCrypto)((0, util_locate_window_1.locateWindow)())) {\n            this.hash = new webCryptoSha256_1.Sha256(secret);\n        }\n        else if ((0, ie11_detection_1.isMsWindow)((0, util_locate_window_1.locateWindow)())) {\n            this.hash = new ie11Sha256_1.Sha256(secret);\n        }\n        else {\n            this.hash = new sha256_js_1.Sha256(secret);\n        }\n    }\n    Sha256.prototype.update = function (data, encoding) {\n        this.hash.update(data, encoding);\n    };\n    Sha256.prototype.digest = function () {\n        return this.hash.digest();\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3Jvc3NQbGF0Zm9ybVNoYTI1Ni5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jcm9zc1BsYXRmb3JtU2hhMjU2LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFvRDtBQUNwRCxxREFBOEQ7QUFDOUQsbURBQTJEO0FBRTNELHVFQUFvRTtBQUNwRSw2REFBd0Q7QUFDeEQsa0VBQTJEO0FBRTNEO0lBR0UsZ0JBQVksTUFBbUI7UUFDN0IsSUFBSSxJQUFBLHVDQUFpQixFQUFDLElBQUEsaUNBQVksR0FBRSxDQUFDLEVBQUU7WUFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLHdCQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDekM7YUFBTSxJQUFJLElBQUEsMkJBQVUsRUFBQyxJQUFBLGlDQUFZLEdBQUUsQ0FBQyxFQUFFO1lBQ3JDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxtQkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3BDO2FBQU07WUFDTCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksa0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNsQztJQUNILENBQUM7SUFFRCx1QkFBTSxHQUFOLFVBQU8sSUFBZ0IsRUFBRSxRQUFzQztRQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELHVCQUFNLEdBQU47UUFDRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBcEJELElBb0JDO0FBcEJZLHdCQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2hhMjU2IGFzIEllMTFTaGEyNTYgfSBmcm9tIFwiLi9pZTExU2hhMjU2XCI7XG5pbXBvcnQgeyBTaGEyNTYgYXMgV2ViQ3J5cHRvU2hhMjU2IH0gZnJvbSBcIi4vd2ViQ3J5cHRvU2hhMjU2XCI7XG5pbXBvcnQgeyBTaGEyNTYgYXMgSnNTaGEyNTYgfSBmcm9tIFwiQGF3cy1jcnlwdG8vc2hhMjU2LWpzXCI7XG5pbXBvcnQgeyBIYXNoLCBTb3VyY2VEYXRhIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBzdXBwb3J0c1dlYkNyeXB0byB9IGZyb20gXCJAYXdzLWNyeXB0by9zdXBwb3J0cy13ZWItY3J5cHRvXCI7XG5pbXBvcnQgeyBpc01zV2luZG93IH0gZnJvbSBcIkBhd3MtY3J5cHRvL2llMTEtZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBsb2NhdGVXaW5kb3cgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1sb2NhdGUtd2luZG93XCI7XG5cbmV4cG9ydCBjbGFzcyBTaGEyNTYgaW1wbGVtZW50cyBIYXNoIHtcbiAgcHJpdmF0ZSByZWFkb25seSBoYXNoOiBIYXNoO1xuXG4gIGNvbnN0cnVjdG9yKHNlY3JldD86IFNvdXJjZURhdGEpIHtcbiAgICBpZiAoc3VwcG9ydHNXZWJDcnlwdG8obG9jYXRlV2luZG93KCkpKSB7XG4gICAgICB0aGlzLmhhc2ggPSBuZXcgV2ViQ3J5cHRvU2hhMjU2KHNlY3JldCk7XG4gICAgfSBlbHNlIGlmIChpc01zV2luZG93KGxvY2F0ZVdpbmRvdygpKSkge1xuICAgICAgdGhpcy5oYXNoID0gbmV3IEllMTFTaGEyNTYoc2VjcmV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYXNoID0gbmV3IEpzU2hhMjU2KHNlY3JldCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKGRhdGE6IFNvdXJjZURhdGEsIGVuY29kaW5nPzogXCJ1dGY4XCIgfCBcImFzY2lpXCIgfCBcImxhdGluMVwiKTogdm9pZCB7XG4gICAgdGhpcy5oYXNoLnVwZGF0ZShkYXRhLCBlbmNvZGluZyk7XG4gIH1cblxuICBkaWdlc3QoKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaC5kaWdlc3QoKTtcbiAgfVxufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmptyData = void 0;\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nexports.isEmptyData = isEmptyData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNFbXB0eURhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaXNFbXB0eURhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsU0FBZ0IsV0FBVyxDQUFDLElBQWdCO0lBQzFDLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLE9BQU8sSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7S0FDMUI7SUFFRCxPQUFPLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFORCxrQ0FNQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvdXJjZURhdGEgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlEYXRhKGRhdGE6IFNvdXJjZURhdGEpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuYnl0ZUxlbmd0aCA9PT0gMDtcbn1cbiJdfQ==","\"use strict\";\n// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertToBuffer = void 0;\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\n// Quick polyfill\nvar fromUtf8 = typeof Buffer !== \"undefined\" && Buffer.from\n    ? function (input) { return Buffer.from(input, \"utf8\"); }\n    : util_utf8_browser_1.fromUtf8;\nfunction convertToBuffer(data) {\n    // Already a Uint8, do nothing\n    if (data instanceof Uint8Array)\n        return data;\n    if (typeof data === \"string\") {\n        return fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\nexports.convertToBuffer = convertToBuffer;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udmVydFRvQnVmZmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnZlcnRUb0J1ZmZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsb0VBQW9FO0FBQ3BFLHNDQUFzQzs7O0FBR3RDLGdFQUF5RTtBQUV6RSxpQkFBaUI7QUFDakIsSUFBTSxRQUFRLEdBQ1osT0FBTyxNQUFNLEtBQUssV0FBVyxJQUFJLE1BQU0sQ0FBQyxJQUFJO0lBQzFDLENBQUMsQ0FBQyxVQUFDLEtBQWEsSUFBSyxPQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUExQixDQUEwQjtJQUMvQyxDQUFDLENBQUMsNEJBQWUsQ0FBQztBQUV0QixTQUFnQixlQUFlLENBQUMsSUFBZ0I7SUFDOUMsOEJBQThCO0lBQzlCLElBQUksSUFBSSxZQUFZLFVBQVU7UUFBRSxPQUFPLElBQUksQ0FBQztJQUU1QyxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUM1QixPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN2QjtJQUVELElBQUksV0FBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM1QixPQUFPLElBQUksVUFBVSxDQUNuQixJQUFJLENBQUMsTUFBTSxFQUNYLElBQUksQ0FBQyxVQUFVLEVBQ2YsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsaUJBQWlCLENBQy9DLENBQUM7S0FDSDtJQUVELE9BQU8sSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDOUIsQ0FBQztBQWpCRCwwQ0FpQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcblxuaW1wb3J0IHsgU291cmNlRGF0YSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgZnJvbVV0ZjggYXMgZnJvbVV0ZjhCcm93c2VyIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXRmOC1icm93c2VyXCI7XG5cbi8vIFF1aWNrIHBvbHlmaWxsXG5jb25zdCBmcm9tVXRmOCA9XG4gIHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgQnVmZmVyLmZyb21cbiAgICA/IChpbnB1dDogc3RyaW5nKSA9PiBCdWZmZXIuZnJvbShpbnB1dCwgXCJ1dGY4XCIpXG4gICAgOiBmcm9tVXRmOEJyb3dzZXI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9CdWZmZXIoZGF0YTogU291cmNlRGF0YSk6IFVpbnQ4QXJyYXkge1xuICAvLyBBbHJlYWR5IGEgVWludDgsIGRvIG5vdGhpbmdcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSByZXR1cm4gZGF0YTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gIH1cblxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFxuICAgICAgZGF0YS5idWZmZXIsXG4gICAgICBkYXRhLmJ5dGVPZmZzZXQsXG4gICAgICBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbn1cbiJdfQ==","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\"use strict\";\n// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmptyData = void 0;\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nexports.isEmptyData = isEmptyData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNFbXB0eURhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaXNFbXB0eURhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLG9FQUFvRTtBQUNwRSxzQ0FBc0M7OztBQUl0QyxTQUFnQixXQUFXLENBQUMsSUFBZ0I7SUFDMUMsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztLQUMxQjtJQUVELE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQU5ELGtDQU1DIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20gSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5cbmltcG9ydCB7IFNvdXJjZURhdGEgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlEYXRhKGRhdGE6IFNvdXJjZURhdGEpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuYnl0ZUxlbmd0aCA9PT0gMDtcbn1cbiJdfQ==","\"use strict\";\n// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.numToUint8 = void 0;\nfunction numToUint8(num) {\n    return new Uint8Array([\n        (num & 0xff000000) >> 24,\n        (num & 0x00ff0000) >> 16,\n        (num & 0x0000ff00) >> 8,\n        num & 0x000000ff,\n    ]);\n}\nexports.numToUint8 = numToUint8;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnVtVG9VaW50OC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9udW1Ub1VpbnQ4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxvRUFBb0U7QUFDcEUsc0NBQXNDOzs7QUFFdEMsU0FBZ0IsVUFBVSxDQUFDLEdBQVc7SUFDcEMsT0FBTyxJQUFJLFVBQVUsQ0FBQztRQUNwQixDQUFDLEdBQUcsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFO1FBQ3hCLENBQUMsR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUU7UUFDeEIsQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztRQUN2QixHQUFHLEdBQUcsVUFBVTtLQUNqQixDQUFDLENBQUM7QUFDTCxDQUFDO0FBUEQsZ0NBT0MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcblxuZXhwb3J0IGZ1bmN0aW9uIG51bVRvVWludDgobnVtOiBudW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtcbiAgICAobnVtICYgMHhmZjAwMDAwMCkgPj4gMjQsXG4gICAgKG51bSAmIDB4MDBmZjAwMDApID4+IDE2LFxuICAgIChudW0gJiAweDAwMDBmZjAwKSA+PiA4LFxuICAgIG51bSAmIDB4MDAwMDAwZmYsXG4gIF0pO1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n(0, tslib_1.__exportStar)(require(\"./jsSha256\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMERBQTJCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vanNTaGEyNTZcIjtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar RawSha256_1 = require(\"./RawSha256\");\nvar util_1 = require(\"@aws-crypto/util\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.hash = new RawSha256_1.RawSha256();\n        if (secret) {\n            this.outer = new RawSha256_1.RawSha256();\n            var inner = bufferFromSecret(secret);\n            var outer = new Uint8Array(constants_1.BLOCK_SIZE);\n            outer.set(inner);\n            for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n                inner[i] ^= 0x36;\n                outer[i] ^= 0x5c;\n            }\n            this.hash.update(inner);\n            this.outer.update(outer);\n            // overwrite the copied key in memory\n            for (var i = 0; i < inner.byteLength; i++) {\n                inner[i] = 0;\n            }\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        if ((0, util_1.isEmptyData)(toHash) || this.error) {\n            return;\n        }\n        try {\n            this.hash.update((0, util_1.convertToBuffer)(toHash));\n        }\n        catch (e) {\n            this.error = e;\n        }\n    };\n    /* This synchronous method keeps compatibility\n     * with the v2 aws-sdk.\n     */\n    Sha256.prototype.digestSync = function () {\n        if (this.error) {\n            throw this.error;\n        }\n        if (this.outer) {\n            if (!this.outer.finished) {\n                this.outer.update(this.hash.digest());\n            }\n            return this.outer.digest();\n        }\n        return this.hash.digest();\n    };\n    /* The underlying digest method here is synchronous.\n     * To keep the same interface with the other hash functions\n     * the default is to expose this as an async method.\n     * However, it can sometimes be useful to have a sync method.\n     */\n    Sha256.prototype.digest = function () {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            return (0, tslib_1.__generator)(this, function (_a) {\n                return [2 /*return*/, this.digestSync()];\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction bufferFromSecret(secret) {\n    var input = (0, util_1.convertToBuffer)(secret);\n    if (input.byteLength > constants_1.BLOCK_SIZE) {\n        var bufferHash = new RawSha256_1.RawSha256();\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(constants_1.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNTaGEyNTYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvanNTaGEyNTYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHlDQUF5QztBQUN6Qyx5Q0FBd0M7QUFFeEMseUNBQWdFO0FBRWhFO0lBS0UsZ0JBQVksTUFBbUI7UUFKZCxTQUFJLEdBQUcsSUFBSSxxQkFBUyxFQUFFLENBQUM7UUFLdEMsSUFBSSxNQUFNLEVBQUU7WUFDVixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUkscUJBQVMsRUFBRSxDQUFDO1lBQzdCLElBQU0sS0FBSyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZDLElBQU0sS0FBSyxHQUFHLElBQUksVUFBVSxDQUFDLHNCQUFVLENBQUMsQ0FBQztZQUN6QyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxzQkFBVSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO2dCQUNqQixLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO2FBQ2xCO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFekIscUNBQXFDO1lBQ3JDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN6QyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2Q7U0FDRjtJQUNILENBQUM7SUFFRCx1QkFBTSxHQUFOLFVBQU8sTUFBa0I7UUFDdkIsSUFBSSxJQUFBLGtCQUFXLEVBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNyQyxPQUFPO1NBQ1I7UUFFRCxJQUFJO1lBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBQSxzQkFBZSxFQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7U0FDM0M7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1NBQ2hCO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsMkJBQVUsR0FBVjtRQUNFLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNsQjtRQUVELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO2FBQ3ZDO1lBRUQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQzVCO1FBRUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0csdUJBQU0sR0FBWjs7O2dCQUNFLHNCQUFPLElBQUksQ0FBQyxVQUFVLEVBQUUsRUFBQzs7O0tBQzFCO0lBQ0gsYUFBQztBQUFELENBQUMsQUFsRUQsSUFrRUM7QUFsRVksd0JBQU07QUFvRW5CLFNBQVMsZ0JBQWdCLENBQUMsTUFBa0I7SUFDMUMsSUFBSSxLQUFLLEdBQUcsSUFBQSxzQkFBZSxFQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRXBDLElBQUksS0FBSyxDQUFDLFVBQVUsR0FBRyxzQkFBVSxFQUFFO1FBQ2pDLElBQU0sVUFBVSxHQUFHLElBQUkscUJBQVMsRUFBRSxDQUFDO1FBQ25DLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsS0FBSyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUM3QjtJQUVELElBQU0sTUFBTSxHQUFHLElBQUksVUFBVSxDQUFDLHNCQUFVLENBQUMsQ0FBQztJQUMxQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCTE9DS19TSVpFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBSYXdTaGEyNTYgfSBmcm9tIFwiLi9SYXdTaGEyNTZcIjtcbmltcG9ydCB7IEhhc2gsIFNvdXJjZURhdGEgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGlzRW1wdHlEYXRhLCBjb252ZXJ0VG9CdWZmZXIgfSBmcm9tIFwiQGF3cy1jcnlwdG8vdXRpbFwiO1xuXG5leHBvcnQgY2xhc3MgU2hhMjU2IGltcGxlbWVudHMgSGFzaCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGFzaCA9IG5ldyBSYXdTaGEyNTYoKTtcbiAgcHJpdmF0ZSByZWFkb25seSBvdXRlcj86IFJhd1NoYTI1NjtcbiAgcHJpdmF0ZSBlcnJvcjogYW55O1xuXG4gIGNvbnN0cnVjdG9yKHNlY3JldD86IFNvdXJjZURhdGEpIHtcbiAgICBpZiAoc2VjcmV0KSB7XG4gICAgICB0aGlzLm91dGVyID0gbmV3IFJhd1NoYTI1NigpO1xuICAgICAgY29uc3QgaW5uZXIgPSBidWZmZXJGcm9tU2VjcmV0KHNlY3JldCk7XG4gICAgICBjb25zdCBvdXRlciA9IG5ldyBVaW50OEFycmF5KEJMT0NLX1NJWkUpO1xuICAgICAgb3V0ZXIuc2V0KGlubmVyKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBCTE9DS19TSVpFOyBpKyspIHtcbiAgICAgICAgaW5uZXJbaV0gXj0gMHgzNjtcbiAgICAgICAgb3V0ZXJbaV0gXj0gMHg1YztcbiAgICAgIH1cblxuICAgICAgdGhpcy5oYXNoLnVwZGF0ZShpbm5lcik7XG4gICAgICB0aGlzLm91dGVyLnVwZGF0ZShvdXRlcik7XG5cbiAgICAgIC8vIG92ZXJ3cml0ZSB0aGUgY29waWVkIGtleSBpbiBtZW1vcnlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5uZXIuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlubmVyW2ldID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUodG9IYXNoOiBTb3VyY2VEYXRhKTogdm9pZCB7XG4gICAgaWYgKGlzRW1wdHlEYXRhKHRvSGFzaCkgfHwgdGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmhhc2gudXBkYXRlKGNvbnZlcnRUb0J1ZmZlcih0b0hhc2gpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmVycm9yID0gZTtcbiAgICB9XG4gIH1cblxuICAvKiBUaGlzIHN5bmNocm9ub3VzIG1ldGhvZCBrZWVwcyBjb21wYXRpYmlsaXR5XG4gICAqIHdpdGggdGhlIHYyIGF3cy1zZGsuXG4gICAqL1xuICBkaWdlc3RTeW5jKCk6IFVpbnQ4QXJyYXkge1xuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm91dGVyKSB7XG4gICAgICBpZiAoIXRoaXMub3V0ZXIuZmluaXNoZWQpIHtcbiAgICAgICAgdGhpcy5vdXRlci51cGRhdGUodGhpcy5oYXNoLmRpZ2VzdCgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMub3V0ZXIuZGlnZXN0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaGFzaC5kaWdlc3QoKTtcbiAgfVxuXG4gIC8qIFRoZSB1bmRlcmx5aW5nIGRpZ2VzdCBtZXRob2QgaGVyZSBpcyBzeW5jaHJvbm91cy5cbiAgICogVG8ga2VlcCB0aGUgc2FtZSBpbnRlcmZhY2Ugd2l0aCB0aGUgb3RoZXIgaGFzaCBmdW5jdGlvbnNcbiAgICogdGhlIGRlZmF1bHQgaXMgdG8gZXhwb3NlIHRoaXMgYXMgYW4gYXN5bmMgbWV0aG9kLlxuICAgKiBIb3dldmVyLCBpdCBjYW4gc29tZXRpbWVzIGJlIHVzZWZ1bCB0byBoYXZlIGEgc3luYyBtZXRob2QuXG4gICAqL1xuICBhc3luYyBkaWdlc3QoKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gICAgcmV0dXJuIHRoaXMuZGlnZXN0U3luYygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckZyb21TZWNyZXQoc2VjcmV0OiBTb3VyY2VEYXRhKTogVWludDhBcnJheSB7XG4gIGxldCBpbnB1dCA9IGNvbnZlcnRUb0J1ZmZlcihzZWNyZXQpO1xuXG4gIGlmIChpbnB1dC5ieXRlTGVuZ3RoID4gQkxPQ0tfU0laRSkge1xuICAgIGNvbnN0IGJ1ZmZlckhhc2ggPSBuZXcgUmF3U2hhMjU2KCk7XG4gICAgYnVmZmVySGFzaC51cGRhdGUoaW5wdXQpO1xuICAgIGlucHV0ID0gYnVmZmVySGFzaC5kaWdlc3QoKTtcbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KEJMT0NLX1NJWkUpO1xuICBidWZmZXIuc2V0KGlucHV0KTtcbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RawSha256 = void 0;\nvar constants_1 = require(\"./constants\");\n/**\n * @internal\n */\nvar RawSha256 = /** @class */ (function () {\n    function RawSha256() {\n        this.state = Int32Array.from(constants_1.INIT);\n        this.temp = new Int32Array(64);\n        this.buffer = new Uint8Array(64);\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        /**\n         * @internal\n         */\n        this.finished = false;\n    }\n    RawSha256.prototype.update = function (data) {\n        if (this.finished) {\n            throw new Error(\"Attempted to update an already finished hash.\");\n        }\n        var position = 0;\n        var byteLength = data.byteLength;\n        this.bytesHashed += byteLength;\n        if (this.bytesHashed * 8 > constants_1.MAX_HASHABLE_LENGTH) {\n            throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n        }\n        while (byteLength > 0) {\n            this.buffer[this.bufferLength++] = data[position++];\n            byteLength--;\n            if (this.bufferLength === constants_1.BLOCK_SIZE) {\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n        }\n    };\n    RawSha256.prototype.digest = function () {\n        if (!this.finished) {\n            var bitsHashed = this.bytesHashed * 8;\n            var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n            var undecoratedLength = this.bufferLength;\n            bufferView.setUint8(this.bufferLength++, 0x80);\n            // Ensure the final block has enough room for the hashed length\n            if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n                for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n                    bufferView.setUint8(i, 0);\n                }\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n            for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 4, bitsHashed);\n            this.hashBuffer();\n            this.finished = true;\n        }\n        // The value in state is little-endian rather than big-endian, so flip\n        // each word into a new Uint8Array\n        var out = new Uint8Array(constants_1.DIGEST_LENGTH);\n        for (var i = 0; i < 8; i++) {\n            out[i * 4] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return out;\n    };\n    RawSha256.prototype.hashBuffer = function () {\n        var _a = this, buffer = _a.buffer, state = _a.state;\n        var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];\n        for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n            if (i < 16) {\n                this.temp[i] =\n                    ((buffer[i * 4] & 0xff) << 24) |\n                        ((buffer[i * 4 + 1] & 0xff) << 16) |\n                        ((buffer[i * 4 + 2] & 0xff) << 8) |\n                        (buffer[i * 4 + 3] & 0xff);\n            }\n            else {\n                var u = this.temp[i - 2];\n                var t1_1 = ((u >>> 17) | (u << 15)) ^ ((u >>> 19) | (u << 13)) ^ (u >>> 10);\n                u = this.temp[i - 15];\n                var t2_1 = ((u >>> 7) | (u << 25)) ^ ((u >>> 18) | (u << 14)) ^ (u >>> 3);\n                this.temp[i] =\n                    ((t1_1 + this.temp[i - 7]) | 0) + ((t2_1 + this.temp[i - 16]) | 0);\n            }\n            var t1 = ((((((state4 >>> 6) | (state4 << 26)) ^\n                ((state4 >>> 11) | (state4 << 21)) ^\n                ((state4 >>> 25) | (state4 << 7))) +\n                ((state4 & state5) ^ (~state4 & state6))) |\n                0) +\n                ((state7 + ((constants_1.KEY[i] + this.temp[i]) | 0)) | 0)) |\n                0;\n            var t2 = ((((state0 >>> 2) | (state0 << 30)) ^\n                ((state0 >>> 13) | (state0 << 19)) ^\n                ((state0 >>> 22) | (state0 << 10))) +\n                ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) |\n                0;\n            state7 = state6;\n            state6 = state5;\n            state5 = state4;\n            state4 = (state3 + t1) | 0;\n            state3 = state2;\n            state2 = state1;\n            state1 = state0;\n            state0 = (t1 + t2) | 0;\n        }\n        state[0] += state0;\n        state[1] += state1;\n        state[2] += state2;\n        state[3] += state3;\n        state[4] += state4;\n        state[5] += state5;\n        state[6] += state6;\n        state[7] += state7;\n    };\n    return RawSha256;\n}());\nexports.RawSha256 = RawSha256;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmF3U2hhMjU2LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL1Jhd1NoYTI1Ni50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx5Q0FNcUI7QUFFckI7O0dBRUc7QUFDSDtJQUFBO1FBQ1UsVUFBSyxHQUFlLFVBQVUsQ0FBQyxJQUFJLENBQUMsZ0JBQUksQ0FBQyxDQUFDO1FBQzFDLFNBQUksR0FBZSxJQUFJLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN0QyxXQUFNLEdBQWUsSUFBSSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEMsaUJBQVksR0FBVyxDQUFDLENBQUM7UUFDekIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7UUFFaEM7O1dBRUc7UUFDSCxhQUFRLEdBQVksS0FBSyxDQUFDO0lBOEk1QixDQUFDO0lBNUlDLDBCQUFNLEdBQU4sVUFBTyxJQUFnQjtRQUNyQixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1NBQ2xFO1FBRUQsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBQSxVQUFVLEdBQUssSUFBSSxXQUFULENBQVU7UUFDMUIsSUFBSSxDQUFDLFdBQVcsSUFBSSxVQUFVLENBQUM7UUFFL0IsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsR0FBRywrQkFBbUIsRUFBRTtZQUM5QyxNQUFNLElBQUksS0FBSyxDQUFDLHFDQUFxQyxDQUFDLENBQUM7U0FDeEQ7UUFFRCxPQUFPLFVBQVUsR0FBRyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztZQUNwRCxVQUFVLEVBQUUsQ0FBQztZQUViLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxzQkFBVSxFQUFFO2dCQUNwQyxJQUFJLENBQUMsVUFB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LENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztnQkFFbkUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO2dCQUN0QixJQUFNLElBQUUsR0FDTixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUVqRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDVixDQUFDLENBQUMsSUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ2xFO1lBRUQsSUFBTSxFQUFFLEdBQ04sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUNuQyxDQUFDLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUNsQyxDQUFDLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN6QyxDQUFDLENBQUM7Z0JBQ0YsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsZUFBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNqRCxDQUFDLENBQUM7WUFFSixJQUFNLEVBQUUsR0FDTixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFDakMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFDbEMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxDQUFDLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQzlELENBQUMsQ0FBQztZQUVKLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDaEIsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUNoQixNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ2hCLE1BQU0sR0FBRyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDM0IsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUNoQixNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ2hCLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDaEIsTUFBTSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN4QjtRQUVELEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUM7UUFDbkIsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQztRQUNuQixLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDO1FBQ25CLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUM7UUFDbkIsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQztRQUNuQixLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDO1FBQ25CLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUM7UUFDbkIsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLEFBeEpELElBd0pDO0FBeEpZLDhCQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQkxPQ0tfU0laRSxcbiAgRElHRVNUX0xFTkdUSCxcbiAgSU5JVCxcbiAgS0VZLFxuICBNQVhfSEFTSEFCTEVfTEVOR1RIXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgUmF3U2hhMjU2IHtcbiAgcHJpdmF0ZSBzdGF0ZTogSW50MzJBcnJheSA9IEludDMyQXJyYXkuZnJvbShJTklUKTtcbiAgcHJpdmF0ZSB0ZW1wOiBJbnQzMkFycmF5ID0gbmV3IEludDMyQXJyYXkoNjQpO1xuICBwcml2YXRlIGJ1ZmZlcjogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KDY0KTtcbiAgcHJpdmF0ZSBidWZmZXJMZW5ndGg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgYnl0ZXNIYXNoZWQ6IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZmluaXNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICB1cGRhdGUoZGF0YTogVWludDhBcnJheSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC5cIik7XG4gICAgfVxuXG4gICAgbGV0IHBvc2l0aW9uID0gMDtcbiAgICBsZXQgeyBieXRlTGVuZ3RoIH0gPSBkYXRhO1xuICAgIHRoaXMuYnl0ZXNIYXNoZWQgKz0gYnl0ZUxlbmd0aDtcblxuICAgIGlmICh0aGlzLmJ5dGVzSGFzaGVkICogOCA+IE1BWF9IQVNIQUJMRV9MRU5HVEgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYXNoIG1vcmUgdGhhbiAyXjUzIC0gMSBiaXRzXCIpO1xuICAgIH1cblxuICAgIHdoaWxlIChieXRlTGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJMZW5ndGgrK10gPSBkYXRhW3Bvc2l0aW9uKytdO1xuICAgICAgYnl0ZUxlbmd0aC0tO1xuXG4gICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPT09IEJMT0NLX1NJWkUpIHtcbiAgICAgICAgdGhpcy5oYXNoQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkaWdlc3QoKTogVWludDhBcnJheSB7XG4gICAgaWYgKCF0aGlzLmZpbmlzaGVkKSB7XG4gICAgICBjb25zdCBiaXRzSGFzaGVkID0gdGhpcy5ieXRlc0hhc2hlZCAqIDg7XG4gICAgICBjb25zdCBidWZmZXJWaWV3ID0gbmV3IERhdGFWaWV3KFxuICAgICAgICB0aGlzLmJ1ZmZlci5idWZmZXIsXG4gICAgICAgIHRoaXMuYnVmZmVyLmJ5dGVPZmZzZXQsXG4gICAgICAgIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHVuZGVjb3JhdGVkTGVuZ3RoID0gdGhpcy5idWZmZXJMZW5ndGg7XG4gICAgICBidWZmZXJWaWV3LnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssIDB4ODApO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGZpbmFsIGJsb2NrIGhhcyBlbm91Z2ggcm9vbSBmb3IgdGhlIGhhc2hlZCBsZW5ndGhcbiAgICAgIGlmICh1bmRlY29yYXRlZExlbmd0aCAlIEJMT0NLX1NJWkUgPj0gQkxPQ0tfU0laRSAtIDgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYnVmZmVyTGVuZ3RoOyBpIDwgQkxPQ0tfU0laRTsgaSsrKSB7XG4gICAgICAgICAgYnVmZmVyVmlldy5zZXRVaW50OChpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc2hCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5idWZmZXJMZW5ndGg7IGkgPCBCTE9DS19TSVpFIC0gODsgaSsrKSB7XG4gICAgICAgIGJ1ZmZlclZpZXcuc2V0VWludDgoaSwgMCk7XG4gICAgICB9XG4gICAgICBidWZmZXJWaWV3LnNldFVpbnQzMihcbiAgICAgICAgQkxPQ0tfU0laRSAtIDgsXG4gICAgICAgIE1hdGguZmxvb3IoYml0c0hhc2hlZCAvIDB4MTAwMDAwMDAwKSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIGJ1ZmZlclZpZXcuc2V0VWludDMyKEJMT0NLX1NJWkUgLSA0LCBiaXRzSGFzaGVkKTtcblxuICAgICAgdGhpcy5oYXNoQnVmZmVyKCk7XG5cbiAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIFRoZSB2YWx1ZSBpbiBzdGF0ZSBpcyBsaXR0bGUtZW5kaWFuIHJhdGhlciB0aGFuIGJpZy1lbmRpYW4sIHNvIGZsaXBcbiAgICAvLyBlYWNoIHdvcmQgaW50byBhIG5ldyBVaW50OEFycmF5XG4gICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoRElHRVNUX0xFTkdUSCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgIG91dFtpICogNF0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMjQpICYgMHhmZjtcbiAgICAgIG91dFtpICogNCArIDFdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICBvdXRbaSAqIDQgKyAyXSA9ICh0aGlzLnN0YXRlW2ldID4+PiA4KSAmIDB4ZmY7XG4gICAgICBvdXRbaSAqIDQgKyAzXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAwKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIHByaXZhdGUgaGFzaEJ1ZmZlcigpOiB2b2lkIHtcbiAgICBjb25zdCB7IGJ1ZmZlciwgc3RhdGUgfSA9IHRoaXM7XG5cbiAgICBsZXQgc3RhdGUwID0gc3RhdGVbMF0sXG4gICAgICBzdGF0ZTEgPSBzdGF0ZVsxXSxcbiAgICAgIHN0YXRlMiA9IHN0YXRlWzJdLFxuICAgICAgc3RhdGUzID0gc3RhdGVbM10sXG4gICAgICBzdGF0ZTQgPSBzdGF0ZVs0XSxcbiAgICAgIHN0YXRlNSA9IHN0YXRlWzVdLFxuICAgICAgc3RhdGU2ID0gc3RhdGVbNl0sXG4gICAgICBzdGF0ZTcgPSBzdGF0ZVs3XTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQkxPQ0tfU0laRTsgaSsrKSB7XG4gICAgICBpZiAoaSA8IDE2KSB7XG4gICAgICAgIHRoaXMudGVtcFtpXSA9XG4gICAgICAgICAgKChidWZmZXJbaSAqIDRdICYgMHhmZikgPDwgMjQpIHxcbiAgICAgICAgICAoKGJ1ZmZlcltpICogNCArIDFdICYgMHhmZikgPDwgMTYpIHxcbiAgICAgICAgICAoKGJ1ZmZlcltpICogNCArIDJdICYgMHhmZikgPDwgOCkgfFxuICAgICAgICAgIChidWZmZXJbaSAqIDQgKyAzXSAmIDB4ZmYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHUgPSB0aGlzLnRlbXBbaSAtIDJdO1xuICAgICAgICBjb25zdCB0MSA9XG4gICAgICAgICAgKCh1ID4+PiAxNykgfCAodSA8PCAxNSkpIF4gKCh1ID4+PiAxOSkgfCAodSA8PCAxMykpIF4gKHUgPj4+IDEwKTtcblxuICAgICAgICB1ID0gdGhpcy50ZW1wW2kgLSAxNV07XG4gICAgICAgIGNvbnN0IHQyID1cbiAgICAgICAgICAoKHUgPj4+IDcpIHwgKHUgPDwgMjUpKSBeICgodSA+Pj4gMTgpIHwgKHUgPDwgMTQpKSBeICh1ID4+PiAzKTtcblxuICAgICAgICB0aGlzLnRlbXBbaV0gPVxuICAgICAgICAgICgodDEgKyB0aGlzLnRlbXBbaSAtIDddKSB8IDApICsgKCh0MiArIHRoaXMudGVtcFtpIC0gMTZdKSB8IDApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0MSA9XG4gICAgICAgICgoKCgoKHN0YXRlNCA+Pj4gNikgfCAoc3RhdGU0IDw8IDI2KSkgXlxuICAgICAgICAgICgoc3RhdGU0ID4+PiAxMSkgfCAoc3RhdGU0IDw8IDIxKSkgXlxuICAgICAgICAgICgoc3RhdGU0ID4+PiAyNSkgfCAoc3RhdGU0IDw8IDcpKSkgK1xuICAgICAgICAgICgoc3RhdGU0ICYgc3RhdGU1KSBeICh+c3RhdGU0ICYgc3RhdGU2KSkpIHxcbiAgICAgICAgICAwKSArXG4gICAgICAgICAgKChzdGF0ZTcgKyAoKEtFWVtpXSArIHRoaXMudGVtcFtpXSkgfCAwKSkgfCAwKSkgfFxuICAgICAgICAwO1xuXG4gICAgICBjb25zdCB0MiA9XG4gICAgICAgICgoKChzdGF0ZTAgPj4+IDIpIHwgKHN0YXRlMCA8PCAzMCkpIF5cbiAgICAgICAgICAoKHN0YXRlMCA+Pj4gMTMpIHwgKHN0YXRlMCA8PCAxOSkpIF5cbiAgICAgICAgICAoKHN0YXRlMCA+Pj4gMjIpIHwgKHN0YXRlMCA8PCAxMCkpKSArXG4gICAgICAgICAgKChzdGF0ZTAgJiBzdGF0ZTEpIF4gKHN0YXRlMCAmIHN0YXRlMikgXiAoc3RhdGUxICYgc3RhdGUyKSkpIHxcbiAgICAgICAgMDtcblxuICAgICAgc3RhdGU3ID0gc3RhdGU2O1xuICAgICAgc3RhdGU2ID0gc3RhdGU1O1xuICAgICAgc3RhdGU1ID0gc3RhdGU0O1xuICAgICAgc3RhdGU0ID0gKHN0YXRlMyArIHQxKSB8IDA7XG4gICAgICBzdGF0ZTMgPSBzdGF0ZTI7XG4gICAgICBzdGF0ZTIgPSBzdGF0ZTE7XG4gICAgICBzdGF0ZTEgPSBzdGF0ZTA7XG4gICAgICBzdGF0ZTAgPSAodDEgKyB0MikgfCAwO1xuICAgIH1cblxuICAgIHN0YXRlWzBdICs9IHN0YXRlMDtcbiAgICBzdGF0ZVsxXSArPSBzdGF0ZTE7XG4gICAgc3RhdGVbMl0gKz0gc3RhdGUyO1xuICAgIHN0YXRlWzNdICs9IHN0YXRlMztcbiAgICBzdGF0ZVs0XSArPSBzdGF0ZTQ7XG4gICAgc3RhdGVbNV0gKz0gc3RhdGU1O1xuICAgIHN0YXRlWzZdICs9IHN0YXRlNjtcbiAgICBzdGF0ZVs3XSArPSBzdGF0ZTc7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./supportsWebCrypto\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsOERBQW9DIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vc3VwcG9ydHNXZWJDcnlwdG9cIjtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supportsZeroByteGCM = exports.supportsSubtleCrypto = exports.supportsSecureRandom = exports.supportsWebCrypto = void 0;\nvar tslib_1 = require(\"tslib\");\nvar subtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction supportsWebCrypto(window) {\n    if (supportsSecureRandom(window) &&\n        typeof window.crypto.subtle === \"object\") {\n        var subtle = window.crypto.subtle;\n        return supportsSubtleCrypto(subtle);\n    }\n    return false;\n}\nexports.supportsWebCrypto = supportsWebCrypto;\nfunction supportsSecureRandom(window) {\n    if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n        var getRandomValues = window.crypto.getRandomValues;\n        return typeof getRandomValues === \"function\";\n    }\n    return false;\n}\nexports.supportsSecureRandom = supportsSecureRandom;\nfunction supportsSubtleCrypto(subtle) {\n    return (subtle &&\n        subtleCryptoMethods.every(function (methodName) { return typeof subtle[methodName] === \"function\"; }));\n}\nexports.supportsSubtleCrypto = supportsSubtleCrypto;\nfunction supportsZeroByteGCM(subtle) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var key, zeroByteAuthTag, _a;\n        return tslib_1.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!supportsSubtleCrypto(subtle))\n                        return [2 /*return*/, false];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 4, , 5]);\n                    return [4 /*yield*/, subtle.generateKey({ name: \"AES-GCM\", length: 128 }, false, [\"encrypt\"])];\n                case 2:\n                    key = _b.sent();\n                    return [4 /*yield*/, subtle.encrypt({\n                            name: \"AES-GCM\",\n                            iv: new Uint8Array(Array(12)),\n                            additionalData: new Uint8Array(Array(16)),\n                            tagLength: 128\n                        }, key, new Uint8Array(0))];\n                case 3:\n                    zeroByteAuthTag = _b.sent();\n                    return [2 /*return*/, zeroByteAuthTag.byteLength === 16];\n                case 4:\n                    _a = _b.sent();\n                    return [2 /*return*/, false];\n                case 5: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.supportsZeroByteGCM = supportsZeroByteGCM;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VwcG9ydHNXZWJDcnlwdG8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc3VwcG9ydHNXZWJDcnlwdG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQVVBLElBQU0sbUJBQW1CLEdBQThCO0lBQ3JELFNBQVM7SUFDVCxRQUFRO0lBQ1IsU0FBUztJQUNULFdBQVc7SUFDWCxhQUFhO0lBQ2IsV0FBVztJQUNYLE1BQU07SUFDTixRQUFRO0NBQ1QsQ0FBQztBQUVGLFNBQWdCLGlCQUFpQixDQUFDLE1BQWM7SUFDOUMsSUFDRSxvQkFBb0IsQ0FBQyxNQUFNLENBQUM7UUFDNUIsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxRQUFRLEVBQ3hDO1FBQ1EsSUFBQSxNQUFNLEdBQUssTUFBTSxDQUFDLE1BQU0sT0FBbEIsQ0FBbUI7UUFFakMsT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQVhELDhDQVdDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUMsTUFBYztJQUNqRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsSUFBSSxPQUFPLE1BQU0sQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQzNELElBQUEsZUFBZSxHQUFLLE1BQU0sQ0FBQyxNQUFNLGdCQUFsQixDQUFtQjtRQUUxQyxPQUFPLE9BQU8sZUFBZSxLQUFLLFVBQVUsQ0FBQztLQUM5QztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQVJELG9EQVFDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUMsTUFBb0I7SUFDdkQsT0FBTyxDQUNMLE1BQU07UUFDTixtQkFBbUIsQ0FBQyxLQUFLLENBQ3ZCLFVBQUEsVUFBVSxJQUFJLE9BQUEsT0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssVUFBVSxFQUF4QyxDQUF3QyxDQUN2RCxDQUNGLENBQUM7QUFDSixDQUFDO0FBUEQsb0RBT0M7QUFFRCxTQUFzQixtQkFBbUIsQ0FBQyxNQUFvQjs7Ozs7O29CQUM1RCxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDO3dCQUFFLHNCQUFPLEtBQUssRUFBQzs7OztvQkFFbEMscUJBQU0sTUFBTSxDQUFDLFdBQVcsQ0FDbEMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFDaEMsS0FBSyxFQUNMLENBQUMsU0FBUyxDQUFDLENBQ1osRUFBQTs7b0JBSkssR0FBRyxHQUFHLFNBSVg7b0JBQ3VCLHFCQUFNLE1BQU0sQ0FBQyxPQUFPLENBQzFDOzRCQUNFLElBQUksRUFBRSxTQUFTOzRCQUNmLEVBQUUsRUFBRSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7NEJBQzdCLGNBQWMsRUFBRSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7NEJBQ3pDLFNBQVMsRUFBRSxHQUFHO3lCQUNmLEVBQ0QsR0FBRyxFQUNILElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUNsQixFQUFBOztvQkFUSyxlQUFlLEdBQUcsU0FTdkI7b0JBQ0Qsc0JBQU8sZUFBZSxDQUFDLFVBQVUsS0FBSyxFQUFFLEVBQUM7OztvQkFFekMsc0JBQU8sS0FBSyxFQUFDOzs7OztDQUVoQjtBQXRCRCxrREFzQkMiLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFN1YnRsZUNyeXB0b01ldGhvZCA9XG4gIHwgXCJkZWNyeXB0XCJcbiAgfCBcImRpZ2VzdFwiXG4gIHwgXCJlbmNyeXB0XCJcbiAgfCBcImV4cG9ydEtleVwiXG4gIHwgXCJnZW5lcmF0ZUtleVwiXG4gIHwgXCJpbXBvcnRLZXlcIlxuICB8IFwic2lnblwiXG4gIHwgXCJ2ZXJpZnlcIjtcblxuY29uc3Qgc3VidGxlQ3J5cHRvTWV0aG9kczogQXJyYXk8U3VidGxlQ3J5cHRvTWV0aG9kPiA9IFtcbiAgXCJkZWNyeXB0XCIsXG4gIFwiZGlnZXN0XCIsXG4gIFwiZW5jcnlwdFwiLFxuICBcImV4cG9ydEtleVwiLFxuICBcImdlbmVyYXRlS2V5XCIsXG4gIFwiaW1wb3J0S2V5XCIsXG4gIFwic2lnblwiLFxuICBcInZlcmlmeVwiXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNXZWJDcnlwdG8od2luZG93OiBXaW5kb3cpOiBib29sZWFuIHtcbiAgaWYgKFxuICAgIHN1cHBvcnRzU2VjdXJlUmFuZG9tKHdpbmRvdykgJiZcbiAgICB0eXBlb2Ygd2luZG93LmNyeXB0by5zdWJ0bGUgPT09IFwib2JqZWN0XCJcbiAgKSB7XG4gICAgY29uc3QgeyBzdWJ0bGUgfSA9IHdpbmRvdy5jcnlwdG87XG5cbiAgICByZXR1cm4gc3VwcG9ydHNTdWJ0bGVDcnlwdG8oc3VidGxlKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzU2VjdXJlUmFuZG9tKHdpbmRvdzogV2luZG93KTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB3aW5kb3cuY3J5cHRvID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgeyBnZXRSYW5kb21WYWx1ZXMgfSA9IHdpbmRvdy5jcnlwdG87XG5cbiAgICByZXR1cm4gdHlwZW9mIGdldFJhbmRvbVZhbHVlcyA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNTdWJ0bGVDcnlwdG8oc3VidGxlOiBTdWJ0bGVDcnlwdG8pIHtcbiAgcmV0dXJuIChcbiAgICBzdWJ0bGUgJiZcbiAgICBzdWJ0bGVDcnlwdG9NZXRob2RzLmV2ZXJ5KFxuICAgICAgbWV0aG9kTmFtZSA9PiB0eXBlb2Ygc3VidGxlW21ldGhvZE5hbWVdID09PSBcImZ1bmN0aW9uXCJcbiAgICApXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdXBwb3J0c1plcm9CeXRlR0NNKHN1YnRsZTogU3VidGxlQ3J5cHRvKSB7XG4gIGlmICghc3VwcG9ydHNTdWJ0bGVDcnlwdG8oc3VidGxlKSkgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZS5nZW5lcmF0ZUtleShcbiAgICAgIHsgbmFtZTogXCJBRVMtR0NNXCIsIGxlbmd0aDogMTI4IH0sXG4gICAgICBmYWxzZSxcbiAgICAgIFtcImVuY3J5cHRcIl1cbiAgICApO1xuICAgIGNvbnN0IHplcm9CeXRlQXV0aFRhZyA9IGF3YWl0IHN1YnRsZS5lbmNyeXB0KFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIkFFUy1HQ01cIixcbiAgICAgICAgaXY6IG5ldyBVaW50OEFycmF5KEFycmF5KDEyKSksXG4gICAgICAgIGFkZGl0aW9uYWxEYXRhOiBuZXcgVWludDhBcnJheShBcnJheSgxNikpLFxuICAgICAgICB0YWdMZW5ndGg6IDEyOFxuICAgICAgfSxcbiAgICAgIGtleSxcbiAgICAgIG5ldyBVaW50OEFycmF5KDApXG4gICAgKTtcbiAgICByZXR1cm4gemVyb0J5dGVBdXRoVGFnLmJ5dGVMZW5ndGggPT09IDE2O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./CryptoOperation\"), exports);\ntslib_1.__exportStar(require(\"./Key\"), exports);\ntslib_1.__exportStar(require(\"./KeyOperation\"), exports);\ntslib_1.__exportStar(require(\"./MsSubtleCrypto\"), exports);\ntslib_1.__exportStar(require(\"./MsWindow\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CryptoOperation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Key.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=KeyOperation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MsSubtleCrypto.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isMsWindow = void 0;\nvar msSubtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction quacksLikeAnMsWindow(window) {\n    return \"MSInputMethodContext\" in window && \"msCrypto\" in window;\n}\n/**\n * Determines if the provided window is (or is like) the window object one would\n * expect to encounter in Internet Explorer 11.\n */\nfunction isMsWindow(window) {\n    if (quacksLikeAnMsWindow(window) && window.msCrypto.subtle !== undefined) {\n        var _a = window.msCrypto, getRandomValues = _a.getRandomValues, subtle_1 = _a.subtle;\n        return msSubtleCryptoMethods\n            .map(function (methodName) { return subtle_1[methodName]; })\n            .concat(getRandomValues)\n            .every(function (method) { return typeof method === \"function\"; });\n    }\n    return false;\n}\nexports.isMsWindow = isMsWindow;\n//# sourceMappingURL=MsWindow.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var HttpResponse = /** @class */ (function () {\n    function HttpResponse(options) {\n        this.statusCode = options.statusCode;\n        this.headers = options.headers || {};\n        this.body = options.body;\n    }\n    HttpResponse.isInstance = function (response) {\n        //determine if response is a valid HttpResponse\n        if (!response)\n            return false;\n        var resp = response;\n        return typeof resp.statusCode === \"number\" && typeof resp.headers === \"object\";\n    };\n    return HttpResponse;\n}());\nexport { HttpResponse };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlc3BvbnNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2h0dHBSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQTtJQUtFLHNCQUFZLE9BQTRCO1FBQ3RDLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztJQUMzQixDQUFDO0lBRU0sdUJBQVUsR0FBakIsVUFBa0IsUUFBaUI7UUFDakMsK0NBQStDO1FBQy9DLElBQUksQ0FBQyxRQUFRO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDNUIsSUFBTSxJQUFJLEdBQUcsUUFBZSxDQUFDO1FBQzdCLE9BQU8sT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLFFBQVEsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDO0lBQ2pGLENBQUM7SUFDSCxtQkFBQztBQUFELENBQUMsQUFqQkQsSUFpQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJCYWcsIEh0dHBNZXNzYWdlLCBIdHRwUmVzcG9uc2UgYXMgSUh0dHBSZXNwb25zZSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG50eXBlIEh0dHBSZXNwb25zZU9wdGlvbnMgPSBQYXJ0aWFsPEh0dHBNZXNzYWdlPiAmIHtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBIdHRwUmVzcG9uc2UgZXh0ZW5kcyBJSHR0cFJlc3BvbnNlIHt9XG5cbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2Uge1xuICBwdWJsaWMgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGVyczogSGVhZGVyQmFnO1xuICBwdWJsaWMgYm9keT86IGFueTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwUmVzcG9uc2VPcHRpb25zKSB7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlO1xuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShyZXNwb25zZTogdW5rbm93bik6IHJlc3BvbnNlIGlzIEh0dHBSZXNwb25zZSB7XG4gICAgLy9kZXRlcm1pbmUgaWYgcmVzcG9uc2UgaXMgYSB2YWxpZCBIdHRwUmVzcG9uc2VcbiAgICBpZiAoIXJlc3BvbnNlKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlIGFzIGFueTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3Auc3RhdHVzQ29kZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmVzcC5oZWFkZXJzID09PSBcIm9iamVjdFwiO1xuICB9XG59XG4iXX0=","import { __assign, __read, __spreadArray } from \"tslib\";\nvar HttpRequest = /** @class */ (function () {\n    function HttpRequest(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.substr(-1) !== \":\"\n                ? options.protocol + \":\"\n                : options.protocol\n            : \"https:\";\n        this.path = options.path ? (options.path.charAt(0) !== \"/\" ? \"/\" + options.path : options.path) : \"/\";\n    }\n    HttpRequest.isInstance = function (request) {\n        //determine if request is a valid httpRequest\n        if (!request)\n            return false;\n        var req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    };\n    HttpRequest.prototype.clone = function () {\n        var cloned = new HttpRequest(__assign(__assign({}, this), { headers: __assign({}, this.headers) }));\n        if (cloned.query)\n            cloned.query = cloneQuery(cloned.query);\n        return cloned;\n    };\n    return HttpRequest;\n}());\nexport { HttpRequest };\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spreadArray([], __read(param)) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaHR0cFJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU1BO0lBVUUscUJBQVksT0FBMkI7UUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVE7WUFDOUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRztnQkFDbkMsQ0FBQyxDQUFJLE9BQU8sQ0FBQyxRQUFRLE1BQUc7Z0JBQ3hCLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUTtZQUNwQixDQUFDLENBQUMsUUFBUSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBSSxPQUFPLENBQUMsSUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUN4RyxDQUFDO0lBRU0sc0JBQVUsR0FBakIsVUFBa0IsT0FBZ0I7UUFDaEMsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDM0IsSUFBTSxHQUFHLEdBQVEsT0FBTyxDQUFDO1FBQ3pCLE9BQU8sQ0FDTCxRQUFRLElBQUksR0FBRztZQUNmLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLE1BQU0sSUFBSSxHQUFHO1lBQ2IsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUTtZQUNoQyxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxRQUFRLENBQ25DLENBQUM7SUFDSixDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNFLElBQU0sTUFBTSxHQUFHLElBQUksV0FBVyx1QkFDekIsSUFBSSxLQUNQLE9BQU8sZUFBTyxJQUFJLENBQUMsT0FBTyxLQUMxQixDQUFDO1FBQ0gsSUFBSSxNQUFNLENBQUMsS0FBSztZQUFFLE1BQU0sQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBQ0gsa0JBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDOztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQXdCO0lBQzFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMzRSxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkJBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLDBCQUFLLEtBQUssR0FBRSxDQUFDLENBQUMsS0FBSyxPQUN0RDtJQUNKLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNULENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmRwb2ludCwgSGVhZGVyQmFnLCBIdHRwTWVzc2FnZSwgSHR0cFJlcXVlc3QgYXMgSUh0dHBSZXF1ZXN0LCBRdWVyeVBhcmFtZXRlckJhZyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG50eXBlIEh0dHBSZXF1ZXN0T3B0aW9ucyA9IFBhcnRpYWw8SHR0cE1lc3NhZ2U+ICYgUGFydGlhbDxFbmRwb2ludD4gJiB7IG1ldGhvZD86IHN0cmluZyB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBSZXF1ZXN0IGV4dGVuZHMgSUh0dHBSZXF1ZXN0IHt9XG5cbmV4cG9ydCBjbGFzcyBIdHRwUmVxdWVzdCBpbXBsZW1lbnRzIEh0dHBNZXNzYWdlLCBFbmRwb2ludCB7XG4gIHB1YmxpYyBtZXRob2Q6IHN0cmluZztcbiAgcHVibGljIHByb3RvY29sOiBzdHJpbmc7XG4gIHB1YmxpYyBob3N0bmFtZTogc3RyaW5nO1xuICBwdWJsaWMgcG9ydD86IG51bWJlcjtcbiAgcHVibGljIHBhdGg6IHN0cmluZztcbiAgcHVibGljIHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZztcbiAgcHVibGljIGhlYWRlcnM6IEhlYWRlckJhZztcbiAgcHVibGljIGJvZHk/OiBhbnk7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSHR0cFJlcXVlc3RPcHRpb25zKSB7XG4gICAgdGhpcy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgIHRoaXMuaG9zdG5hbWUgPSBvcHRpb25zLmhvc3RuYW1lIHx8IFwibG9jYWxob3N0XCI7XG4gICAgdGhpcy5wb3J0ID0gb3B0aW9ucy5wb3J0O1xuICAgIHRoaXMucXVlcnkgPSBvcHRpb25zLnF1ZXJ5IHx8IHt9O1xuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgdGhpcy5wcm90b2NvbCA9IG9wdGlvbnMucHJvdG9jb2xcbiAgICAgID8gb3B0aW9ucy5wcm90b2NvbC5zdWJzdHIoLTEpICE9PSBcIjpcIlxuICAgICAgICA/IGAke29wdGlvbnMucHJvdG9jb2x9OmBcbiAgICAgICAgOiBvcHRpb25zLnByb3RvY29sXG4gICAgICA6IFwiaHR0cHM6XCI7XG4gICAgdGhpcy5wYXRoID0gb3B0aW9ucy5wYXRoID8gKG9wdGlvbnMucGF0aC5jaGFyQXQoMCkgIT09IFwiL1wiID8gYC8ke29wdGlvbnMucGF0aH1gIDogb3B0aW9ucy5wYXRoKSA6IFwiL1wiO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UocmVxdWVzdDogdW5rbm93bik6IHJlcXVlc3QgaXMgSHR0cFJlcXVlc3Qge1xuICAgIC8vZGV0ZXJtaW5lIGlmIHJlcXVlc3QgaXMgYSB2YWxpZCBodHRwUmVxdWVzdFxuICAgIGlmICghcmVxdWVzdCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHJlcTogYW55ID0gcmVxdWVzdDtcbiAgICByZXR1cm4gKFxuICAgICAgXCJtZXRob2RcIiBpbiByZXEgJiZcbiAgICAgIFwicHJvdG9jb2xcIiBpbiByZXEgJiZcbiAgICAgIFwiaG9zdG5hbWVcIiBpbiByZXEgJiZcbiAgICAgIFwicGF0aFwiIGluIHJlcSAmJlxuICAgICAgdHlwZW9mIHJlcVtcInF1ZXJ5XCJdID09PSBcIm9iamVjdFwiICYmXG4gICAgICB0eXBlb2YgcmVxW1wiaGVhZGVyc1wiXSA9PT0gXCJvYmplY3RcIlxuICAgICk7XG4gIH1cblxuICBjbG9uZSgpOiBIdHRwUmVxdWVzdCB7XG4gICAgY29uc3QgY2xvbmVkID0gbmV3IEh0dHBSZXF1ZXN0KHtcbiAgICAgIC4uLnRoaXMsXG4gICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycyB9LFxuICAgIH0pO1xuICAgIGlmIChjbG9uZWQucXVlcnkpIGNsb25lZC5xdWVyeSA9IGNsb25lUXVlcnkoY2xvbmVkLnF1ZXJ5KTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lUXVlcnkocXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnKTogUXVlcnlQYXJhbWV0ZXJCYWcge1xuICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZSgoY2Fycnk6IFF1ZXJ5UGFyYW1ldGVyQmFnLCBwYXJhbU5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHBhcmFtID0gcXVlcnlbcGFyYW1OYW1lXTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uY2FycnksXG4gICAgICBbcGFyYW1OYW1lXTogQXJyYXkuaXNBcnJheShwYXJhbSkgPyBbLi4ucGFyYW1dIDogcGFyYW0sXG4gICAgfTtcbiAgfSwge30pO1xufVxuIl19","export function isValidHostname(hostname) {\n    var hostPattern = /^[a-z0-9][a-z0-9\\.\\-]*[a-z0-9]$/;\n    return hostPattern.test(hostname);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNWYWxpZEhvc3RuYW1lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2lzVmFsaWRIb3N0bmFtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsZUFBZSxDQUFDLFFBQWdCO0lBQzlDLElBQU0sV0FBVyxHQUFHLGlDQUFpQyxDQUFDO0lBQ3RELE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNwQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRIb3N0bmFtZShob3N0bmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGhvc3RQYXR0ZXJuID0gL15bYS16MC05XVthLXowLTlcXC5cXC1dKlthLXowLTldJC87XG4gIHJldHVybiBob3N0UGF0dGVybi50ZXN0KGhvc3RuYW1lKTtcbn1cbiJdfQ==","export var escapeUri = function (uri) {\n    // AWS percent-encodes some extra non-standard characters in a URI\n    return encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\n};\nvar hexEncode = function (c) { return \"%\" + c.charCodeAt(0).toString(16).toUpperCase(); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFDLEdBQVc7SUFDbkMsa0VBQWtFO0lBQ2xFLE9BQUEsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7QUFBdEQsQ0FBc0QsQ0FBQztBQUV6RCxJQUFNLFNBQVMsR0FBRyxVQUFDLENBQVMsSUFBSyxPQUFBLE1BQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFJLEVBQWhELENBQWdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaTogc3RyaW5nKTogc3RyaW5nID0+XG4gIC8vIEFXUyBwZXJjZW50LWVuY29kZXMgc29tZSBleHRyYSBub24tc3RhbmRhcmQgY2hhcmFjdGVycyBpbiBhIFVSSVxuICBlbmNvZGVVUklDb21wb25lbnQodXJpKS5yZXBsYWNlKC9bIScoKSpdL2csIGhleEVuY29kZSk7XG5cbmNvbnN0IGhleEVuY29kZSA9IChjOiBzdHJpbmcpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiJdfQ==","var alphabetByEncoding = {};\nvar alphabetByValue = new Array(64);\nfor (var i = 0, start = \"A\".charCodeAt(0), limit = \"Z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    alphabetByEncoding[char] = i;\n    alphabetByValue[i] = char;\n}\nfor (var i = 0, start = \"a\".charCodeAt(0), limit = \"z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    var index = i + 26;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nfor (var i = 0; i < 10; i++) {\n    alphabetByEncoding[i.toString(10)] = i + 52;\n    var char = i.toString(10);\n    var index = i + 52;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nalphabetByEncoding[\"+\"] = 62;\nalphabetByValue[62] = \"+\";\nalphabetByEncoding[\"/\"] = 63;\nalphabetByValue[63] = \"/\";\nvar bitsPerLetter = 6;\nvar bitsPerByte = 8;\nvar maxLetterValue = 63;\n/**\n * Converts a base-64 encoded string to a Uint8Array of bytes.\n *\n * @param input The base-64 encoded string\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nexport function fromBase64(input) {\n    var totalByteLength = (input.length / 4) * 3;\n    if (input.substr(-2) === \"==\") {\n        totalByteLength -= 2;\n    }\n    else if (input.substr(-1) === \"=\") {\n        totalByteLength--;\n    }\n    var out = new ArrayBuffer(totalByteLength);\n    var dataView = new DataView(out);\n    for (var i = 0; i < input.length; i += 4) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = i + 3; j <= limit; j++) {\n            if (input[j] !== \"=\") {\n                bits |= alphabetByEncoding[input[j]] << ((limit - j) * bitsPerLetter);\n                bitLength += bitsPerLetter;\n            }\n            else {\n                bits >>= bitsPerLetter;\n            }\n        }\n        var chunkOffset = (i / 4) * 3;\n        bits >>= bitLength % bitsPerByte;\n        var byteLength = Math.floor(bitLength / bitsPerByte);\n        for (var k = 0; k < byteLength; k++) {\n            var offset = (byteLength - k - 1) * bitsPerByte;\n            dataView.setUint8(chunkOffset + k, (bits & (255 << offset)) >> offset);\n        }\n    }\n    return new Uint8Array(out);\n}\n/**\n * Converts a Uint8Array of binary data to a base-64 encoded string.\n *\n * @param input The binary data to encode\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nexport function toBase64(input) {\n    var str = \"\";\n    for (var i = 0; i < input.length; i += 3) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = Math.min(i + 3, input.length); j < limit; j++) {\n            bits |= input[j] << ((limit - j - 1) * bitsPerByte);\n            bitLength += bitsPerByte;\n        }\n        var bitClusterCount = Math.ceil(bitLength / bitsPerLetter);\n        bits <<= bitClusterCount * bitsPerLetter - bitLength;\n        for (var k = 1; k <= bitClusterCount; k++) {\n            var offset = (bitClusterCount - k) * bitsPerLetter;\n            str += alphabetByValue[(bits & (maxLetterValue << offset)) >> offset];\n        }\n        str += \"==\".slice(0, 4 - bitClusterCount);\n    }\n    return str;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxrQkFBa0IsR0FBOEIsRUFBRSxDQUFDO0FBQ3pELElBQU0sZUFBZSxHQUFrQixJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUVyRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxJQUFJLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM3RixJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUM1QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0IsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztDQUMzQjtBQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLElBQUksS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzdGLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQzVDLElBQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDckIsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLGVBQWUsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7Q0FDL0I7QUFFRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzNCLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzVDLElBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDNUIsSUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNyQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDakMsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQztDQUMvQjtBQUVELGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUM3QixlQUFlLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQzFCLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUM3QixlQUFlLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBRTFCLElBQU0sYUFBYSxHQUFHLENBQUMsQ0FBQztBQUN4QixJQUFNLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFDdEIsSUFBTSxjQUFjLEdBQUcsRUFBUSxDQUFDO0FBRWhDOzs7Ozs7R0FNRztBQUNILE1BQU0sVUFBVSxVQUFVLENBQUMsS0FBYTtJQUN0QyxJQUFJLGVBQWUsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUM3QixlQUFlLElBQUksQ0FBQyxDQUFDO0tBQ3RCO1NBQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO1FBQ25DLGVBQWUsRUFBRSxDQUFDO0tBQ25CO0lBQ0QsSUFBTSxHQUFHLEdBQUcsSUFBSSxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDN0MsSUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN4QyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7UUFDYixJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM5QyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7Z0JBQ3BCLElBQUksSUFBSSxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxDQUFDO2dCQUN0RSxTQUFTLElBQUksYUFBYSxDQUFDO2FBQzVCO2lCQUFNO2dCQUNMLElBQUksS0FBSyxhQUFhLENBQUM7YUFDeEI7U0FDRjtRQUVELElBQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQyxJQUFJLEtBQUssU0FBUyxHQUFHLFdBQVcsQ0FBQztRQUNqQyxJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUMsQ0FBQztRQUN2RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ25DLElBQU0sTUFBTSxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUM7WUFDbEQsUUFBUSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUM7U0FDeEU7S0FDRjtJQUVELE9BQU8sSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0IsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNILE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBaUI7SUFDeEMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN4QyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7UUFDYixJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyRSxJQUFJLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDO1lBQ3BELFNBQVMsSUFBSSxXQUFXLENBQUM7U0FDMUI7UUFFRCxJQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxhQUFhLENBQUMsQ0FBQztRQUM3RCxJQUFJLEtBQUssZUFBZSxHQUFHLGFBQWEsR0FBRyxTQUFTLENBQUM7UUFDckQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLGVBQWUsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN6QyxJQUFNLE1BQU0sR0FBRyxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsR0FBRyxhQUFhLENBQUM7WUFDckQsR0FBRyxJQUFJLGVBQWUsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLGNBQWMsSUFBSSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZFO1FBRUQsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLENBQUMsQ0FBQztLQUMzQztJQUVELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFscGhhYmV0QnlFbmNvZGluZzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuY29uc3QgYWxwaGFiZXRCeVZhbHVlOiBBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5KDY0KTtcblxuZm9yIChsZXQgaSA9IDAsIHN0YXJ0ID0gXCJBXCIuY2hhckNvZGVBdCgwKSwgbGltaXQgPSBcIlpcIi5jaGFyQ29kZUF0KDApOyBpICsgc3RhcnQgPD0gbGltaXQ7IGkrKykge1xuICBjb25zdCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShpICsgc3RhcnQpO1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpO1xuICBhbHBoYWJldEJ5VmFsdWVbaV0gPSBjaGFyO1xufVxuXG5mb3IgKGxldCBpID0gMCwgc3RhcnQgPSBcImFcIi5jaGFyQ29kZUF0KDApLCBsaW1pdCA9IFwielwiLmNoYXJDb2RlQXQoMCk7IGkgKyBzdGFydCA8PSBsaW1pdDsgaSsrKSB7XG4gIGNvbnN0IGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyBzdGFydCk7XG4gIGNvbnN0IGluZGV4ID0gaSArIDI2O1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpbmRleDtcbiAgYWxwaGFiZXRCeVZhbHVlW2luZGV4XSA9IGNoYXI7XG59XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbaS50b1N0cmluZygxMCldID0gaSArIDUyO1xuICBjb25zdCBjaGFyID0gaS50b1N0cmluZygxMCk7XG4gIGNvbnN0IGluZGV4ID0gaSArIDUyO1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpbmRleDtcbiAgYWxwaGFiZXRCeVZhbHVlW2luZGV4XSA9IGNoYXI7XG59XG5cbmFscGhhYmV0QnlFbmNvZGluZ1tcIitcIl0gPSA2MjtcbmFscGhhYmV0QnlWYWx1ZVs2Ml0gPSBcIitcIjtcbmFscGhhYmV0QnlFbmNvZGluZ1tcIi9cIl0gPSA2MztcbmFscGhhYmV0QnlWYWx1ZVs2M10gPSBcIi9cIjtcblxuY29uc3QgYml0c1BlckxldHRlciA9IDY7XG5jb25zdCBiaXRzUGVyQnl0ZSA9IDg7XG5jb25zdCBtYXhMZXR0ZXJWYWx1ZSA9IDBiMTExMTExO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzZS02NCBlbmNvZGVkIHN0cmluZyB0byBhIFVpbnQ4QXJyYXkgb2YgYnl0ZXMuXG4gKlxuICogQHBhcmFtIGlucHV0IFRoZSBiYXNlLTY0IGVuY29kZWQgc3RyaW5nXG4gKlxuICogQHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDY0OCNzZWN0aW9uLTRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21CYXNlNjQoaW5wdXQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBsZXQgdG90YWxCeXRlTGVuZ3RoID0gKGlucHV0Lmxlbmd0aCAvIDQpICogMztcbiAgaWYgKGlucHV0LnN1YnN0cigtMikgPT09IFwiPT1cIikge1xuICAgIHRvdGFsQnl0ZUxlbmd0aCAtPSAyO1xuICB9IGVsc2UgaWYgKGlucHV0LnN1YnN0cigtMSkgPT09IFwiPVwiKSB7XG4gICAgdG90YWxCeXRlTGVuZ3RoLS07XG4gIH1cbiAgY29uc3Qgb3V0ID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsQnl0ZUxlbmd0aCk7XG4gIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KG91dCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBsZXQgYml0cyA9IDA7XG4gICAgbGV0IGJpdExlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaiA9IGksIGxpbWl0ID0gaSArIDM7IGogPD0gbGltaXQ7IGorKykge1xuICAgICAgaWYgKGlucHV0W2pdICE9PSBcIj1cIikge1xuICAgICAgICBiaXRzIHw9IGFscGhhYmV0QnlFbmNvZGluZ1tpbnB1dFtqXV0gPDwgKChsaW1pdCAtIGopICogYml0c1BlckxldHRlcik7XG4gICAgICAgIGJpdExlbmd0aCArPSBiaXRzUGVyTGV0dGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYml0cyA+Pj0gYml0c1BlckxldHRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjaHVua09mZnNldCA9IChpIC8gNCkgKiAzO1xuICAgIGJpdHMgPj49IGJpdExlbmd0aCAlIGJpdHNQZXJCeXRlO1xuICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBNYXRoLmZsb29yKGJpdExlbmd0aCAvIGJpdHNQZXJCeXRlKTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IGJ5dGVMZW5ndGg7IGsrKykge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gKGJ5dGVMZW5ndGggLSBrIC0gMSkgKiBiaXRzUGVyQnl0ZTtcbiAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KGNodW5rT2Zmc2V0ICsgaywgKGJpdHMgJiAoMjU1IDw8IG9mZnNldCkpID4+IG9mZnNldCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG91dCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IG9mIGJpbmFyeSBkYXRhIHRvIGEgYmFzZS02NCBlbmNvZGVkIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgVGhlIGJpbmFyeSBkYXRhIHRvIGVuY29kZVxuICpcbiAqIEBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQ2NDgjc2VjdGlvbi00XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Jhc2U2NChpbnB1dDogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBzdHIgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XG4gICAgbGV0IGJpdHMgPSAwO1xuICAgIGxldCBiaXRMZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGogPSBpLCBsaW1pdCA9IE1hdGgubWluKGkgKyAzLCBpbnB1dC5sZW5ndGgpOyBqIDwgbGltaXQ7IGorKykge1xuICAgICAgYml0cyB8PSBpbnB1dFtqXSA8PCAoKGxpbWl0IC0gaiAtIDEpICogYml0c1BlckJ5dGUpO1xuICAgICAgYml0TGVuZ3RoICs9IGJpdHNQZXJCeXRlO1xuICAgIH1cblxuICAgIGNvbnN0IGJpdENsdXN0ZXJDb3VudCA9IE1hdGguY2VpbChiaXRMZW5ndGggLyBiaXRzUGVyTGV0dGVyKTtcbiAgICBiaXRzIDw8PSBiaXRDbHVzdGVyQ291bnQgKiBiaXRzUGVyTGV0dGVyIC0gYml0TGVuZ3RoO1xuICAgIGZvciAobGV0IGsgPSAxOyBrIDw9IGJpdENsdXN0ZXJDb3VudDsgaysrKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAoYml0Q2x1c3RlckNvdW50IC0gaykgKiBiaXRzUGVyTGV0dGVyO1xuICAgICAgc3RyICs9IGFscGhhYmV0QnlWYWx1ZVsoYml0cyAmIChtYXhMZXR0ZXJWYWx1ZSA8PCBvZmZzZXQpKSA+PiBvZmZzZXRdO1xuICAgIH1cblxuICAgIHN0ciArPSBcIj09XCIuc2xpY2UoMCwgNCAtIGJpdENsdXN0ZXJDb3VudCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuIl19","import { __values } from \"tslib\";\nimport { HttpResponse } from \"@aws-sdk/protocol-http\";\nimport { buildQueryString } from \"@aws-sdk/querystring-builder\";\nimport { requestTimeout } from \"./request-timeout\";\nvar FetchHttpHandler = /** @class */ (function () {\n    function FetchHttpHandler(_a) {\n        var _b = _a === void 0 ? {} : _a, requestTimeout = _b.requestTimeout;\n        this.requestTimeout = requestTimeout;\n    }\n    FetchHttpHandler.prototype.destroy = function () {\n        // Do nothing. TLS and HTTP/2 connection pooling is handled by the browser.\n    };\n    FetchHttpHandler.prototype.handle = function (request, _a) {\n        var _b = _a === void 0 ? {} : _a, abortSignal = _b.abortSignal;\n        var requestTimeoutInMs = this.requestTimeout;\n        // if the request was already aborted, prevent doing extra work\n        if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n            var abortError = new Error(\"Request aborted\");\n            abortError.name = \"AbortError\";\n            return Promise.reject(abortError);\n        }\n        var path = request.path;\n        if (request.query) {\n            var queryString = buildQueryString(request.query);\n            if (queryString) {\n                path += \"?\" + queryString;\n            }\n        }\n        var port = request.port, method = request.method;\n        var url = request.protocol + \"//\" + request.hostname + (port ? \":\" + port : \"\") + path;\n        // Request constructor doesn't allow GET/HEAD request with body\n        // ref: https://github.com/whatwg/fetch/issues/551\n        var body = method === \"GET\" || method === \"HEAD\" ? undefined : request.body;\n        var requestOptions = {\n            body: body,\n            headers: new Headers(request.headers),\n            method: method,\n        };\n        // some browsers support abort signal\n        if (typeof AbortController !== \"undefined\") {\n            requestOptions[\"signal\"] = abortSignal;\n        }\n        var fetchRequest = new Request(url, requestOptions);\n        var raceOfPromises = [\n            fetch(fetchRequest).then(function (response) {\n                var e_1, _a;\n                var fetchHeaders = response.headers;\n                var transformedHeaders = {};\n                try {\n                    for (var _b = __values(fetchHeaders.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var pair = _c.value;\n                        transformedHeaders[pair[0]] = pair[1];\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                var hasReadableStream = response.body !== undefined;\n                // Return the response with buffered body\n                if (!hasReadableStream) {\n                    return response.blob().then(function (body) { return ({\n                        response: new HttpResponse({\n                            headers: transformedHeaders,\n                            statusCode: response.status,\n                            body: body,\n                        }),\n                    }); });\n                }\n                // Return the response with streaming body\n                return {\n                    response: new HttpResponse({\n                        headers: transformedHeaders,\n                        statusCode: response.status,\n                        body: response.body,\n                    }),\n                };\n            }),\n            requestTimeout(requestTimeoutInMs),\n        ];\n        if (abortSignal) {\n            raceOfPromises.push(new Promise(function (resolve, reject) {\n                abortSignal.onabort = function () {\n                    var abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n            }));\n        }\n        return Promise.race(raceOfPromises);\n    };\n    return FetchHttpHandler;\n}());\nexport { FetchHttpHandler };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmV0Y2gtaHR0cC1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ZldGNoLWh0dHAtaGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUE0QixZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUdoRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFlbkQ7SUFHRSwwQkFBWSxFQUFnRDtZQUFoRCxxQkFBOEMsRUFBRSxLQUFBLEVBQTlDLGNBQWMsb0JBQUE7UUFDMUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDdkMsQ0FBQztJQUVELGtDQUFPLEdBQVA7UUFDRSwyRUFBMkU7SUFDN0UsQ0FBQztJQUVELGlDQUFNLEdBQU4sVUFBTyxPQUFvQixFQUFFLEVBQXdDO1lBQXhDLHFCQUFzQyxFQUFFLEtBQUEsRUFBdEMsV0FBVyxpQkFBQTtRQUN4QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFFL0MsK0RBQStEO1FBQy9ELElBQUksV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE9BQU8sRUFBRTtZQUN4QixJQUFNLFVBQVUsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2hELFVBQVUsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDO1lBQy9CLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNuQztRQUVELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDeEIsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO1lBQ2pCLElBQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwRCxJQUFJLFdBQVcsRUFBRTtnQkFDZixJQUFJLElB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Q0FBQyxjQUFjLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLEFBM0ZELElBMkZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cEhhbmRsZXIsIEh0dHBSZXF1ZXN0LCBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gXCJAYXdzLXNkay9xdWVyeXN0cmluZy1idWlsZGVyXCI7XG5pbXBvcnQgeyBIZWFkZXJCYWcsIEh0dHBIYW5kbGVyT3B0aW9ucyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyByZXF1ZXN0VGltZW91dCB9IGZyb20gXCIuL3JlcXVlc3QtdGltZW91dFwiO1xuXG5kZWNsYXJlIGxldCBBYm9ydENvbnRyb2xsZXI6IGFueTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBodHRwIG9wdGlvbnMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIGEgYnJvd3NlciBodHRwIGNsaWVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGZXRjaEh0dHBIYW5kbGVyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhIHJlcXVlc3QgY2FuIHRha2UgYmVmb3JlIGJlaW5nIGF1dG9tYXRpY2FsbHlcbiAgICogdGVybWluYXRlZC5cbiAgICovXG4gIHJlcXVlc3RUaW1lb3V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRmV0Y2hIdHRwSGFuZGxlciBpbXBsZW1lbnRzIEh0dHBIYW5kbGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSByZXF1ZXN0VGltZW91dD86IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih7IHJlcXVlc3RUaW1lb3V0IH06IEZldGNoSHR0cEhhbmRsZXJPcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gIH1cblxuICBkZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIERvIG5vdGhpbmcuIFRMUyBhbmQgSFRUUC8yIGNvbm5lY3Rpb24gcG9vbGluZyBpcyBoYW5kbGVkIGJ5IHRoZSBicm93c2VyLlxuICB9XG5cbiAgaGFuZGxlKHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LCB7IGFib3J0U2lnbmFsIH06IEh0dHBIYW5kbGVyT3B0aW9ucyA9IHt9KTogUHJvbWlzZTx7IHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UgfT4ge1xuICAgIGNvbnN0IHJlcXVlc3RUaW1lb3V0SW5NcyA9IHRoaXMucmVxdWVzdFRpbWVvdXQ7XG5cbiAgICAvLyBpZiB0aGUgcmVxdWVzdCB3YXMgYWxyZWFkeSBhYm9ydGVkLCBwcmV2ZW50IGRvaW5nIGV4dHJhIHdvcmtcbiAgICBpZiAoYWJvcnRTaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiAgICB9XG5cbiAgICBsZXQgcGF0aCA9IHJlcXVlc3QucGF0aDtcbiAgICBpZiAocmVxdWVzdC5xdWVyeSkge1xuICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBidWlsZFF1ZXJ5U3RyaW5nKHJlcXVlc3QucXVlcnkpO1xuICAgICAgaWYgKHF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHBhdGggKz0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBwb3J0LCBtZXRob2QgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgdXJsID0gYCR7cmVxdWVzdC5wcm90b2NvbH0vLyR7cmVxdWVzdC5ob3N0bmFtZX0ke3BvcnQgPyBgOiR7cG9ydH1gIDogXCJcIn0ke3BhdGh9YDtcbiAgICAvLyBSZXF1ZXN0IGNvbnN0cnVjdG9yIGRvZXNuJ3QgYWxsb3cgR0VUL0hFQUQgcmVxdWVzdCB3aXRoIGJvZHlcbiAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvZmV0Y2gvaXNzdWVzLzU1MVxuICAgIGNvbnN0IGJvZHkgPSBtZXRob2QgPT09IFwiR0VUXCIgfHwgbWV0aG9kID09PSBcIkhFQURcIiA/IHVuZGVmaW5lZCA6IHJlcXVlc3QuYm9keTtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICBib2R5LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMocmVxdWVzdC5oZWFkZXJzKSxcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgIH07XG5cbiAgICAvLyBzb21lIGJyb3dzZXJzIHN1cHBvcnQgYWJvcnQgc2lnbmFsXG4gICAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIChyZXF1ZXN0T3B0aW9ucyBhcyBhbnkpW1wic2lnbmFsXCJdID0gYWJvcnRTaWduYWw7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgY29uc3QgcmFjZU9mUHJvbWlzZXMgPSBbXG4gICAgICBmZXRjaChmZXRjaFJlcXVlc3QpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoSGVhZGVyczogYW55ID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRIZWFkZXJzOiBIZWFkZXJCYWcgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgPEFycmF5PHN0cmluZ1tdPj5mZXRjaEhlYWRlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRIZWFkZXJzW3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc1JlYWRhYmxlU3RyZWFtID0gcmVzcG9uc2UuYm9keSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCBidWZmZXJlZCBib2R5XG4gICAgICAgIGlmICghaGFzUmVhZGFibGVTdHJlYW0pIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpLnRoZW4oKGJvZHkpID0+ICh7XG4gICAgICAgICAgICByZXNwb25zZTogbmV3IEh0dHBSZXNwb25zZSh7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHRyYW5zZm9ybWVkSGVhZGVycyxcbiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCBzdHJlYW1pbmcgYm9keVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlOiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRyYW5zZm9ybWVkSGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHJlcXVlc3RUaW1lb3V0KHJlcXVlc3RUaW1lb3V0SW5NcyksXG4gICAgXTtcbiAgICBpZiAoYWJvcnRTaWduYWwpIHtcbiAgICAgIHJhY2VPZlByb21pc2VzLnB1c2goXG4gICAgICAgIG5ldyBQcm9taXNlPG5ldmVyPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgYWJvcnRTaWduYWwub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgICAgICAgIHJlamVjdChhYm9ydEVycm9yKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShyYWNlT2ZQcm9taXNlcyk7XG4gIH1cbn1cbiJdfQ==","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nexport function buildQueryString(query) {\n    var e_1, _a;\n    var parts = [];\n    try {\n        for (var _b = __values(Object.keys(query).sort()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            var value = query[key];\n            key = escapeUri(key);\n            if (Array.isArray(value)) {\n                for (var i = 0, iLen = value.length; i < iLen; i++) {\n                    parts.push(key + \"=\" + escapeUri(value[i]));\n                }\n            }\n            else {\n                var qsEntry = key;\n                if (value || typeof value === \"string\") {\n                    qsEntry += \"=\" + escapeUri(value);\n                }\n                parts.push(qsEntry);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return parts.join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBd0I7O0lBQ3ZELElBQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQzs7UUFDM0IsS0FBZ0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQSw0QkFBRTtZQUF0QyxJQUFJLEdBQUcsV0FBQTtZQUNWLElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QixHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbEQsS0FBSyxDQUFDLElBQUksQ0FBSSxHQUFHLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBRyxDQUFDLENBQUM7aUJBQzdDO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDO2dCQUNsQixJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7b0JBQ3RDLE9BQU8sSUFBSSxNQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUcsQ0FBQztpQkFDbkM7Z0JBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNyQjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnkpLnNvcnQoKSkge1xuICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICBrZXkgPSBlc2NhcGVVcmkoa2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpTGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYCR7a2V5fT0ke2VzY2FwZVVyaSh2YWx1ZVtpXSl9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBxc0VudHJ5ID0ga2V5O1xuICAgICAgaWYgKHZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBxc0VudHJ5ICs9IGA9JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICB9XG4gICAgICBwYXJ0cy5wdXNoKHFzRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","export function requestTimeout(timeoutInMs) {\n    if (timeoutInMs === void 0) { timeoutInMs = 0; }\n    return new Promise(function (resolve, reject) {\n        if (timeoutInMs) {\n            setTimeout(function () {\n                var timeoutError = new Error(\"Request did not complete within \" + timeoutInMs + \" ms\");\n                timeoutError.name = \"TimeoutError\";\n                reject(timeoutError);\n            }, timeoutInMs);\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdC10aW1lb3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JlcXVlc3QtdGltZW91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsY0FBYyxDQUFDLFdBQWU7SUFBZiw0QkFBQSxFQUFBLGVBQWU7SUFDNUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2pDLElBQUksV0FBVyxFQUFFO1lBQ2YsVUFBVSxDQUFDO2dCQUNULElBQU0sWUFBWSxHQUFHLElBQUksS0FBSyxDQUFDLHFDQUFtQyxXQUFXLFFBQUssQ0FBQyxDQUFDO2dCQUNwRixZQUFZLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3ZCLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUNqQjtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0VGltZW91dCh0aW1lb3V0SW5NcyA9IDApOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJbk1zKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKGBSZXF1ZXN0IGRpZCBub3QgY29tcGxldGUgd2l0aGluICR7dGltZW91dEluTXN9IG1zYCk7XG4gICAgICAgIHRpbWVvdXRFcnJvci5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcbiAgICAgICAgcmVqZWN0KHRpbWVvdXRFcnJvcik7XG4gICAgICB9LCB0aW1lb3V0SW5Ncyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { fromBase64 } from \"@aws-sdk/util-base64-browser\";\n//reference: https://snack.expo.io/r1JCSWRGU\nexport var streamCollector = function (stream) {\n    if (typeof Blob === \"function\" && stream instanceof Blob) {\n        return collectBlob(stream);\n    }\n    return collectStream(stream);\n};\nfunction collectBlob(blob) {\n    return __awaiter(this, void 0, void 0, function () {\n        var base64, arrayBuffer;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, readToBase64(blob)];\n                case 1:\n                    base64 = _a.sent();\n                    arrayBuffer = fromBase64(base64);\n                    return [2 /*return*/, new Uint8Array(arrayBuffer)];\n            }\n        });\n    });\n}\nfunction collectStream(stream) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res, reader, isDone, _a, done, value, prior;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    res = new Uint8Array(0);\n                    reader = stream.getReader();\n                    isDone = false;\n                    _b.label = 1;\n                case 1:\n                    if (!!isDone) return [3 /*break*/, 3];\n                    return [4 /*yield*/, reader.read()];\n                case 2:\n                    _a = _b.sent(), done = _a.done, value = _a.value;\n                    if (value) {\n                        prior = res;\n                        res = new Uint8Array(prior.length + value.length);\n                        res.set(prior);\n                        res.set(value, prior.length);\n                    }\n                    isDone = done;\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, res];\n            }\n        });\n    });\n}\nfunction readToBase64(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var _a;\n            // reference: https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n            // response from readAsDataURL is always prepended with \"data:*/*;base64,\"\n            if (reader.readyState !== 2) {\n                return reject(new Error(\"Reader aborted too early\"));\n            }\n            var result = ((_a = reader.result) !== null && _a !== void 0 ? _a : \"\");\n            // Response can include only 'data:' for empty blob, return empty string in this case.\n            // Otherwise, return the string after ','\n            var commaIndex = result.indexOf(\",\");\n            var dataOffset = commaIndex > -1 ? commaIndex + 1 : result.length;\n            resolve(result.substring(dataOffset));\n        };\n        reader.onabort = function () { return reject(new Error(\"Read aborted\")); };\n        reader.onerror = function () { return reject(reader.error); };\n        // reader.readAsArrayBuffer is not always available\n        reader.readAsDataURL(blob);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtLWNvbGxlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdHJlYW0tY29sbGVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFFMUQsNENBQTRDO0FBQzVDLE1BQU0sQ0FBQyxJQUFNLGVBQWUsR0FBb0IsVUFBQyxNQUE2QjtJQUM1RSxJQUFJLE9BQU8sSUFBSSxLQUFLLFVBQVUsSUFBSSxNQUFNLFlBQVksSUFBSSxFQUFFO1FBQ3hELE9BQU8sV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzVCO0lBRUQsT0FBTyxhQUFhLENBQUMsTUFBd0IsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUVGLFNBQWUsV0FBVyxDQUFDLElBQVU7Ozs7O3dCQUNwQixxQkFBTSxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUE7O29CQUFqQyxNQUFNLEdBQUcsU0FBd0I7b0JBQ2pDLFdBQVcsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ3ZDLHNCQUFPLElBQUksVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFDOzs7O0NBQ3BDO0FBRUQsU0FBZSxhQUFhLENBQUMsTUFBc0I7Ozs7OztvQkFDN0MsR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN0QixNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUM5QixNQUFNLEdBQUcsS0FBSyxDQUFDOzs7eUJBQ1osQ0FBQyxNQUFNO29CQUNZLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBQTs7b0JBQXJDLEtBQWtCLFNBQW1CLEVBQW5DLElBQUksVUFBQSxFQUFFLEtBQUssV0FBQTtvQkFDbkIsSUFBSSxLQUFLLEVBQUU7d0JBQ0gsS0FBSyxHQUFHLEdBQUcsQ0FBQzt3QkFDbEIsR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dCQUNsRCxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNmLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztxQkFDOUI7b0JBQ0QsTUFBTSxHQUFHLElBQUksQ0FBQzs7d0JBRWhCLHNCQUFPLEdBQUcsRUFBQzs7OztDQUNaO0FBRUQsU0FBUyxZQUFZLENBQUMsSUFBVTtJQUM5QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDakMsSUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNoQyxNQUFNLENBQUMsU0FBUyxHQUFHOztZQUNqQix1RkFBdUY7WUFDdkYsMEVBQTBFO1lBQzFFLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7Z0JBQzNCLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQzthQUN0RDtZQUNELElBQU0sTUFBTSxHQUFHLENBQUMsTUFBQSxNQUFNLENBQUMsTUFBTSxtQ0FBSSxFQUFFLENBQVcsQ0FBQztZQUMvQyxzRkFBc0Y7WUFDdEYseUNBQXlDO1lBQ3pDLElBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdkMsSUFBTSxVQUFVLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BFLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDeEMsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFNLE9BQUEsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQWpDLENBQWlDLENBQUM7UUFDekQsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFNLE9BQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBcEIsQ0FBb0IsQ0FBQztRQUM1QyxtREFBbUQ7UUFDbkQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM3QixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1iYXNlNjQtYnJvd3NlclwiO1xuXG4vL3JlZmVyZW5jZTogaHR0cHM6Ly9zbmFjay5leHBvLmlvL3IxSkNTV1JHVVxuZXhwb3J0IGNvbnN0IHN0cmVhbUNvbGxlY3RvcjogU3RyZWFtQ29sbGVjdG9yID0gKHN0cmVhbTogQmxvYiB8IFJlYWRhYmxlU3RyZWFtKTogUHJvbWlzZTxVaW50OEFycmF5PiA9PiB7XG4gIGlmICh0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmIHN0cmVhbSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICByZXR1cm4gY29sbGVjdEJsb2Ioc3RyZWFtKTtcbiAgfVxuXG4gIHJldHVybiBjb2xsZWN0U3RyZWFtKHN0cmVhbSBhcyBSZWFkYWJsZVN0cmVhbSk7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0QmxvYihibG9iOiBCbG9iKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRUb0Jhc2U2NChibG9iKTtcbiAgY29uc3QgYXJyYXlCdWZmZXIgPSBmcm9tQmFzZTY0KGJhc2U2NCk7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbGxlY3RTdHJlYW0oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBsZXQgcmVzID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgbGV0IGlzRG9uZSA9IGZhbHNlO1xuICB3aGlsZSAoIWlzRG9uZSkge1xuICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjb25zdCBwcmlvciA9IHJlcztcbiAgICAgIHJlcyA9IG5ldyBVaW50OEFycmF5KHByaW9yLmxlbmd0aCArIHZhbHVlLmxlbmd0aCk7XG4gICAgICByZXMuc2V0KHByaW9yKTtcbiAgICAgIHJlcy5zZXQodmFsdWUsIHByaW9yLmxlbmd0aCk7XG4gICAgfVxuICAgIGlzRG9uZSA9IGRvbmU7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcmVhZFRvQmFzZTY0KGJsb2I6IEJsb2IpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgIC8vIHJlZmVyZW5jZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ZpbGVSZWFkZXIvcmVhZEFzRGF0YVVSTFxuICAgICAgLy8gcmVzcG9uc2UgZnJvbSByZWFkQXNEYXRhVVJMIGlzIGFsd2F5cyBwcmVwZW5kZWQgd2l0aCBcImRhdGE6Ki8qO2Jhc2U2NCxcIlxuICAgICAgaWYgKHJlYWRlci5yZWFkeVN0YXRlICE9PSAyKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKFwiUmVhZGVyIGFib3J0ZWQgdG9vIGVhcmx5XCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IChyZWFkZXIucmVzdWx0ID8/IFwiXCIpIGFzIHN0cmluZztcbiAgICAgIC8vIFJlc3BvbnNlIGNhbiBpbmNsdWRlIG9ubHkgJ2RhdGE6JyBmb3IgZW1wdHkgYmxvYiwgcmV0dXJuIGVtcHR5IHN0cmluZyBpbiB0aGlzIGNhc2UuXG4gICAgICAvLyBPdGhlcndpc2UsIHJldHVybiB0aGUgc3RyaW5nIGFmdGVyICcsJ1xuICAgICAgY29uc3QgY29tbWFJbmRleCA9IHJlc3VsdC5pbmRleE9mKFwiLFwiKTtcbiAgICAgIGNvbnN0IGRhdGFPZmZzZXQgPSBjb21tYUluZGV4ID4gLTEgPyBjb21tYUluZGV4ICsgMSA6IHJlc3VsdC5sZW5ndGg7XG4gICAgICByZXNvbHZlKHJlc3VsdC5zdWJzdHJpbmcoZGF0YU9mZnNldCkpO1xuICAgIH07XG4gICAgcmVhZGVyLm9uYWJvcnQgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKFwiUmVhZCBhYm9ydGVkXCIpKTtcbiAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChyZWFkZXIuZXJyb3IpO1xuICAgIC8vIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlciBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZVxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICB9KTtcbn1cbiJdfQ==","export var invalidFunction = function (message) { return function () {\n    throw new Error(message);\n}; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52YWxpZEZ1bmN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ludmFsaWRGdW5jdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsVUFBQyxPQUFlLElBQUssT0FBQTtJQUNsRCxNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzNCLENBQUMsRUFGbUQsQ0FFbkQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbnZhbGlkRnVuY3Rpb24gPSAobWVzc2FnZTogc3RyaW5nKSA9PiAoKSA9PiB7XG4gIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn07XG4iXX0=","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import { __awaiter, __generator, __read, __spreadArray } from \"tslib\";\nexport var retryMiddleware = function (options) {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var retryStrategy;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, options.retryStrategy()];\n                    case 1:\n                        retryStrategy = _a.sent();\n                        if (retryStrategy === null || retryStrategy === void 0 ? void 0 : retryStrategy.mode)\n                            context.userAgent = __spreadArray(__spreadArray([], __read((context.userAgent || []))), [[\"cfg/retry-mode\", retryStrategy.mode]]);\n                        return [2 /*return*/, retryStrategy.retry(next, args)];\n                }\n            });\n        }); };\n    };\n};\nexport var retryMiddlewareOptions = {\n    name: \"retryMiddleware\",\n    tags: [\"RETRY\"],\n    step: \"finalizeRequest\",\n    priority: \"high\",\n    override: true,\n};\nexport var getRetryPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlNaWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JldHJ5TWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBYUEsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUMxQixVQUFDLE9BQTRCO0lBQzdCLE9BQUEsVUFDRSxJQUFrQyxFQUNsQyxPQUFnQztRQUVsQyxPQUFBLFVBQU8sSUFBbUM7Ozs7NEJBQ2xCLHFCQUFNLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBQTs7d0JBQTdDLGFBQWEsR0FBRyxTQUE2Qjt3QkFDbkQsSUFBSSxhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsSUFBSTs0QkFBRSxPQUFPLENBQUMsU0FBUywwQ0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDLEtBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQzt3QkFDcEgsc0JBQU8sYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUM7OzthQUN4QztJQUpELENBSUM7QUFSRCxDQVFDLENBQUM7QUFFSixNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBcUQ7SUFDdEYsSUFBSSxFQUFFLGlCQUFpQjtJQUN2QixJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFDZixJQUFJLEVBQUUsaUJBQWlCO0lBQ3ZCLFFBQVEsRUFBRSxNQUFNO0lBQ2hCLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRyxVQUFDLE9BQTRCLElBQTBCLE9BQUEsQ0FBQztJQUNwRixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUFFLHNCQUFzQixDQUFDLENBQUM7SUFDcEUsQ0FBQztDQUNGLENBQUMsRUFKbUYsQ0FJbkYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFic29sdXRlTG9jYXRpb24sXG4gIEZpbmFsaXplSGFuZGxlcixcbiAgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLFxuICBGaW5hbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IFJldHJ5UmVzb2x2ZWRDb25maWcgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgcmV0cnlNaWRkbGV3YXJlID1cbiAgKG9wdGlvbnM6IFJldHJ5UmVzb2x2ZWRDb25maWcpID0+XG4gIDxPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlciA9IE1ldGFkYXRhQmVhcmVyPihcbiAgICBuZXh0OiBGaW5hbGl6ZUhhbmRsZXI8YW55LCBPdXRwdXQ+LFxuICAgIGNvbnRleHQ6IEhhbmRsZXJFeGVjdXRpb25Db250ZXh0XG4gICk6IEZpbmFsaXplSGFuZGxlcjxhbnksIE91dHB1dD4gPT5cbiAgYXN5bmMgKGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxhbnk+KTogUHJvbWlzZTxGaW5hbGl6ZUhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICAgIGNvbnN0IHJldHJ5U3RyYXRlZ3kgPSBhd2FpdCBvcHRpb25zLnJldHJ5U3RyYXRlZ3koKTtcbiAgICBpZiAocmV0cnlTdHJhdGVneT8ubW9kZSkgY29udGV4dC51c2VyQWdlbnQgPSBbLi4uKGNvbnRleHQudXNlckFnZW50IHx8IFtdKSwgW1wiY2ZnL3JldHJ5LW1vZGVcIiwgcmV0cnlTdHJhdGVneS5tb2RlXV07XG4gICAgcmV0dXJuIHJldHJ5U3RyYXRlZ3kucmV0cnkobmV4dCwgYXJncyk7XG4gIH07XG5cbmV4cG9ydCBjb25zdCByZXRyeU1pZGRsZXdhcmVPcHRpb25zOiBGaW5hbGl6ZVJlcXVlc3RIYW5kbGVyT3B0aW9ucyAmIEFic29sdXRlTG9jYXRpb24gPSB7XG4gIG5hbWU6IFwicmV0cnlNaWRkbGV3YXJlXCIsXG4gIHRhZ3M6IFtcIlJFVFJZXCJdLFxuICBzdGVwOiBcImZpbmFsaXplUmVxdWVzdFwiLFxuICBwcmlvcml0eTogXCJoaWdoXCIsXG4gIG92ZXJyaWRlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJldHJ5UGx1Z2luID0gKG9wdGlvbnM6IFJldHJ5UmVzb2x2ZWRDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHJldHJ5TWlkZGxld2FyZShvcHRpb25zKSwgcmV0cnlNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","/**\n * Errors encountered when the client clock and server clock cannot agree on the\n * current time.\n *\n * These errors are retryable, assuming the SDK has enabled clock skew\n * correction.\n */\nexport var CLOCK_SKEW_ERROR_CODES = [\n    \"AuthFailure\",\n    \"InvalidSignatureException\",\n    \"RequestExpired\",\n    \"RequestInTheFuture\",\n    \"RequestTimeTooSkewed\",\n    \"SignatureDoesNotMatch\",\n];\n/**\n * Errors that indicate the SDK is being throttled.\n *\n * These errors are always retryable.\n */\nexport var THROTTLING_ERROR_CODES = [\n    \"BandwidthLimitExceeded\",\n    \"EC2ThrottledException\",\n    \"LimitExceededException\",\n    \"PriorRequestNotComplete\",\n    \"ProvisionedThroughputExceededException\",\n    \"RequestLimitExceeded\",\n    \"RequestThrottled\",\n    \"RequestThrottledException\",\n    \"SlowDown\",\n    \"ThrottledException\",\n    \"Throttling\",\n    \"ThrottlingException\",\n    \"TooManyRequestsException\",\n    \"TransactionInProgressException\", // DynamoDB\n];\n/**\n * Error codes that indicate transient issues\n */\nexport var TRANSIENT_ERROR_CODES = [\"AbortError\", \"TimeoutError\", \"RequestTimeout\", \"RequestTimeoutException\"];\n/**\n * Error codes that indicate transient issues\n */\nexport var TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRztJQUNwQyxhQUFhO0lBQ2IsMkJBQTJCO0lBQzNCLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsc0JBQXNCO0lBQ3RCLHVCQUF1QjtDQUN4QixDQUFDO0FBRUY7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHO0lBQ3BDLHdCQUF3QjtJQUN4Qix1QkFBdUI7SUFDdkIsd0JBQXdCO0lBQ3hCLHlCQUF5QjtJQUN6Qix3Q0FBd0M7SUFDeEMsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQiwyQkFBMkI7SUFDM0IsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLDBCQUEwQjtJQUMxQixnQ0FBZ0MsRUFBRSxXQUFXO0NBQzlDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLHFCQUFxQixHQUFHLENBQUMsWUFBWSxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSx5QkFBeUIsQ0FBQyxDQUFDO0FBRWpIOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sNEJBQTRCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRXJyb3JzIGVuY291bnRlcmVkIHdoZW4gdGhlIGNsaWVudCBjbG9jayBhbmQgc2VydmVyIGNsb2NrIGNhbm5vdCBhZ3JlZSBvbiB0aGVcbiAqIGN1cnJlbnQgdGltZS5cbiAqXG4gKiBUaGVzZSBlcnJvcnMgYXJlIHJldHJ5YWJsZSwgYXNzdW1pbmcgdGhlIFNESyBoYXMgZW5hYmxlZCBjbG9jayBza2V3XG4gKiBjb3JyZWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUyA9IFtcbiAgXCJBdXRoRmFpbHVyZVwiLFxuICBcIkludmFsaWRTaWduYXR1cmVFeGNlcHRpb25cIixcbiAgXCJSZXF1ZXN0RXhwaXJlZFwiLFxuICBcIlJlcXVlc3RJblRoZUZ1dHVyZVwiLFxuICBcIlJlcXVlc3RUaW1lVG9vU2tld2VkXCIsXG4gIFwiU2lnbmF0dXJlRG9lc05vdE1hdGNoXCIsXG5dO1xuXG4vKipcbiAqIEVycm9ycyB0aGF0IGluZGljYXRlIHRoZSBTREsgaXMgYmVpbmcgdGhyb3R0bGVkLlxuICpcbiAqIFRoZXNlIGVycm9ycyBhcmUgYWx3YXlzIHJldHJ5YWJsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFRIUk9UVExJTkdfRVJST1JfQ09ERVMgPSBbXG4gIFwiQmFuZHdpZHRoTGltaXRFeGNlZWRlZFwiLFxuICBcIkVDMlRocm90dGxlZEV4Y2VwdGlvblwiLFxuICBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgXCJQcmlvclJlcXVlc3ROb3RDb21wbGV0ZVwiLFxuICBcIlByb3Zpc2lvbmVkVGhyb3VnaHB1dEV4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gIFwiUmVxdWVzdExpbWl0RXhjZWVkZWRcIixcbiAgXCJSZXF1ZXN0VGhyb3R0bGVkXCIsXG4gIFwiUmVxdWVzdFRocm90dGxlZEV4Y2VwdGlvblwiLFxuICBcIlNsb3dEb3duXCIsXG4gIFwiVGhyb3R0bGVkRXhjZXB0aW9uXCIsXG4gIFwiVGhyb3R0bGluZ1wiLFxuICBcIlRocm90dGxpbmdFeGNlcHRpb25cIixcbiAgXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIixcbiAgXCJUcmFuc2FjdGlvbkluUHJvZ3Jlc3NFeGNlcHRpb25cIiwgLy8gRHluYW1vREJcbl07XG5cbi8qKlxuICogRXJyb3IgY29kZXMgdGhhdCBpbmRpY2F0ZSB0cmFuc2llbnQgaXNzdWVzXG4gKi9cbmV4cG9ydCBjb25zdCBUUkFOU0lFTlRfRVJST1JfQ09ERVMgPSBbXCJBYm9ydEVycm9yXCIsIFwiVGltZW91dEVycm9yXCIsIFwiUmVxdWVzdFRpbWVvdXRcIiwgXCJSZXF1ZXN0VGltZW91dEV4Y2VwdGlvblwiXTtcblxuLyoqXG4gKiBFcnJvciBjb2RlcyB0aGF0IGluZGljYXRlIHRyYW5zaWVudCBpc3N1ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMgPSBbNTAwLCA1MDIsIDUwMywgNTA0XTtcbiJdfQ==","import { CLOCK_SKEW_ERROR_CODES, THROTTLING_ERROR_CODES, TRANSIENT_ERROR_CODES, TRANSIENT_ERROR_STATUS_CODES, } from \"./constants\";\nexport var isRetryableByTrait = function (error) { return error.$retryable !== undefined; };\nexport var isClockSkewError = function (error) { return CLOCK_SKEW_ERROR_CODES.includes(error.name); };\nexport var isThrottlingError = function (error) {\n    var _a, _b;\n    return ((_a = error.$metadata) === null || _a === void 0 ? void 0 : _a.httpStatusCode) === 429 ||\n        THROTTLING_ERROR_CODES.includes(error.name) ||\n        ((_b = error.$retryable) === null || _b === void 0 ? void 0 : _b.throttling) == true;\n};\nexport var isTransientError = function (error) {\n    var _a;\n    return TRANSIENT_ERROR_CODES.includes(error.name) ||\n        TRANSIENT_ERROR_STATUS_CODES.includes(((_a = error.$metadata) === null || _a === void 0 ? void 0 : _a.httpStatusCode) || 0);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUNMLHNCQUFzQixFQUN0QixzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLDRCQUE0QixHQUM3QixNQUFNLGFBQWEsQ0FBQztBQUVyQixNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxVQUFDLEtBQWUsSUFBSyxPQUFBLEtBQUssQ0FBQyxVQUFVLEtBQUssU0FBUyxFQUE5QixDQUE4QixDQUFDO0FBRXRGLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLFVBQUMsS0FBZSxJQUFLLE9BQUEsc0JBQXNCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBM0MsQ0FBMkMsQ0FBQztBQUVqRyxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLEtBQWU7O0lBQy9DLE9BQUEsQ0FBQSxNQUFBLEtBQUssQ0FBQyxTQUFTLDBDQUFFLGNBQWMsTUFBSyxHQUFHO1FBQ3ZDLHNCQUFzQixDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQzNDLENBQUEsTUFBQSxLQUFLLENBQUMsVUFBVSwwQ0FBRSxVQUFVLEtBQUksSUFBSSxDQUFBO0NBQUEsQ0FBQztBQUV2QyxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxVQUFDLEtBQWU7O0lBQzlDLE9BQUEscUJBQXFCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDMUMsNEJBQTRCLENBQUMsUUFBUSxDQUFDLENBQUEsTUFBQSxLQUFLLENBQUMsU0FBUywwQ0FBRSxjQUFjLEtBQUksQ0FBQyxDQUFDLENBQUE7Q0FBQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHtcbiAgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUyxcbiAgVEhST1RUTElOR19FUlJPUl9DT0RFUyxcbiAgVFJBTlNJRU5UX0VSUk9SX0NPREVTLFxuICBUUkFOU0lFTlRfRVJST1JfU1RBVFVTX0NPREVTLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGNvbnN0IGlzUmV0cnlhYmxlQnlUcmFpdCA9IChlcnJvcjogU2RrRXJyb3IpID0+IGVycm9yLiRyZXRyeWFibGUgIT09IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGlzQ2xvY2tTa2V3RXJyb3IgPSAoZXJyb3I6IFNka0Vycm9yKSA9PiBDTE9DS19TS0VXX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpO1xuXG5leHBvcnQgY29uc3QgaXNUaHJvdHRsaW5nRXJyb3IgPSAoZXJyb3I6IFNka0Vycm9yKSA9PlxuICBlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlID09PSA0MjkgfHxcbiAgVEhST1RUTElOR19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKSB8fFxuICBlcnJvci4kcmV0cnlhYmxlPy50aHJvdHRsaW5nID09IHRydWU7XG5cbmV4cG9ydCBjb25zdCBpc1RyYW5zaWVudEVycm9yID0gKGVycm9yOiBTZGtFcnJvcikgPT5cbiAgVFJBTlNJRU5UX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpIHx8XG4gIFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMuaW5jbHVkZXMoZXJyb3IuJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSB8fCAwKTtcbiJdfQ==","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","export var RETRY_MODES;\n(function (RETRY_MODES) {\n    RETRY_MODES[\"STANDARD\"] = \"standard\";\n    RETRY_MODES[\"ADAPTIVE\"] = \"adaptive\";\n})(RETRY_MODES || (RETRY_MODES = {}));\n/**\n * The default value for how many HTTP requests an SDK should make for a\n * single SDK operation invocation before giving up\n */\nexport var DEFAULT_MAX_ATTEMPTS = 3;\n/**\n * The default retry algorithm to use.\n */\nexport var DEFAULT_RETRY_MODE = RETRY_MODES.STANDARD;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQU4sSUFBWSxXQUdYO0FBSEQsV0FBWSxXQUFXO0lBQ3JCLG9DQUFxQixDQUFBO0lBQ3JCLG9DQUFxQixDQUFBO0FBQ3ZCLENBQUMsRUFIVyxXQUFXLEtBQVgsV0FBVyxRQUd0QjtBQUVEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUFHLENBQUMsQ0FBQztBQUV0Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBSRVRSWV9NT0RFUyB7XG4gIFNUQU5EQVJEID0gXCJzdGFuZGFyZFwiLFxuICBBREFQVElWRSA9IFwiYWRhcHRpdmVcIixcbn1cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgaG93IG1hbnkgSFRUUCByZXF1ZXN0cyBhbiBTREsgc2hvdWxkIG1ha2UgZm9yIGFcbiAqIHNpbmdsZSBTREsgb3BlcmF0aW9uIGludm9jYXRpb24gYmVmb3JlIGdpdmluZyB1cFxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9NQVhfQVRURU1QVFMgPSAzO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHJldHJ5IGFsZ29yaXRobSB0byB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFVFJZX01PREUgPSBSRVRSWV9NT0RFUy5TVEFOREFSRDtcbiJdfQ==","import { MAXIMUM_RETRY_DELAY } from \"./constants\";\n/**\n * Calculate a capped, fully-jittered exponential backoff time.\n */\nexport var defaultDelayDecider = function (delayBase, attempts) {\n    return Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * Math.pow(2, attempts) * delayBase));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsYXlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlbGF5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbEQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxVQUFDLFNBQWlCLEVBQUUsUUFBZ0I7SUFDckUsT0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLFNBQUEsQ0FBQyxFQUFJLFFBQVEsQ0FBQSxHQUFHLFNBQVMsQ0FBQyxDQUFDO0FBQXBGLENBQW9GLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNQVhJTVVNX1JFVFJZX0RFTEFZIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgY2FwcGVkLCBmdWxseS1qaXR0ZXJlZCBleHBvbmVudGlhbCBiYWNrb2ZmIHRpbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0RGVsYXlEZWNpZGVyID0gKGRlbGF5QmFzZTogbnVtYmVyLCBhdHRlbXB0czogbnVtYmVyKSA9PlxuICBNYXRoLmZsb29yKE1hdGgubWluKE1BWElNVU1fUkVUUllfREVMQVksIE1hdGgucmFuZG9tKCkgKiAyICoqIGF0dGVtcHRzICogZGVsYXlCYXNlKSk7XG4iXX0=","/**\n * The base number of milliseconds to use in calculating a suitable cool-down\n * time when a retryable error is encountered.\n */\nexport var DEFAULT_RETRY_DELAY_BASE = 100;\n/**\n * The maximum amount of time (in milliseconds) that will be used as a delay\n * between retry attempts.\n */\nexport var MAXIMUM_RETRY_DELAY = 20 * 1000;\n/**\n * The retry delay base (in milliseconds) to use when a throttling error is\n * encountered.\n */\nexport var THROTTLING_RETRY_DELAY_BASE = 500;\n/**\n * Initial number of retry tokens in Retry Quota\n */\nexport var INITIAL_RETRY_TOKENS = 500;\n/**\n * The total amount of retry tokens to be decremented from retry token balance.\n */\nexport var RETRY_COST = 5;\n/**\n * The total amount of retry tokens to be decremented from retry token balance\n * when a throttling error is encountered.\n */\nexport var TIMEOUT_RETRY_COST = 10;\n/**\n * The total amount of retry token to be incremented from retry token balance\n * if an SDK operation invocation succeeds without requiring a retry request.\n */\nexport var NO_RETRY_INCREMENT = 1;\n/**\n * Header name for SDK invocation ID\n */\nexport var INVOCATION_ID_HEADER = \"amz-sdk-invocation-id\";\n/**\n * Header name for request retry information.\n */\nexport var REQUEST_HEADER = \"amz-sdk-request\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSx3QkFBd0IsR0FBRyxHQUFHLENBQUM7QUFFNUM7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztBQUU3Qzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBRyxHQUFHLENBQUM7QUFFL0M7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxHQUFHLENBQUM7QUFFeEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBRTVCOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztBQUVyQzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxDQUFDLENBQUM7QUFFcEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyx1QkFBdUIsQ0FBQztBQUU1RDs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJhc2UgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB1c2UgaW4gY2FsY3VsYXRpbmcgYSBzdWl0YWJsZSBjb29sLWRvd25cbiAqIHRpbWUgd2hlbiBhIHJldHJ5YWJsZSBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSA9IDEwMDtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IHdpbGwgYmUgdXNlZCBhcyBhIGRlbGF5XG4gKiBiZXR3ZWVuIHJldHJ5IGF0dGVtcHRzLlxuICovXG5leHBvcnQgY29uc3QgTUFYSU1VTV9SRVRSWV9ERUxBWSA9IDIwICogMTAwMDtcblxuLyoqXG4gKiBUaGUgcmV0cnkgZGVsYXkgYmFzZSAoaW4gbWlsbGlzZWNvbmRzKSB0byB1c2Ugd2hlbiBhIHRocm90dGxpbmcgZXJyb3IgaXNcbiAqIGVuY291bnRlcmVkLlxuICovXG5leHBvcnQgY29uc3QgVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFID0gNTAwO1xuXG4vKipcbiAqIEluaXRpYWwgbnVtYmVyIG9mIHJldHJ5IHRva2VucyBpbiBSZXRyeSBRdW90YVxuICovXG5leHBvcnQgY29uc3QgSU5JVElBTF9SRVRSWV9UT0tFTlMgPSA1MDA7XG5cbi8qKlxuICogVGhlIHRvdGFsIGFtb3VudCBvZiByZXRyeSB0b2tlbnMgdG8gYmUgZGVjcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlLlxuICovXG5leHBvcnQgY29uc3QgUkVUUllfQ09TVCA9IDU7XG5cbi8qKlxuICogVGhlIHRvdGFsIGFtb3VudCBvZiByZXRyeSB0b2tlbnMgdG8gYmUgZGVjcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlXG4gKiB3aGVuIGEgdGhyb3R0bGluZyBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRJTUVPVVRfUkVUUllfQ09TVCA9IDEwO1xuXG4vKipcbiAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcmV0cnkgdG9rZW4gdG8gYmUgaW5jcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlXG4gKiBpZiBhbiBTREsgb3BlcmF0aW9uIGludm9jYXRpb24gc3VjY2VlZHMgd2l0aG91dCByZXF1aXJpbmcgYSByZXRyeSByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgTk9fUkVUUllfSU5DUkVNRU5UID0gMTtcblxuLyoqXG4gKiBIZWFkZXIgbmFtZSBmb3IgU0RLIGludm9jYXRpb24gSURcbiAqL1xuZXhwb3J0IGNvbnN0IElOVk9DQVRJT05fSURfSEVBREVSID0gXCJhbXotc2RrLWludm9jYXRpb24taWRcIjtcblxuLyoqXG4gKiBIZWFkZXIgbmFtZSBmb3IgcmVxdWVzdCByZXRyeSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfSEVBREVSID0gXCJhbXotc2RrLXJlcXVlc3RcIjtcbiJdfQ==","import { isClockSkewError, isRetryableByTrait, isThrottlingError, isTransientError, } from \"@aws-sdk/service-error-classification\";\nexport var defaultRetryDecider = function (error) {\n    if (!error) {\n        return false;\n    }\n    return isRetryableByTrait(error) || isClockSkewError(error) || isThrottlingError(error) || isTransientError(error);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JldHJ5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsZ0JBQWdCLEdBQ2pCLE1BQU0sdUNBQXVDLENBQUM7QUFHL0MsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBQyxLQUFlO0lBQ2pELElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsT0FBTyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNySCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0Nsb2NrU2tld0Vycm9yLFxuICBpc1JldHJ5YWJsZUJ5VHJhaXQsXG4gIGlzVGhyb3R0bGluZ0Vycm9yLFxuICBpc1RyYW5zaWVudEVycm9yLFxufSBmcm9tIFwiQGF3cy1zZGsvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuaW1wb3J0IHsgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRSZXRyeURlY2lkZXIgPSAoZXJyb3I6IFNka0Vycm9yKSA9PiB7XG4gIGlmICghZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNSZXRyeWFibGVCeVRyYWl0KGVycm9yKSB8fCBpc0Nsb2NrU2tld0Vycm9yKGVycm9yKSB8fCBpc1Rocm90dGxpbmdFcnJvcihlcnJvcikgfHwgaXNUcmFuc2llbnRFcnJvcihlcnJvcik7XG59O1xuIl19","import { __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { isThrottlingError } from \"@aws-sdk/service-error-classification\";\nimport { v4 } from \"uuid\";\nimport { DEFAULT_MAX_ATTEMPTS, RETRY_MODES } from \"./config\";\nimport { DEFAULT_RETRY_DELAY_BASE, INITIAL_RETRY_TOKENS, INVOCATION_ID_HEADER, REQUEST_HEADER, THROTTLING_RETRY_DELAY_BASE, } from \"./constants\";\nimport { getDefaultRetryQuota } from \"./defaultRetryQuota\";\nimport { defaultDelayDecider } from \"./delayDecider\";\nimport { defaultRetryDecider } from \"./retryDecider\";\nvar StandardRetryStrategy = /** @class */ (function () {\n    function StandardRetryStrategy(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null && _a !== void 0 ? _a : defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null && _b !== void 0 ? _b : defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null && _c !== void 0 ? _c : getDefaultRetryQuota(INITIAL_RETRY_TOKENS);\n    }\n    StandardRetryStrategy.prototype.shouldRetry = function (error, attempts, maxAttempts) {\n        return attempts < maxAttempts && this.retryDecider(error) && this.retryQuota.hasRetryTokens(error);\n    };\n    StandardRetryStrategy.prototype.getMaxAttempts = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var maxAttempts, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.maxAttemptsProvider()];\n                    case 1:\n                        maxAttempts = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        maxAttempts = DEFAULT_MAX_ATTEMPTS;\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/, maxAttempts];\n                }\n            });\n        });\n    };\n    StandardRetryStrategy.prototype.retry = function (next, args, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var retryTokenAmount, attempts, totalDelay, maxAttempts, request, _loop_1, this_1, state_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attempts = 0;\n                        totalDelay = 0;\n                        return [4 /*yield*/, this.getMaxAttempts()];\n                    case 1:\n                        maxAttempts = _a.sent();\n                        request = args.request;\n                        if (HttpRequest.isInstance(request)) {\n                            request.headers[INVOCATION_ID_HEADER] = v4();\n                        }\n                        _loop_1 = function () {\n                            var _b, response, output, e_1, err, delay_1;\n                            return __generator(this, function (_c) {\n                                switch (_c.label) {\n                                    case 0:\n                                        _c.trys.push([0, 4, , 7]);\n                                        if (HttpRequest.isInstance(request)) {\n                                            request.headers[REQUEST_HEADER] = \"attempt=\" + (attempts + 1) + \"; max=\" + maxAttempts;\n                                        }\n                                        if (!(options === null || options === void 0 ? void 0 : options.beforeRequest)) return [3 /*break*/, 2];\n                                        return [4 /*yield*/, options.beforeRequest()];\n                                    case 1:\n                                        _c.sent();\n                                        _c.label = 2;\n                                    case 2: return [4 /*yield*/, next(args)];\n                                    case 3:\n                                        _b = _c.sent(), response = _b.response, output = _b.output;\n                                        if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                                            options.afterRequest(response);\n                                        }\n                                        this_1.retryQuota.releaseRetryTokens(retryTokenAmount);\n                                        output.$metadata.attempts = attempts + 1;\n                                        output.$metadata.totalRetryDelay = totalDelay;\n                                        return [2 /*return*/, { value: { response: response, output: output } }];\n                                    case 4:\n                                        e_1 = _c.sent();\n                                        err = asSdkError(e_1);\n                                        attempts++;\n                                        if (!this_1.shouldRetry(err, attempts, maxAttempts)) return [3 /*break*/, 6];\n                                        retryTokenAmount = this_1.retryQuota.retrieveRetryTokens(err);\n                                        delay_1 = this_1.delayDecider(isThrottlingError(err) ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE, attempts);\n                                        totalDelay += delay_1;\n                                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delay_1); })];\n                                    case 5:\n                                        _c.sent();\n                                        return [2 /*return*/, \"continue\"];\n                                    case 6:\n                                        if (!err.$metadata) {\n                                            err.$metadata = {};\n                                        }\n                                        err.$metadata.attempts = attempts;\n                                        err.$metadata.totalRetryDelay = totalDelay;\n                                        throw err;\n                                    case 7: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 2;\n                    case 2:\n                        if (!true) return [3 /*break*/, 4];\n                        return [5 /*yield**/, _loop_1()];\n                    case 3:\n                        state_1 = _a.sent();\n                        if (typeof state_1 === \"object\")\n                            return [2 /*return*/, state_1.value];\n                        return [3 /*break*/, 2];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return StandardRetryStrategy;\n}());\nexport { StandardRetryStrategy };\nvar asSdkError = function (error) {\n    if (error instanceof Error)\n        return error;\n    if (error instanceof Object)\n        return Object.assign(new Error(), error);\n    if (typeof error === \"string\")\n        return new Error(error);\n    return new Error(\"AWS SDK error wrapper for \" + error);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RhbmRhcmRSZXRyeVN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL1N0YW5kYXJkUmV0cnlTdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRzFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFMUIsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFdBQVcsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUM3RCxPQUFPLEVBQ0wsd0JBQXdCLEVBQ3hCLG9CQUFvQixFQUNwQixvQkFBb0IsRUFDcEIsY0FBYyxFQUNkLDJCQUEyQixHQUM1QixNQUFNLGFBQWEsQ0FBQztBQUNyQixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQVlyRDtJQU1FLCtCQUE2QixtQkFBcUMsRUFBRSxPQUFzQzs7UUFBN0Usd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFrQjtRQUYzRCxTQUFJLEdBQVcsV0FBVyxDQUFDLFFBQVEsQ0FBQztRQUd6QyxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFlBQVksbUNBQUksbUJBQW1CLENBQUM7UUFDakUsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxZQUFZLG1DQUFJLG1CQUFtQixDQUFDO1FBQ2pFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsVUFBVSxtQ0FBSSxvQkFBb0Is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U0FBUyxFQUFFOzRDQUNsQixHQUFHLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQzt5Q0FDcEI7d0NBRUQsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO3dDQUNsQyxHQUFHLENBQUMsU0FBUyxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUM7d0NBQzNDLE1BQU0sR0FBRyxDQUFDOzs7Ozs7Ozs2QkF4Q1AsSUFBSTs7Ozs7Ozs7Ozs7S0EyQ1o7SUFDSCw0QkFBQztBQUFELENBQUMsQUF6RkQsSUF5RkM7O0FBRUQsSUFBTSxVQUFVLEdBQUcsVUFBQyxLQUFjO0lBQ2hDLElBQUksS0FBSyxZQUFZLEtBQUs7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUN6QyxJQUFJLEtBQUssWUFBWSxNQUFNO1FBQUUsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEUsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQUUsT0FBTyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2RCxPQUFPLElBQUksS0FBSyxDQUFDLCtCQUE2QixLQUFPLENBQUMsQ0FBQztBQUN6RCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBpc1Rocm90dGxpbmdFcnJvciB9IGZyb20gXCJAYXdzLXNkay9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBTZGtFcnJvciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgRmluYWxpemVIYW5kbGVyLCBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHMsIE1ldGFkYXRhQmVhcmVyLCBQcm92aWRlciwgUmV0cnlTdHJhdGVneSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5pbXBvcnQgeyBERUZBVUxUX01BWF9BVFRFTVBUUywgUkVUUllfTU9ERVMgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7XG4gIERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSxcbiAgSU5JVElBTF9SRVRSWV9UT0tFTlMsXG4gIElOVk9DQVRJT05fSURfSEVBREVSLFxuICBSRVFVRVNUX0hFQURFUixcbiAgVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRSZXRyeVF1b3RhIH0gZnJvbSBcIi4vZGVmYXVsdFJldHJ5UXVvdGFcIjtcbmltcG9ydCB7IGRlZmF1bHREZWxheURlY2lkZXIgfSBmcm9tIFwiLi9kZWxheURlY2lkZXJcIjtcbmltcG9ydCB7IGRlZmF1bHRSZXRyeURlY2lkZXIgfSBmcm9tIFwiLi9yZXRyeURlY2lkZXJcIjtcbmltcG9ydCB7IERlbGF5RGVjaWRlciwgUmV0cnlEZWNpZGVyLCBSZXRyeVF1b3RhIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBTdHJhdGVneSBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byBTdGFuZGFyZFJldHJ5U3RyYXRlZ3lcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFuZGFyZFJldHJ5U3RyYXRlZ3lPcHRpb25zIHtcbiAgcmV0cnlEZWNpZGVyPzogUmV0cnlEZWNpZGVyO1xuICBkZWxheURlY2lkZXI/OiBEZWxheURlY2lkZXI7XG4gIHJldHJ5UXVvdGE/OiBSZXRyeVF1b3RhO1xufVxuXG5leHBvcnQgY2xhc3MgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5IGltcGxlbWVudHMgUmV0cnlTdHJhdGVneSB7XG4gIHByaXZhdGUgcmV0cnlEZWNpZGVyOiBSZXRyeURlY2lkZXI7XG4gIHByaXZhdGUgZGVsYXlEZWNpZGVyOiBEZWxheURlY2lkZXI7XG4gIHByaXZhdGUgcmV0cnlRdW90YTogUmV0cnlRdW90YTtcbiAgcHVibGljIG1vZGU6IHN0cmluZyA9IFJFVFJZX01PREVTLlNUQU5EQVJEO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgbWF4QXR0ZW1wdHNQcm92aWRlcjogUHJvdmlkZXI8bnVtYmVyPiwgb3B0aW9ucz86IFN0YW5kYXJkUmV0cnlTdHJhdGVneU9wdGlvbnMpIHtcbiAgICB0aGlzLnJldHJ5RGVjaWRlciA9IG9wdGlvbnM/LnJldHJ5RGVjaWRlciA/PyBkZWZhdWx0UmV0cnlEZWNpZGVyO1xuICAgIHRoaXMuZGVsYXlEZWNpZGVyID0gb3B0aW9ucz8uZGVsYXlEZWNpZGVyID8/IGRlZmF1bHREZWxheURlY2lkZXI7XG4gICAgdGhpcy5yZXRyeVF1b3RhID0gb3B0aW9ucz8ucmV0cnlRdW90YSA/PyBnZXREZWZhdWx0UmV0cnlRdW90YShJTklUSUFMX1JFVFJZX1RPS0VOUyk7XG4gIH1cblxuICBwcml2YXRlIHNob3VsZFJldHJ5KGVycm9yOiBTZGtFcnJvciwgYXR0ZW1wdHM6IG51bWJlciwgbWF4QXR0ZW1wdHM6IG51bWJlcikge1xuICAgIHJldHVybiBhdHRlbXB0cyA8IG1heEF0dGVtcHRzICYmIHRoaXMucmV0cnlEZWNpZGVyKGVycm9yKSAmJiB0aGlzLnJldHJ5UXVvdGEuaGFzUmV0cnlUb2tlbnMoZXJyb3IpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRNYXhBdHRlbXB0cygpIHtcbiAgICBsZXQgbWF4QXR0ZW1wdHM6IG51bWJlcjtcbiAgICB0cnkge1xuICAgICAgbWF4QXR0ZW1wdHMgPSBhd2FpdCB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbWF4QXR0ZW1wdHMgPSBERUZBVUxUX01BWF9BVFRFTVBUUztcbiAgICB9XG4gICAgcmV0dXJuIG1heEF0dGVtcHRzO1xuICB9XG5cbiAgYXN5bmMgcmV0cnk8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3VwdXQ+LFxuICAgIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD4sXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGJlZm9yZVJlcXVlc3Q6IEZ1bmN0aW9uO1xuICAgICAgYWZ0ZXJSZXF1ZXN0OiBGdW5jdGlvbjtcbiAgICB9XG4gICkge1xuICAgIGxldCByZXRyeVRva2VuQW1vdW50O1xuICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgbGV0IHRvdGFsRGVsYXkgPSAwO1xuXG4gICAgY29uc3QgbWF4QXR0ZW1wdHMgPSBhd2FpdCB0aGlzLmdldE1heEF0dGVtcHRzKCk7XG5cbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVyc1tJTlZPQ0FUSU9OX0lEX0hFQURFUl0gPSB2NCgpO1xuICAgIH1cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1tSRVFVRVNUX0hFQURFUl0gPSBgYXR0ZW1wdD0ke2F0dGVtcHRzICsgMX07IG1heD0ke21heEF0dGVtcHRzfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucz8uYmVmb3JlUmVxdWVzdCkge1xuICAgICAgICAgIGF3YWl0IG9wdGlvbnMuYmVmb3JlUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgcmVzcG9uc2UsIG91dHB1dCB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICAgICAgaWYgKG9wdGlvbnM/LmFmdGVyUmVxdWVzdCkge1xuICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZXF1ZXN0KHJlc3BvbnNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmV0cnlRdW90YS5yZWxlYXNlUmV0cnlUb2tlbnMocmV0cnlUb2tlbkFtb3VudCk7XG4gICAgICAgIG91dHB1dC4kbWV0YWRhdGEuYXR0ZW1wdHMgPSBhdHRlbXB0cyArIDE7XG4gICAgICAgIG91dHB1dC4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxEZWxheTtcblxuICAgICAgICByZXR1cm4geyByZXNwb25zZSwgb3V0cHV0IH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IGFzU2RrRXJyb3IoZSk7XG4gICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgIGlmICh0aGlzLnNob3VsZFJldHJ5KGVyciBhcyBTZGtFcnJvciwgYXR0ZW1wdHMsIG1heEF0dGVtcHRzKSkge1xuICAgICAgICAgIHJldHJ5VG9rZW5BbW91bnQgPSB0aGlzLnJldHJ5UXVvdGEucmV0cmlldmVSZXRyeVRva2VucyhlcnIpO1xuICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5kZWxheURlY2lkZXIoXG4gICAgICAgICAgICBpc1Rocm90dGxpbmdFcnJvcihlcnIpID8gVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFIDogREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFLFxuICAgICAgICAgICAgYXR0ZW1wdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIHRvdGFsRGVsYXkgKz0gZGVsYXk7XG5cbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnIuJG1ldGFkYXRhKSB7XG4gICAgICAgICAgZXJyLiRtZXRhZGF0YSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgZXJyLiRtZXRhZGF0YS5hdHRlbXB0cyA9IGF0dGVtcHRzO1xuICAgICAgICBlcnIuJG1ldGFkYXRhLnRvdGFsUmV0cnlEZWxheSA9IHRvdGFsRGVsYXk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYXNTZGtFcnJvciA9IChlcnJvcjogdW5rbm93bik6IFNka0Vycm9yID0+IHtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnJvcjtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgT2JqZWN0KSByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoKSwgZXJyb3IpO1xuICBpZiAodHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IEVycm9yKGVycm9yKTtcbiAgcmV0dXJuIG5ldyBFcnJvcihgQVdTIFNESyBlcnJvciB3cmFwcGVyIGZvciAke2Vycm9yfWApO1xufTtcbiJdfQ==","import { NO_RETRY_INCREMENT, RETRY_COST, TIMEOUT_RETRY_COST } from \"./constants\";\nexport var getDefaultRetryQuota = function (initialRetryTokens, options) {\n    var _a, _b, _c;\n    var MAX_CAPACITY = initialRetryTokens;\n    var noRetryIncrement = (_a = options === null || options === void 0 ? void 0 : options.noRetryIncrement) !== null && _a !== void 0 ? _a : NO_RETRY_INCREMENT;\n    var retryCost = (_b = options === null || options === void 0 ? void 0 : options.retryCost) !== null && _b !== void 0 ? _b : RETRY_COST;\n    var timeoutRetryCost = (_c = options === null || options === void 0 ? void 0 : options.timeoutRetryCost) !== null && _c !== void 0 ? _c : TIMEOUT_RETRY_COST;\n    var availableCapacity = initialRetryTokens;\n    var getCapacityAmount = function (error) { return (error.name === \"TimeoutError\" ? timeoutRetryCost : retryCost); };\n    var hasRetryTokens = function (error) { return getCapacityAmount(error) <= availableCapacity; };\n    var retrieveRetryTokens = function (error) {\n        if (!hasRetryTokens(error)) {\n            // retryStrategy should stop retrying, and return last error\n            throw new Error(\"No retry token available\");\n        }\n        var capacityAmount = getCapacityAmount(error);\n        availableCapacity -= capacityAmount;\n        return capacityAmount;\n    };\n    var releaseRetryTokens = function (capacityReleaseAmount) {\n        availableCapacity += capacityReleaseAmount !== null && capacityReleaseAmount !== void 0 ? capacityReleaseAmount : noRetryIncrement;\n        availableCapacity = Math.min(availableCapacity, MAX_CAPACITY);\n    };\n    return Object.freeze({\n        hasRetryTokens: hasRetryTokens,\n        retrieveRetryTokens: retrieveRetryTokens,\n        releaseRetryTokens: releaseRetryTokens,\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFJldHJ5UXVvdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGVmYXVsdFJldHJ5UXVvdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQXNCakYsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsVUFBQyxrQkFBMEIsRUFBRSxPQUFrQzs7SUFDakcsSUFBTSxZQUFZLEdBQUcsa0JBQWtCLENBQUM7SUFDeEMsSUFBTSxnQkFBZ0IsR0FBRyxNQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxnQkFBZ0IsbUNBQUksa0JBQWtCLENBQUM7SUFDekUsSUFBTSxTQUFTLEdBQUcsTUFBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsU0FBUyxtQ0FBSSxVQUFVLENBQUM7SUFDbkQsSUFBTSxnQkFBZ0IsR0FBRyxNQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxnQkFBZ0IsbUNBQUksa0JBQWtCLENBQUM7SUFFekUsSUFBSSxpQkFBaUIsR0FBRyxrQkFBa0IsQ0FBQztJQUUzQyxJQUFNLGlCQUFpQixHQUFHLFVBQUMsS0FBZSxJQUFLLE9BQUEsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUE5RCxDQUE4RCxDQUFDO0lBRTlHLElBQU0sY0FBYyxHQUFHLFVBQUMsS0FBZSxJQUFLLE9BQUEsaUJBQWlCLENBQUMsS0FBSyxDQUFDLElBQUksaUJBQWlCLEVBQTdDLENBQTZDLENBQUM7SUFFMUYsSUFBTSxtQkFBbUIsR0FBRyxVQUFDLEtBQWU7UUFDMUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUMxQiw0REFBNEQ7WUFDNUQsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsSUFBTSxjQUFjLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEQsaUJBQWlCLElBQUksY0FBYyxDQUFDO1FBQ3BDLE9BQU8sY0FBYyxDQUFDO0lBQ3hCLENBQUMsQ0FBQztJQUVGLElBQU0sa0JBQWtCLEdBQUcsVUFBQyxxQkFBOEI7UUFDeEQsaUJBQWlCLElBQUkscUJBQXFCLGFBQXJCLHFCQUFxQixjQUFyQixxQkFBcUIsR0FBSSxnQkFBZ0IsQ0FBQztRQUMvRCxpQkFBaUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ2hFLENBQUMsQ0FBQztJQUVGLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNuQixjQUFjLGdCQUFBO1FBQ2QsbUJBQW1CLHFCQUFBO1FBQ25CLGtCQUFrQixvQkFBQTtLQUNuQixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZGtFcnJvciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBOT19SRVRSWV9JTkNSRU1FTlQsIFJFVFJZX0NPU1QsIFRJTUVPVVRfUkVUUllfQ09TVCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUmV0cnlRdW90YSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFJldHJ5UXVvdGFPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcmV0cnkgdG9rZW4gdG8gYmUgaW5jcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlXG4gICAqIGlmIGFuIFNESyBvcGVyYXRpb24gaW52b2NhdGlvbiBzdWNjZWVkcyB3aXRob3V0IHJlcXVpcmluZyBhIHJldHJ5IHJlcXVlc3QuXG4gICAqL1xuICBub1JldHJ5SW5jcmVtZW50PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdG90YWwgYW1vdW50IG9mIHJldHJ5IHRva2VucyB0byBiZSBkZWNyZW1lbnRlZCBmcm9tIHJldHJ5IHRva2VuIGJhbGFuY2UuXG4gICAqL1xuICByZXRyeUNvc3Q/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcmV0cnkgdG9rZW5zIHRvIGJlIGRlY3JlbWVudGVkIGZyb20gcmV0cnkgdG9rZW4gYmFsYW5jZVxuICAgKiB3aGVuIGEgdGhyb3R0bGluZyBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgICovXG4gIHRpbWVvdXRSZXRyeUNvc3Q/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0UmV0cnlRdW90YSA9IChpbml0aWFsUmV0cnlUb2tlbnM6IG51bWJlciwgb3B0aW9ucz86IERlZmF1bHRSZXRyeVF1b3RhT3B0aW9ucyk6IFJldHJ5UXVvdGEgPT4ge1xuICBjb25zdCBNQVhfQ0FQQUNJVFkgPSBpbml0aWFsUmV0cnlUb2tlbnM7XG4gIGNvbnN0IG5vUmV0cnlJbmNyZW1lbnQgPSBvcHRpb25zPy5ub1JldHJ5SW5jcmVtZW50ID8/IE5PX1JFVFJZX0lOQ1JFTUVOVDtcbiAgY29uc3QgcmV0cnlDb3N0ID0gb3B0aW9ucz8ucmV0cnlDb3N0ID8/IFJFVFJZX0NPU1Q7XG4gIGNvbnN0IHRpbWVvdXRSZXRyeUNvc3QgPSBvcHRpb25zPy50aW1lb3V0UmV0cnlDb3N0ID8/IFRJTUVPVVRfUkVUUllfQ09TVDtcblxuICBsZXQgYXZhaWxhYmxlQ2FwYWNpdHkgPSBpbml0aWFsUmV0cnlUb2tlbnM7XG5cbiAgY29uc3QgZ2V0Q2FwYWNpdHlBbW91bnQgPSAoZXJyb3I6IFNka0Vycm9yKSA9PiAoZXJyb3IubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIiA/IHRpbWVvdXRSZXRyeUNvc3QgOiByZXRyeUNvc3QpO1xuXG4gIGNvbnN0IGhhc1JldHJ5VG9rZW5zID0gKGVycm9yOiBTZGtFcnJvcikgPT4gZ2V0Q2FwYWNpdHlBbW91bnQoZXJyb3IpIDw9IGF2YWlsYWJsZUNhcGFjaXR5O1xuXG4gIGNvbnN0IHJldHJpZXZlUmV0cnlUb2tlbnMgPSAoZXJyb3I6IFNka0Vycm9yKSA9PiB7XG4gICAgaWYgKCFoYXNSZXRyeVRva2VucyhlcnJvcikpIHtcbiAgICAgIC8vIHJldHJ5U3RyYXRlZ3kgc2hvdWxkIHN0b3AgcmV0cnlpbmcsIGFuZCByZXR1cm4gbGFzdCBlcnJvclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cnkgdG9rZW4gYXZhaWxhYmxlXCIpO1xuICAgIH1cbiAgICBjb25zdCBjYXBhY2l0eUFtb3VudCA9IGdldENhcGFjaXR5QW1vdW50KGVycm9yKTtcbiAgICBhdmFpbGFibGVDYXBhY2l0eSAtPSBjYXBhY2l0eUFtb3VudDtcbiAgICByZXR1cm4gY2FwYWNpdHlBbW91bnQ7XG4gIH07XG5cbiAgY29uc3QgcmVsZWFzZVJldHJ5VG9rZW5zID0gKGNhcGFjaXR5UmVsZWFzZUFtb3VudD86IG51bWJlcikgPT4ge1xuICAgIGF2YWlsYWJsZUNhcGFjaXR5ICs9IGNhcGFjaXR5UmVsZWFzZUFtb3VudCA/PyBub1JldHJ5SW5jcmVtZW50O1xuICAgIGF2YWlsYWJsZUNhcGFjaXR5ID0gTWF0aC5taW4oYXZhaWxhYmxlQ2FwYWNpdHksIE1BWF9DQVBBQ0lUWSk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGhhc1JldHJ5VG9rZW5zLFxuICAgIHJldHJpZXZlUmV0cnlUb2tlbnMsXG4gICAgcmVsZWFzZVJldHJ5VG9rZW5zLFxuICB9KTtcbn07XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nimport { isThrottlingError } from \"@aws-sdk/service-error-classification\";\nvar DefaultRateLimiter = /** @class */ (function () {\n    function DefaultRateLimiter(options) {\n        var _a, _b, _c, _d, _e;\n        // Pre-set state variables\n        this.currentCapacity = 0;\n        this.enabled = false;\n        this.lastMaxRate = 0;\n        this.measuredTxRate = 0;\n        this.requestCount = 0;\n        this.lastTimestamp = 0;\n        this.timeWindow = 0;\n        this.beta = (_a = options === null || options === void 0 ? void 0 : options.beta) !== null && _a !== void 0 ? _a : 0.7;\n        this.minCapacity = (_b = options === null || options === void 0 ? void 0 : options.minCapacity) !== null && _b !== void 0 ? _b : 1;\n        this.minFillRate = (_c = options === null || options === void 0 ? void 0 : options.minFillRate) !== null && _c !== void 0 ? _c : 0.5;\n        this.scaleConstant = (_d = options === null || options === void 0 ? void 0 : options.scaleConstant) !== null && _d !== void 0 ? _d : 0.4;\n        this.smooth = (_e = options === null || options === void 0 ? void 0 : options.smooth) !== null && _e !== void 0 ? _e : 0.8;\n        var currentTimeInSeconds = this.getCurrentTimeInSeconds();\n        this.lastThrottleTime = currentTimeInSeconds;\n        this.lastTxRateBucket = Math.floor(this.getCurrentTimeInSeconds());\n        this.fillRate = this.minFillRate;\n        this.maxCapacity = this.minCapacity;\n    }\n    DefaultRateLimiter.prototype.getCurrentTimeInSeconds = function () {\n        return Date.now() / 1000;\n    };\n    DefaultRateLimiter.prototype.getSendToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.acquireTokenBucket(1)];\n            });\n        });\n    };\n    DefaultRateLimiter.prototype.acquireTokenBucket = function (amount) {\n        return __awaiter(this, void 0, void 0, function () {\n            var delay_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Client side throttling is not enabled until we see a throttling error.\n                        if (!this.enabled) {\n                            return [2 /*return*/];\n                        }\n                        this.refillTokenBucket();\n                        if (!(amount > this.currentCapacity)) return [3 /*break*/, 2];\n                        delay_1 = ((amount - this.currentCapacity) / this.fillRate) * 1000;\n                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delay_1); })];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        this.currentCapacity = this.currentCapacity - amount;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DefaultRateLimiter.prototype.refillTokenBucket = function () {\n        var timestamp = this.getCurrentTimeInSeconds();\n        if (!this.lastTimestamp) {\n            this.lastTimestamp = timestamp;\n            return;\n        }\n        var fillAmount = (timestamp - this.lastTimestamp) * this.fillRate;\n        this.currentCapacity = Math.min(this.maxCapacity, this.currentCapacity + fillAmount);\n        this.lastTimestamp = timestamp;\n    };\n    DefaultRateLimiter.prototype.updateClientSendingRate = function (response) {\n        var calculatedRate;\n        this.updateMeasuredRate();\n        if (isThrottlingError(response)) {\n            var rateToUse = !this.enabled ? this.measuredTxRate : Math.min(this.measuredTxRate, this.fillRate);\n            this.lastMaxRate = rateToUse;\n            this.calculateTimeWindow();\n            this.lastThrottleTime = this.getCurrentTimeInSeconds();\n            calculatedRate = this.cubicThrottle(rateToUse);\n            this.enableTokenBucket();\n        }\n        else {\n            this.calculateTimeWindow();\n            calculatedRate = this.cubicSuccess(this.getCurrentTimeInSeconds());\n        }\n        var newRate = Math.min(calculatedRate, 2 * this.measuredTxRate);\n        this.updateTokenBucketRate(newRate);\n    };\n    DefaultRateLimiter.prototype.calculateTimeWindow = function () {\n        this.timeWindow = this.getPrecise(Math.pow((this.lastMaxRate * (1 - this.beta)) / this.scaleConstant, 1 / 3));\n    };\n    DefaultRateLimiter.prototype.cubicThrottle = function (rateToUse) {\n        return this.getPrecise(rateToUse * this.beta);\n    };\n    DefaultRateLimiter.prototype.cubicSuccess = function (timestamp) {\n        return this.getPrecise(this.scaleConstant * Math.pow(timestamp - this.lastThrottleTime - this.timeWindow, 3) + this.lastMaxRate);\n    };\n    DefaultRateLimiter.prototype.enableTokenBucket = function () {\n        this.enabled = true;\n    };\n    DefaultRateLimiter.prototype.updateTokenBucketRate = function (newRate) {\n        // Refill based on our current rate before we update to the new fill rate.\n        this.refillTokenBucket();\n        this.fillRate = Math.max(newRate, this.minFillRate);\n        this.maxCapacity = Math.max(newRate, this.minCapacity);\n        // When we scale down we can't have a current capacity that exceeds our maxCapacity.\n        this.currentCapacity = Math.min(this.currentCapacity, this.maxCapacity);\n    };\n    DefaultRateLimiter.prototype.updateMeasuredRate = function () {\n        var t = this.getCurrentTimeInSeconds();\n        var timeBucket = Math.floor(t * 2) / 2;\n        this.requestCount++;\n        if (timeBucket > this.lastTxRateBucket) {\n            var currentRate = this.requestCount / (timeBucket - this.lastTxRateBucket);\n            this.measuredTxRate = this.getPrecise(currentRate * this.smooth + this.measuredTxRate * (1 - this.smooth));\n            this.requestCount = 0;\n            this.lastTxRateBucket = timeBucket;\n        }\n    };\n    DefaultRateLimiter.prototype.getPrecise = function (num) {\n        return parseFloat(num.toFixed(8));\n    };\n    return DefaultRateLimiter;\n}());\nexport { DefaultRateLimiter };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVmYXVsdFJhdGVMaW1pdGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0RlZmF1bHRSYXRlTGltaXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFZMUU7SUF1QkUsNEJBQVksT0FBbUM7O1FBZi9DLDBCQUEwQjtRQUNsQixvQkFBZSxHQUFHLENBQUMsQ0FBQztRQUNwQixZQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ2hCLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLG1CQUFjLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLGlCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBS2pCLGtCQUFhLEdBQUcsQ0FBQyxDQUFDO1FBR2xCLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFHckIsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxJQUFJLG1DQUFJLEdBQUcsQ0FBQztRQUNqQyxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFdBQVcsbUNBQUksQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsV0FBVyxtQ0FBSSxHQUFHLENBQUM7UUFDL0MsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxhQUFhLG1DQUFJLEdBQUcsQ0FBQztRQUNuRCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLE1BQU0sbUNBQUksR0FBRyxDQUFDO1FBRXJDLElBQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDNUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLG9CQUFvQixD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SSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXZELG9GQUFvRjtRQUNwRixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVPLCtDQUFrQixHQUExQjtRQUNFLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQ3pDLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFcEIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBQ3RDLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDN0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFVBQVUsQ0FBQztTQUNwQztJQUNILENBQUM7SUFFTyx1Q0FBVSxHQUFsQixVQUFtQixHQUFXO1FBQzVCLE9BQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBQ0gseUJBQUM7QUFBRCxDQUFDLEFBeklELElBeUlDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNUaHJvdHRsaW5nRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuXG5pbXBvcnQgeyBSYXRlTGltaXRlciB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFJhdGVMaW1pdGVyT3B0aW9ucyB7XG4gIGJldGE/OiBudW1iZXI7XG4gIG1pbkNhcGFjaXR5PzogbnVtYmVyO1xuICBtaW5GaWxsUmF0ZT86IG51bWJlcjtcbiAgc2NhbGVDb25zdGFudD86IG51bWJlcjtcbiAgc21vb3RoPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFJhdGVMaW1pdGVyIGltcGxlbWVudHMgUmF0ZUxpbWl0ZXIge1xuICAvLyBVc2VyIGNvbmZpZ3VyYWJsZSBjb25zdGFudHNcbiAgcHJpdmF0ZSBiZXRhOiBudW1iZXI7XG4gIHByaXZhdGUgbWluQ2FwYWNpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBtaW5GaWxsUmF0ZTogbnVtYmVyO1xuICBwcml2YXRlIHNjYWxlQ29uc3RhbnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBzbW9vdGg6IG51bWJlcjtcblxuICAvLyBQcmUtc2V0IHN0YXRlIHZhcmlhYmxlc1xuICBwcml2YXRlIGN1cnJlbnRDYXBhY2l0eSA9IDA7XG4gIHByaXZhdGUgZW5hYmxlZCA9IGZhbHNlO1xuICBwcml2YXRlIGxhc3RNYXhSYXRlID0gMDtcbiAgcHJpdmF0ZSBtZWFzdXJlZFR4UmF0ZSA9IDA7XG4gIHByaXZhdGUgcmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBPdGhlciBzdGF0ZSB2YXJpYWJsZXNcbiAgcHJpdmF0ZSBmaWxsUmF0ZTogbnVtYmVyO1xuICBwcml2YXRlIGxhc3RUaHJvdHRsZVRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBsYXN0VGltZXN0YW1wID0gMDtcbiAgcHJpdmF0ZSBsYXN0VHhSYXRlQnVja2V0OiBudW1iZXI7XG4gIHByaXZhdGUgbWF4Q2FwYWNpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSB0aW1lV2luZG93ID0gMDtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogRGVmYXVsdFJhdGVMaW1pdGVyT3B0aW9ucykge1xuICAgIHRoaXMuYmV0YSA9IG9wdGlvbnM/LmJldGEgPz8gMC43O1xuICAgIHRoaXMubWluQ2FwYWNpdHkgPSBvcHRpb25zPy5taW5DYXBhY2l0eSA/PyAxO1xuICAgIHRoaXMubWluRmlsbFJhdGUgPSBvcHRpb25zPy5taW5GaWxsUmF0ZSA/PyAwLjU7XG4gICAgdGhpcy5zY2FsZUNvbnN0YW50ID0gb3B0aW9ucz8uc2NhbGVDb25zdGFudCA/PyAwLjQ7XG4gICAgdGhpcy5zbW9vdGggPSBvcHRpb25zPy5zbW9vdGggPz8gMC44O1xuXG4gICAgY29uc3QgY3VycmVudFRpbWVJblNlY29uZHMgPSB0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCk7XG4gICAgdGhpcy5sYXN0VGhyb3R0bGVUaW1lID0gY3VycmVudFRpbWVJblNlY29uZHM7XG4gICAgdGhpcy5sYXN0VHhSYXRlQnVja2V0ID0gTWF0aC5mbG9vcih0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCkpO1xuXG4gICAgdGhpcy5maWxsUmF0ZSA9IHRoaXMubWluRmlsbFJhdGU7XG4gICAgdGhpcy5tYXhDYXBhY2l0eSA9IHRoaXMubWluQ2FwYWNpdHk7XG4gIH1cblxuICBwcml2YXRlIGdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpIC8gMTAwMDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRTZW5kVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuQnVja2V0KDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBhY3F1aXJlVG9rZW5CdWNrZXQoYW1vdW50OiBudW1iZXIpIHtcbiAgICAvLyBDbGllbnQgc2lkZSB0aHJvdHRsaW5nIGlzIG5vdCBlbmFibGVkIHVudGlsIHdlIHNlZSBhIHRocm90dGxpbmcgZXJyb3IuXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlZmlsbFRva2VuQnVja2V0KCk7XG4gICAgaWYgKGFtb3VudCA+IHRoaXMuY3VycmVudENhcGFjaXR5KSB7XG4gICAgICBjb25zdCBkZWxheSA9ICgoYW1vdW50IC0gdGhpcy5jdXJyZW50Q2FwYWNpdHkpIC8gdGhpcy5maWxsUmF0ZSkgKiAxMDAwO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q2FwYWNpdHkgPSB0aGlzLmN1cnJlbnRDYXBhY2l0eSAtIGFtb3VudDtcbiAgfVxuXG4gIHByaXZhdGUgcmVmaWxsVG9rZW5CdWNrZXQoKSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpO1xuICAgIGlmICghdGhpcy5sYXN0VGltZXN0YW1wKSB7XG4gICAgICB0aGlzLmxhc3RUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZmlsbEFtb3VudCA9ICh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaW1lc3RhbXApICogdGhpcy5maWxsUmF0ZTtcbiAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IE1hdGgubWluKHRoaXMubWF4Q2FwYWNpdHksIHRoaXMuY3VycmVudENhcGFjaXR5ICsgZmlsbEFtb3VudCk7XG4gICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZUNsaWVudFNlbmRpbmdSYXRlKHJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgY2FsY3VsYXRlZFJhdGU6IG51bWJlcjtcbiAgICB0aGlzLnVwZGF0ZU1lYXN1cmVkUmF0ZSgpO1xuXG4gICAgaWYgKGlzVGhyb3R0bGluZ0Vycm9yKHJlc3BvbnNlKSkge1xuICAgICAgY29uc3QgcmF0ZVRvVXNlID0gIXRoaXMuZW5hYmxlZCA/IHRoaXMubWVhc3VyZWRUeFJhdGUgOiBNYXRoLm1pbih0aGlzLm1lYXN1cmVkVHhSYXRlLCB0aGlzLmZpbGxSYXRlKTtcbiAgICAgIHRoaXMubGFzdE1heFJhdGUgPSByYXRlVG9Vc2U7XG4gICAgICB0aGlzLmNhbGN1bGF0ZVRpbWVXaW5kb3coKTtcbiAgICAgIHRoaXMubGFzdFRocm90dGxlVGltZSA9IHRoaXMuZ2V0Q3VycmVudFRpbWVJblNlY29uZHMoKTtcbiAgICAgIGNhbGN1bGF0ZWRSYXRlID0gdGhpcy5jdWJpY1Rocm90dGxlKHJhdGVUb1VzZSk7XG4gICAgICB0aGlzLmVuYWJsZVRva2VuQnVja2V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlVGltZVdpbmRvdygpO1xuICAgICAgY2FsY3VsYXRlZFJhdGUgPSB0aGlzLmN1YmljU3VjY2Vzcyh0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1JhdGUgPSBNYXRoLm1pbihjYWxjdWxhdGVkUmF0ZSwgMiAqIHRoaXMubWVhc3VyZWRUeFJhdGUpO1xuICAgIHRoaXMudXBkYXRlVG9rZW5CdWNrZXRSYXRlKG5ld1JhdGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVUaW1lV2luZG93KCkge1xuICAgIHRoaXMudGltZVdpbmRvdyA9IHRoaXMuZ2V0UHJlY2lzZShNYXRoLnBvdygodGhpcy5sYXN0TWF4UmF0ZSAqICgxIC0gdGhpcy5iZXRhKSkgLyB0aGlzLnNjYWxlQ29uc3RhbnQsIDEgLyAzKSk7XG4gIH1cblxuICBwcml2YXRlIGN1YmljVGhyb3R0bGUocmF0ZVRvVXNlOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQcmVjaXNlKHJhdGVUb1VzZSAqIHRoaXMuYmV0YSk7XG4gIH1cblxuICBwcml2YXRlIGN1YmljU3VjY2Vzcyh0aW1lc3RhbXA6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLmdldFByZWNpc2UoXG4gICAgICB0aGlzLnNjYWxlQ29uc3RhbnQgKiBNYXRoLnBvdyh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaHJvdHRsZVRpbWUgLSB0aGlzLnRpbWVXaW5kb3csIDMpICsgdGhpcy5sYXN0TWF4UmF0ZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGVuYWJsZVRva2VuQnVja2V0KCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVRva2VuQnVja2V0UmF0ZShuZXdSYXRlOiBudW1iZXIpIHtcbiAgICAvLyBSZWZpbGwgYmFzZWQgb24gb3VyIGN1cnJlbnQgcmF0ZSBiZWZvcmUgd2UgdXBkYXRlIHRvIHRoZSBuZXcgZmlsbCByYXRlLlxuICAgIHRoaXMucmVmaWxsVG9rZW5CdWNrZXQoKTtcblxuICAgIHRoaXMuZmlsbFJhdGUgPSBNYXRoLm1heChuZXdSYXRlLCB0aGlzLm1pbkZpbGxSYXRlKTtcbiAgICB0aGlzLm1heENhcGFjaXR5ID0gTWF0aC5tYXgobmV3UmF0ZSwgdGhpcy5taW5DYXBhY2l0eSk7XG5cbiAgICAvLyBXaGVuIHdlIHNjYWxlIGRvd24gd2UgY2FuJ3QgaGF2ZSBhIGN1cnJlbnQgY2FwYWNpdHkgdGhhdCBleGNlZWRzIG91ciBtYXhDYXBhY2l0eS5cbiAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IE1hdGgubWluKHRoaXMuY3VycmVudENhcGFjaXR5LCB0aGlzLm1heENhcGFjaXR5KTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTWVhc3VyZWRSYXRlKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCk7XG4gICAgY29uc3QgdGltZUJ1Y2tldCA9IE1hdGguZmxvb3IodCAqIDIpIC8gMjtcbiAgICB0aGlzLnJlcXVlc3RDb3VudCsrO1xuXG4gICAgaWYgKHRpbWVCdWNrZXQgPiB0aGlzLmxhc3RUeFJhdGVCdWNrZXQpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRSYXRlID0gdGhpcy5yZXF1ZXN0Q291bnQgLyAodGltZUJ1Y2tldCAtIHRoaXMubGFzdFR4UmF0ZUJ1Y2tldCk7XG4gICAgICB0aGlzLm1lYXN1cmVkVHhSYXRlID0gdGhpcy5nZXRQcmVjaXNlKGN1cnJlbnRSYXRlICogdGhpcy5zbW9vdGggKyB0aGlzLm1lYXN1cmVkVHhSYXRlICogKDEgLSB0aGlzLnNtb290aCkpO1xuICAgICAgdGhpcy5yZXF1ZXN0Q291bnQgPSAwO1xuICAgICAgdGhpcy5sYXN0VHhSYXRlQnVja2V0ID0gdGltZUJ1Y2tldDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFByZWNpc2UobnVtOiBudW1iZXIpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChudW0udG9GaXhlZCg4KSk7XG4gIH1cbn1cbiJdfQ==","import { __awaiter, __extends, __generator, __rest } from \"tslib\";\nimport { RETRY_MODES } from \"./config\";\nimport { DefaultRateLimiter } from \"./DefaultRateLimiter\";\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\nvar AdaptiveRetryStrategy = /** @class */ (function (_super) {\n    __extends(AdaptiveRetryStrategy, _super);\n    function AdaptiveRetryStrategy(maxAttemptsProvider, options) {\n        var _this = this;\n        var _a = options !== null && options !== void 0 ? options : {}, rateLimiter = _a.rateLimiter, superOptions = __rest(_a, [\"rateLimiter\"]);\n        _this = _super.call(this, maxAttemptsProvider, superOptions) || this;\n        _this.rateLimiter = rateLimiter !== null && rateLimiter !== void 0 ? rateLimiter : new DefaultRateLimiter();\n        _this.mode = RETRY_MODES.ADAPTIVE;\n        return _this;\n    }\n    AdaptiveRetryStrategy.prototype.retry = function (next, args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, _super.prototype.retry.call(this, next, args, {\n                        beforeRequest: function () { return __awaiter(_this, void 0, void 0, function () {\n                            return __generator(this, function (_a) {\n                                return [2 /*return*/, this.rateLimiter.getSendToken()];\n                            });\n                        }); },\n                        afterRequest: function (response) {\n                            _this.rateLimiter.updateClientSendingRate(response);\n                        },\n                    })];\n            });\n        });\n    };\n    return AdaptiveRetryStrategy;\n}(StandardRetryStrategy));\nexport { AdaptiveRetryStrategy };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRhcHRpdmVSZXRyeVN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0FkYXB0aXZlUmV0cnlTdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN2QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUscUJBQXFCLEVBQWdDLE1BQU0seUJBQXlCLENBQUM7QUFVOUY7SUFBMkMseUNBQXFCO0lBRzlELCtCQUFZLG1CQUFxQyxFQUFFLE9BQXNDO1FBQXpGLGlCQUtDO1FBSkMsSUFBTSxLQUFtQyxPQUFPLGFBQVAsT0FBTyxjQUFQLE9BQU8sR0FBSSxFQUFFLEVBQTlDLFdBQVcsaUJBQUEsRUFBSyxZQUFZLGNBQTlCLGVBQWdDLENBQWdCLENBQUM7UUFDdkQsUUFBQSxrQkFBTSxtQkFBbUIsRUFBRSxZQUFZLENBQUMsU0FBQztRQUN6QyxLQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsYUFBWCxXQUFXLGNBQVgsV0FBVyxHQUFJLElBQUksa0JBQWtCLEVBQUUsQ0FBQztRQUMzRCxLQUFJLENBQUMsSUFBSSxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7O0lBQ25DLENBQUM7SUFFSyxxQ0FBSyxHQUFYLFVBQ0UsSUFBbUMsRUFDbkMsSUFBcUM7Ozs7Z0JBRXJDLHNCQUFPLGlCQUFNLEtBQUssWUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFO3dCQUM3QixhQUFhLEVBQUU7O2dDQUNiLHNCQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLEVBQUM7OzZCQUN4Qzt3QkFDRCxZQUFZLEVBQUUsVUFBQyxRQUFhOzRCQUMxQixLQUFJLENBQUMsV0FBVyxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNyRCxDQUFDO3FCQUNGLENBQUMsRUFBQzs7O0tBQ0o7SUFDSCw0QkFBQztBQUFELENBQUMsQUF2QkQsQ0FBMkMscUJBQXFCLEdBdUIvRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZpbmFsaXplSGFuZGxlciwgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLCBNZXRhZGF0YUJlYXJlciwgUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgUkVUUllfTU9ERVMgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IERlZmF1bHRSYXRlTGltaXRlciB9IGZyb20gXCIuL0RlZmF1bHRSYXRlTGltaXRlclwiO1xuaW1wb3J0IHsgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5LCBTdGFuZGFyZFJldHJ5U3RyYXRlZ3lPcHRpb25zIH0gZnJvbSBcIi4vU3RhbmRhcmRSZXRyeVN0cmF0ZWd5XCI7XG5pbXBvcnQgeyBSYXRlTGltaXRlciB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogU3RyYXRlZ3kgb3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gQWRhcHRpdmVSZXRyeVN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWRhcHRpdmVSZXRyeVN0cmF0ZWd5T3B0aW9ucyBleHRlbmRzIFN0YW5kYXJkUmV0cnlTdHJhdGVneU9wdGlvbnMge1xuICByYXRlTGltaXRlcj86IFJhdGVMaW1pdGVyO1xufVxuXG5leHBvcnQgY2xhc3MgQWRhcHRpdmVSZXRyeVN0cmF0ZWd5IGV4dGVuZHMgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5IHtcbiAgcHJpdmF0ZSByYXRlTGltaXRlcjogUmF0ZUxpbWl0ZXI7XG5cbiAgY29uc3RydWN0b3IobWF4QXR0ZW1wdHNQcm92aWRlcjogUHJvdmlkZXI8bnVtYmVyPiwgb3B0aW9ucz86IEFkYXB0aXZlUmV0cnlTdHJhdGVneU9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJhdGVMaW1pdGVyLCAuLi5zdXBlck9wdGlvbnMgfSA9IG9wdGlvbnMgPz8ge307XG4gICAgc3VwZXIobWF4QXR0ZW1wdHNQcm92aWRlciwgc3VwZXJPcHRpb25zKTtcbiAgICB0aGlzLnJhdGVMaW1pdGVyID0gcmF0ZUxpbWl0ZXIgPz8gbmV3IERlZmF1bHRSYXRlTGltaXRlcigpO1xuICAgIHRoaXMubW9kZSA9IFJFVFJZX01PREVTLkFEQVBUSVZFO1xuICB9XG5cbiAgYXN5bmMgcmV0cnk8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3VwdXQ+LFxuICAgIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD5cbiAgKSB7XG4gICAgcmV0dXJuIHN1cGVyLnJldHJ5KG5leHQsIGFyZ3MsIHtcbiAgICAgIGJlZm9yZVJlcXVlc3Q6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF0ZUxpbWl0ZXIuZ2V0U2VuZFRva2VuKCk7XG4gICAgICB9LFxuICAgICAgYWZ0ZXJSZXF1ZXN0OiAocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnJhdGVMaW1pdGVyLnVwZGF0ZUNsaWVudFNlbmRpbmdSYXRlKHJlc3BvbnNlKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { AdaptiveRetryStrategy } from \"./AdaptiveRetryStrategy\";\nimport { DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_MODE, RETRY_MODES } from \"./config\";\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\nexport var ENV_MAX_ATTEMPTS = \"AWS_MAX_ATTEMPTS\";\nexport var CONFIG_MAX_ATTEMPTS = \"max_attempts\";\nexport var NODE_MAX_ATTEMPT_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) {\n        var value = env[ENV_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        var maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(\"Environment variable \" + ENV_MAX_ATTEMPTS + \" mast be a number, got \\\"\" + value + \"\\\"\");\n        }\n        return maxAttempt;\n    },\n    configFileSelector: function (profile) {\n        var value = profile[CONFIG_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        var maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(\"Shared config file entry \" + CONFIG_MAX_ATTEMPTS + \" mast be a number, got \\\"\" + value + \"\\\"\");\n        }\n        return maxAttempt;\n    },\n    default: DEFAULT_MAX_ATTEMPTS,\n};\nexport var resolveRetryConfig = function (input) {\n    var maxAttempts = normalizeMaxAttempts(input.maxAttempts);\n    return __assign(__assign({}, input), { maxAttempts: maxAttempts, retryStrategy: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var retryMode, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (input.retryStrategy) {\n                            return [2 /*return*/, input.retryStrategy];\n                        }\n                        _a = input.retryMode;\n                        if (_a) return [3 /*break*/, 2];\n                        return [4 /*yield*/, input.retryModeProvider()];\n                    case 1:\n                        _a = (_b.sent());\n                        _b.label = 2;\n                    case 2:\n                        retryMode = _a;\n                        if (retryMode === RETRY_MODES.ADAPTIVE) {\n                            return [2 /*return*/, new AdaptiveRetryStrategy(maxAttempts)];\n                        }\n                        return [2 /*return*/, new StandardRetryStrategy(maxAttempts)];\n                }\n            });\n        }); } });\n};\nvar normalizeMaxAttempts = function (maxAttempts) {\n    if (maxAttempts === void 0) { maxAttempts = DEFAULT_MAX_ATTEMPTS; }\n    if (typeof maxAttempts === \"number\") {\n        var promisified_1 = Promise.resolve(maxAttempts);\n        return function () { return promisified_1; };\n    }\n    return maxAttempts;\n};\nexport var ENV_RETRY_MODE = \"AWS_RETRY_MODE\";\nexport var CONFIG_RETRY_MODE = \"retry_mode\";\nexport var NODE_RETRY_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) { return env[ENV_RETRY_MODE]; },\n    configFileSelector: function (profile) { return profile[CONFIG_RETRY_MODE]; },\n    default: DEFAULT_RETRY_MODE,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUdBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxXQUFXLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDakYsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFaEUsTUFBTSxDQUFDLElBQU0sZ0JBQWdCLEdBQUcsa0JBQWtCLENBQUM7QUFDbkQsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsY0FBYyxDQUFDO0FBRWxELE1BQU0sQ0FBQyxJQUFNLCtCQUErQixHQUFrQztJQUM1RSwyQkFBMkIsRUFBRSxVQUFDLEdBQUc7UUFDL0IsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUM3QixJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzVCLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQXdCLGdCQUFnQixpQ0FBMkIsS0FBSyxPQUFHLENBQUMsQ0FBQztTQUM5RjtRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFDRCxrQkFBa0IsRUFBRSxVQUFDLE9BQU87UUFDMUIsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUM3QixJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzVCLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQTRCLG1CQUFtQixpQ0FBMkIsS0FBSyxPQUFHLENBQUMsQ0FBQztTQUNyRztRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFDRCxPQUFPLEVBQUUsb0JBQW9CO0NBQzlCLENBQUM7QUFvQ0YsTUFBTSxDQUFDLElBQU0sa0JBQWtCLEdBQUcsVUFBSSxLQUFnRDtJQUNwRixJQUFNLFdBQVcsR0FBRyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDNUQsNkJBQ0ssS0FBSyxLQUNSLFdBQVcsYUFBQSxFQUNYLGFBQWEsRUFBRTs7Ozs7d0JBQ2IsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFOzRCQUN2QixzQkFBTyxLQUFLLENBQUMsYUFBYSxFQUFDO3lCQUM1Qjt3QkFDaUIsS0FBQSxLQUFLLENBQUMsU0FBUyxDQUFBO2dDQUFmLHdCQUFlO3dCQUFLLHFCQUFNLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxFQUFBOzt3QkFBaEMsS0FBQSxDQUFDLFNBQStCLENBQUMsQ0FBQTs7O3dCQUFoRSxTQUFTLEtBQXVEO3dCQUN0RSxJQUFJLFNBQVMsS0FBSyxXQUFXLENBQUMsUUFBUSxFQUFFOzRCQUN0QyxzQkFBTyxJQUFJLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxFQUFDO3lCQUMvQzt3QkFDRCxzQkFBTyxJQUFJLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxFQUFDOzs7YUFDL0MsSUFDRDtBQUNKLENBQUMsQ0FBQztBQUVGLElBQU0sb0JBQW9CLEdBQUcsVUFBQyxXQUE2RDtJQUE3RCw0QkFBQSxFQUFBLGtDQUE2RDtJQUN6RixJQUFJLE9BQU8sV0FBVyxLQUFLLFFBQVEsRUFBRTtRQUNuQyxJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsZ0JBQWdCLENBQUM7QUFDL0MsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFNLDhCQUE4QixHQUFrQztJQUMzRSwyQkFBMkIsRUFBRSxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBbkIsQ0FBbUI7SUFDekQsa0JBQWtCLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBMUIsQ0FBMEI7SUFDM0QsT0FBTyxFQUFFLGtCQUFrQjtDQUM1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9hZGVkQ29uZmlnU2VsZWN0b3JzIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBQcm92aWRlciwgUmV0cnlTdHJhdGVneSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBBZGFwdGl2ZVJldHJ5U3RyYXRlZ3kgfSBmcm9tIFwiLi9BZGFwdGl2ZVJldHJ5U3RyYXRlZ3lcIjtcbmltcG9ydCB7IERFRkFVTFRfTUFYX0FUVEVNUFRTLCBERUZBVUxUX1JFVFJZX01PREUsIFJFVFJZX01PREVTIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kgfSBmcm9tIFwiLi9TdGFuZGFyZFJldHJ5U3RyYXRlZ3lcIjtcblxuZXhwb3J0IGNvbnN0IEVOVl9NQVhfQVRURU1QVFMgPSBcIkFXU19NQVhfQVRURU1QVFNcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfTUFYX0FUVEVNUFRTID0gXCJtYXhfYXR0ZW1wdHNcIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlM6IExvYWRlZENvbmZpZ1NlbGVjdG9yczxudW1iZXI+ID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGVudltFTlZfTUFYX0FUVEVNUFRTXTtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1heEF0dGVtcHQgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgaWYgKE51bWJlci5pc05hTihtYXhBdHRlbXB0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbnZpcm9ubWVudCB2YXJpYWJsZSAke0VOVl9NQVhfQVRURU1QVFN9IG1hc3QgYmUgYSBudW1iZXIsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICB9XG4gICAgcmV0dXJuIG1heEF0dGVtcHQ7XG4gIH0sXG4gIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX01BWF9BVFRFTVBUU107XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obWF4QXR0ZW1wdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU2hhcmVkIGNvbmZpZyBmaWxlIGVudHJ5ICR7Q09ORklHX01BWF9BVFRFTVBUU30gbWFzdCBiZSBhIG51bWJlciwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgIH1cbiAgICByZXR1cm4gbWF4QXR0ZW1wdDtcbiAgfSxcbiAgZGVmYXVsdDogREVGQVVMVF9NQVhfQVRURU1QVFMsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5SW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHJlcXVlc3RzIHRoYXQgZW5jb3VudGVyIHJldHJ5YWJsZSBmYWlsdXJlcyBzaG91bGQgYmUgYXR0ZW1wdGVkLlxuICAgKi9cbiAgbWF4QXR0ZW1wdHM/OiBudW1iZXIgfCBQcm92aWRlcjxudW1iZXI+O1xuICAvKipcbiAgICogVGhlIHN0cmF0ZWd5IHRvIHJldHJ5IHRoZSByZXF1ZXN0LiBVc2luZyBidWlsdC1pbiBleHBvbmVudGlhbCBiYWNrb2ZmIHN0cmF0ZWd5IGJ5IGRlZmF1bHQuXG4gICAqL1xuICByZXRyeVN0cmF0ZWd5PzogUmV0cnlTdHJhdGVneTtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGljaCByZXRyeSBhbGdvcml0aG0gdG8gdXNlLlxuICAgKi9cbiAgcmV0cnlNb2RlPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyBwcm92aWRlciBmb3IgcmV0cnkgYWxnb3JpdGhtIHRvIHVzZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICByZXRyeU1vZGVQcm92aWRlcjogUHJvdmlkZXI8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXRyeVJlc29sdmVkQ29uZmlnIHtcbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCBjb25maWcge0BsaW5rIFJldHJ5SW5wdXRDb25maWcubWF4QXR0ZW1wdHN9XG4gICAqL1xuICBtYXhBdHRlbXB0czogUHJvdmlkZXI8bnVtYmVyPjtcbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCBjb25maWcge0BsaW5rIFJldHJ5SW5wdXRDb25maWcucmV0cnlTdHJhdGVneX1cbiAgICovXG4gIHJldHJ5U3RyYXRlZ3k6IFByb3ZpZGVyPFJldHJ5U3RyYXRlZ3k+O1xufVxuXG5leHBvcnQgY29uc3QgcmVzb2x2ZVJldHJ5Q29uZmlnID0gPFQ+KGlucHV0OiBUICYgUHJldmlvdXNseVJlc29sdmVkICYgUmV0cnlJbnB1dENvbmZpZyk6IFQgJiBSZXRyeVJlc29sdmVkQ29uZmlnID0+IHtcbiAgY29uc3QgbWF4QXR0ZW1wdHMgPSBub3JtYWxpemVNYXhBdHRlbXB0cyhpbnB1dC5tYXhBdHRlbXB0cyk7XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgbWF4QXR0ZW1wdHMsXG4gICAgcmV0cnlTdHJhdGVneTogYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKGlucHV0LnJldHJ5U3RyYXRlZ3kpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJldHJ5U3RyYXRlZ3k7XG4gICAgICB9XG4gICAgICBjb25zdCByZXRyeU1vZGUgPSBpbnB1dC5yZXRyeU1vZGUgfHwgKGF3YWl0IGlucHV0LnJldHJ5TW9kZVByb3ZpZGVyKCkpO1xuICAgICAgaWYgKHJldHJ5TW9kZSA9PT0gUkVUUllfTU9ERVMuQURBUFRJVkUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZVJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgIH0sXG4gIH07XG59O1xuXG5jb25zdCBub3JtYWxpemVNYXhBdHRlbXB0cyA9IChtYXhBdHRlbXB0czogbnVtYmVyIHwgUHJvdmlkZXI8bnVtYmVyPiA9IERFRkFVTFRfTUFYX0FUVEVNUFRTKTogUHJvdmlkZXI8bnVtYmVyPiA9PiB7XG4gIGlmICh0eXBlb2YgbWF4QXR0ZW1wdHMgPT09IFwibnVtYmVyXCIpIHtcbiAgICBjb25zdCBwcm9taXNpZmllZCA9IFByb21pc2UucmVzb2x2ZShtYXhBdHRlbXB0cyk7XG4gICAgcmV0dXJuICgpID0+IHByb21pc2lmaWVkO1xuICB9XG4gIHJldHVybiBtYXhBdHRlbXB0cztcbn07XG5cbmV4cG9ydCBjb25zdCBFTlZfUkVUUllfTU9ERSA9IFwiQVdTX1JFVFJZX01PREVcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfUkVUUllfTU9ERSA9IFwicmV0cnlfbW9kZVwiO1xuXG5leHBvcnQgY29uc3QgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TOiBMb2FkZWRDb25maWdTZWxlY3RvcnM8c3RyaW5nPiA9IHtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiBlbnZbRU5WX1JFVFJZX01PREVdLFxuICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19SRVRSWV9NT0RFXSxcbiAgZGVmYXVsdDogREVGQVVMVF9SRVRSWV9NT0RFLFxufTtcbiJdfQ==","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport var fromUtf8 = function (input) {\n    return typeof TextEncoder === \"function\" ? textEncoderFromUtf8(input) : jsFromUtf8(input);\n};\nexport var toUtf8 = function (input) {\n    return typeof TextDecoder === \"function\" ? textEncoderToUtf8(input) : jsToUtf8(input);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxVQUFDLEtBQWE7SUFDcEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sTUFBTSxHQUFHLFVBQUMsS0FBaUI7SUFDdEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQTlFLENBQThFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSA9PlxuICB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5cbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcgPT5cbiAgdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iXX0=","import { __assign } from \"tslib\";\n// Partition default templates\nvar AWS_TEMPLATE = \"geo.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"geo.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"geo.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"geo.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"geo.{region}.amazonaws.com\";\n// Partition regions\nvar AWS_REGIONS = new Set([\n    \"af-south-1\",\n    \"ap-east-1\",\n    \"ap-northeast-1\",\n    \"ap-northeast-2\",\n    \"ap-northeast-3\",\n    \"ap-south-1\",\n    \"ap-southeast-1\",\n    \"ap-southeast-2\",\n    \"ca-central-1\",\n    \"eu-central-1\",\n    \"eu-north-1\",\n    \"eu-south-1\",\n    \"eu-west-1\",\n    \"eu-west-2\",\n    \"eu-west-3\",\n    \"me-south-1\",\n    \"sa-east-1\",\n    \"us-east-1\",\n    \"us-east-2\",\n    \"us-west-1\",\n    \"us-west-2\",\n]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-east-1\", \"us-gov-west-1\"]);\nexport var defaultRegionInfoProvider = function (region, options) {\n    var regionInfo = undefined;\n    switch (region) {\n        // First, try to match exact region names.\n        // Next, try to match partition endpoints.\n        default:\n            if (AWS_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                };\n            }\n            if (AWS_CN_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-cn\",\n                };\n            }\n            if (AWS_ISO_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso\",\n                };\n            }\n            if (AWS_ISO_B_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso-b\",\n                };\n            }\n            if (AWS_US_GOV_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-us-gov\",\n                };\n            }\n            // Finally, assume it's an AWS partition endpoint.\n            if (regionInfo === undefined) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                };\n            }\n    }\n    return Promise.resolve(__assign({ signingService: \"geo\" }, regionInfo));\n};\n//# sourceMappingURL=endpoints.js.map","import { parseQueryString } from \"@aws-sdk/querystring-parser\";\nexport var parseUrl = function (url) {\n    var _a = new URL(url), hostname = _a.hostname, pathname = _a.pathname, port = _a.port, protocol = _a.protocol, search = _a.search;\n    var query;\n    if (search) {\n        query = parseQueryString(search);\n    }\n    return {\n        hostname: hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol: protocol,\n        path: pathname,\n        query: query,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFHL0QsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFjLFVBQUMsR0FBVztJQUN2QyxJQUFBLEtBQWlELElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUEzRCxRQUFRLGNBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxNQUFNLFlBQWlCLENBQUM7SUFFcEUsSUFBSSxLQUFvQyxDQUFDO0lBQ3pDLElBQUksTUFBTSxFQUFFO1FBQ1YsS0FBSyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQ2xDO0lBRUQsT0FBTztRQUNMLFFBQVEsVUFBQTtRQUNSLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztRQUN2QyxRQUFRLFVBQUE7UUFDUixJQUFJLEVBQUUsUUFBUTtRQUNkLEtBQUssT0FBQTtLQUNOLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVF1ZXJ5U3RyaW5nIH0gZnJvbSBcIkBhd3Mtc2RrL3F1ZXJ5c3RyaW5nLXBhcnNlclwiO1xuaW1wb3J0IHsgRW5kcG9pbnQsIFF1ZXJ5UGFyYW1ldGVyQmFnLCBVcmxQYXJzZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVXJsOiBVcmxQYXJzZXIgPSAodXJsOiBzdHJpbmcpOiBFbmRwb2ludCA9PiB7XG4gIGNvbnN0IHsgaG9zdG5hbWUsIHBhdGhuYW1lLCBwb3J0LCBwcm90b2NvbCwgc2VhcmNoIH0gPSBuZXcgVVJMKHVybCk7XG5cbiAgbGV0IHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyB8IHVuZGVmaW5lZDtcbiAgaWYgKHNlYXJjaCkge1xuICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2gpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBob3N0bmFtZSxcbiAgICBwb3J0OiBwb3J0ID8gcGFyc2VJbnQocG9ydCkgOiB1bmRlZmluZWQsXG4gICAgcHJvdG9jb2wsXG4gICAgcGF0aDogcGF0aG5hbWUsXG4gICAgcXVlcnksXG4gIH07XG59O1xuIl19","export var invalidProvider = function (message) { return function () { return Promise.reject(message); }; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52YWxpZFByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ludmFsaWRQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQXVDLFVBQUMsT0FBZSxJQUFLLE9BQUEsY0FBTSxPQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQXZCLENBQXVCLEVBQTdCLENBQTZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuZXhwb3J0IGNvbnN0IGludmFsaWRQcm92aWRlcjogKG1lc3NhZ2U6IHN0cmluZykgPT4gUHJvdmlkZXI8YW55PiA9IChtZXNzYWdlOiBzdHJpbmcpID0+ICgpID0+IFByb21pc2UucmVqZWN0KG1lc3NhZ2UpO1xuIl19","import { __awaiter, __generator } from \"tslib\";\nimport bowser from \"bowser\";\n/**\n * Default provider to the user agent in browsers. It's a best effort to infer\n * the device information. It uses bowser library to detect the browser and version\n */\nexport var defaultUserAgent = function (_a) {\n    var serviceId = _a.serviceId, clientVersion = _a.clientVersion;\n    return function () { return __awaiter(void 0, void 0, void 0, function () {\n        var parsedUA, sections;\n        var _a, _b, _c, _d, _e, _f, _g;\n        return __generator(this, function (_h) {\n            parsedUA = typeof window !== \"undefined\" && ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent)\n                ? bowser.parse(window.navigator.userAgent)\n                : undefined;\n            sections = [\n                // sdk-metadata\n                [\"aws-sdk-js\", clientVersion],\n                // os-metadata\n                [\"os/\" + (((_b = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.os) === null || _b === void 0 ? void 0 : _b.name) || \"other\"), (_c = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.os) === null || _c === void 0 ? void 0 : _c.version],\n                // language-metadata\n                // ECMAScript edition doesn't matter in JS.\n                [\"lang/js\"],\n                // browser vendor and version.\n                [\"md/browser\", ((_e = (_d = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.browser) === null || _d === void 0 ? void 0 : _d.name) !== null && _e !== void 0 ? _e : \"unknown\") + \"_\" + ((_g = (_f = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.browser) === null || _f === void 0 ? void 0 : _f.version) !== null && _g !== void 0 ? _g : \"unknown\")],\n            ];\n            if (serviceId) {\n                // api-metadata\n                // service Id may not appear in non-AWS clients\n                sections.push([\"api/\" + serviceId, clientVersion]);\n            }\n            return [2 /*return*/, sections];\n        });\n    }); };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sTUFBTSxNQUFNLFFBQVEsQ0FBQztBQUk1Qjs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FDM0IsVUFBQyxFQUFxRDtRQUFuRCxTQUFTLGVBQUEsRUFBRSxhQUFhLG1CQUFBO0lBQzNCLE9BQUE7Ozs7WUFDUSxRQUFRLEdBQ1osT0FBTyxNQUFNLEtBQUssV0FBVyxLQUFJLE1BQUEsTUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFNBQVMsMENBQUUsU0FBUyxDQUFBO2dCQUMzRCxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztnQkFDMUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztZQUNWLFFBQVEsR0FBYztnQkFDMUIsZUFBZTtnQkFDZixDQUFDLFlBQVksRUFBRSxhQUFhLENBQUM7Z0JBQzdCLGNBQWM7Z0JBQ2QsQ0FBQyxTQUFNLENBQUEsTUFBQSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsRUFBRSwwQ0FBRSxJQUFJLEtBQUksT0FBTyxDQUFFLEVBQUUsTUFBQSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsRUFBRSwwQ0FBRSxPQUFPLENBQUM7Z0JBQzlELG9CQUFvQjtnQkFDcEIsMkNBQTJDO2dCQUMzQyxDQUFDLFNBQVMsQ0FBQztnQkFDWCw4QkFBOEI7Z0JBQzlCLENBQUMsWUFBWSxFQUFFLENBQUcsTUFBQSxNQUFBLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxPQUFPLDBDQUFFLElBQUksbUNBQUksU0FBUyxXQUFJLE1BQUEsTUFBQSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsT0FBTywwQ0FBRSxPQUFPLG1DQUFJLFNBQVMsQ0FBRSxDQUFDO2FBQ3JHLENBQUM7WUFFRixJQUFJLFNBQVMsRUFBRTtnQkFDYixlQUFlO2dCQUNmLCtDQUErQztnQkFDL0MsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQU8sU0FBVyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUM7YUFDcEQ7WUFFRCxzQkFBTyxRQUFRLEVBQUM7O1NBQ2pCO0FBeEJELENBd0JDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciwgVXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgYm93c2VyIGZyb20gXCJib3dzZXJcIjtcblxuaW1wb3J0IHsgRGVmYXVsdFVzZXJBZ2VudE9wdGlvbnMgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuXG4vKipcbiAqIERlZmF1bHQgcHJvdmlkZXIgdG8gdGhlIHVzZXIgYWdlbnQgaW4gYnJvd3NlcnMuIEl0J3MgYSBiZXN0IGVmZm9ydCB0byBpbmZlclxuICogdGhlIGRldmljZSBpbmZvcm1hdGlvbi4gSXQgdXNlcyBib3dzZXIgbGlicmFyeSB0byBkZXRlY3QgdGhlIGJyb3dzZXIgYW5kIHZlcnNpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRVc2VyQWdlbnQgPVxuICAoeyBzZXJ2aWNlSWQsIGNsaWVudFZlcnNpb24gfTogRGVmYXVsdFVzZXJBZ2VudE9wdGlvbnMpOiBQcm92aWRlcjxVc2VyQWdlbnQ+ID0+XG4gIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwYXJzZWRVQSA9XG4gICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdz8ubmF2aWdhdG9yPy51c2VyQWdlbnRcbiAgICAgICAgPyBib3dzZXIucGFyc2Uod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNlY3Rpb25zOiBVc2VyQWdlbnQgPSBbXG4gICAgICAvLyBzZGstbWV0YWRhdGFcbiAgICAgIFtcImF3cy1zZGstanNcIiwgY2xpZW50VmVyc2lvbl0sXG4gICAgICAvLyBvcy1tZXRhZGF0YVxuICAgICAgW2Bvcy8ke3BhcnNlZFVBPy5vcz8ubmFtZSB8fCBcIm90aGVyXCJ9YCwgcGFyc2VkVUE/Lm9zPy52ZXJzaW9uXSxcbiAgICAgIC8vIGxhbmd1YWdlLW1ldGFkYXRhXG4gICAgICAvLyBFQ01BU2NyaXB0IGVkaXRpb24gZG9lc24ndCBtYXR0ZXIgaW4gSlMuXG4gICAgICBbXCJsYW5nL2pzXCJdLFxuICAgICAgLy8gYnJvd3NlciB2ZW5kb3IgYW5kIHZlcnNpb24uXG4gICAgICBbXCJtZC9icm93c2VyXCIsIGAke3BhcnNlZFVBPy5icm93c2VyPy5uYW1lID8/IFwidW5rbm93blwifV8ke3BhcnNlZFVBPy5icm93c2VyPy52ZXJzaW9uID8/IFwidW5rbm93blwifWBdLFxuICAgIF07XG5cbiAgICBpZiAoc2VydmljZUlkKSB7XG4gICAgICAvLyBhcGktbWV0YWRhdGFcbiAgICAgIC8vIHNlcnZpY2UgSWQgbWF5IG5vdCBhcHBlYXIgaW4gbm9uLUFXUyBjbGllbnRzXG4gICAgICBzZWN0aW9ucy5wdXNoKFtgYXBpLyR7c2VydmljZUlkfWAsIGNsaWVudFZlcnNpb25dKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VjdGlvbnM7XG4gIH07XG4iXX0=","import { defaultRegionInfoProvider } from \"./endpoints\";\nimport { parseUrl } from \"@aws-sdk/url-parser\";\n/**\n * @internal\n */\nexport var ClientSharedValues = {\n    apiVersion: \"2020-11-19\",\n    disableHostPrefix: false,\n    logger: {},\n    regionInfoProvider: defaultRegionInfoProvider,\n    serviceId: \"Location\",\n    urlParser: parseUrl,\n};\n//# sourceMappingURL=runtimeConfig.shared.js.map","import { __read, __values } from \"tslib\";\nexport function parseQueryString(querystring) {\n    var e_1, _a;\n    var query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        try {\n            for (var _b = __values(querystring.split(\"&\")), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var pair = _c.value;\n                var _d = __read(pair.split(\"=\"), 2), key = _d[0], _e = _d[1], value = _e === void 0 ? null : _e;\n                key = decodeURIComponent(key);\n                if (value) {\n                    value = decodeURIComponent(value);\n                }\n                if (!(key in query)) {\n                    query[key] = value;\n                }\n                else if (Array.isArray(query[key])) {\n                    query[key].push(value);\n                }\n                else {\n                    query[key] = [query[key], value];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    return query;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxXQUFtQjs7SUFDbEQsSUFBTSxLQUFLLEdBQXNCLEVBQUUsQ0FBQztJQUNwQyxXQUFXLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFN0MsSUFBSSxXQUFXLEVBQUU7O1lBQ2YsS0FBbUIsSUFBQSxLQUFBLFNBQUEsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtnQkFBdEMsSUFBTSxJQUFJLFdBQUE7Z0JBQ1QsSUFBQSxLQUFBLE9BQXNCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUEsRUFBcEMsR0FBRyxRQUFBLEVBQUUsVUFBWSxFQUFaLEtBQUssbUJBQUcsSUFBSSxLQUFtQixDQUFDO2dCQUMxQyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzlCLElBQUksS0FBSyxFQUFFO29CQUNULEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFO29CQUNuQixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2lCQUNwQjtxQkFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7b0JBQ25DLEtBQUssQ0FBQyxHQUFHLENBQW1CLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQyxDQUFDO2lCQUNyRDtxQkFBTTtvQkFDTCxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFXLEVBQUUsS0FBZSxDQUFDLENBQUM7aUJBQ3REO2FBQ0Y7Ozs7Ozs7OztLQUNGO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlQYXJhbWV0ZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnlzdHJpbmc6IHN0cmluZyk6IFF1ZXJ5UGFyYW1ldGVyQmFnIHtcbiAgY29uc3QgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnID0ge307XG4gIHF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sIFwiXCIpO1xuXG4gIGlmIChxdWVyeXN0cmluZykge1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBxdWVyeXN0cmluZy5zcGxpdChcIiZcIikpIHtcbiAgICAgIGxldCBba2V5LCB2YWx1ZSA9IG51bGxdID0gcGFpci5zcGxpdChcIj1cIik7XG4gICAgICBrZXkgPSBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIShrZXkgaW4gcXVlcnkpKSB7XG4gICAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShxdWVyeVtrZXldKSkge1xuICAgICAgICAocXVlcnlba2V5XSBhcyBBcnJheTxzdHJpbmc+KS5wdXNoKHZhbHVlIGFzIHN0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVtrZXldID0gW3F1ZXJ5W2tleV0gYXMgc3RyaW5nLCB2YWx1ZSBhcyBzdHJpbmddO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBxdWVyeTtcbn1cbiJdfQ==","import { __assign } from \"tslib\";\nimport packageInfo from \"./package.json\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { FetchHttpHandler, streamCollector } from \"@aws-sdk/fetch-http-handler\";\nimport { invalidProvider } from \"@aws-sdk/invalid-dependency\";\nimport { DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_MODE } from \"@aws-sdk/middleware-retry\";\nimport { fromBase64, toBase64 } from \"@aws-sdk/util-base64-browser\";\nimport { calculateBodyLength } from \"@aws-sdk/util-body-length-browser\";\nimport { defaultUserAgent } from \"@aws-sdk/util-user-agent-browser\";\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { ClientSharedValues } from \"./runtimeConfig.shared\";\n/**\n * @internal\n */\nexport var ClientDefaultValues = __assign(__assign({}, ClientSharedValues), { runtime: \"browser\", base64Decoder: fromBase64, base64Encoder: toBase64, bodyLengthChecker: calculateBodyLength, credentialDefaultProvider: function (_) { return function () { return Promise.reject(new Error(\"Credential is missing\")); }; }, defaultUserAgentProvider: defaultUserAgent({\n        serviceId: ClientSharedValues.serviceId,\n        clientVersion: packageInfo.version,\n    }), maxAttempts: DEFAULT_MAX_ATTEMPTS, region: invalidProvider(\"Region is missing\"), requestHandler: new FetchHttpHandler(), retryModeProvider: function () { return Promise.resolve(DEFAULT_RETRY_MODE); }, sha256: Sha256, streamCollector: streamCollector, utf8Decoder: fromUtf8, utf8Encoder: toUtf8 });\n//# sourceMappingURL=runtimeConfig.browser.js.map","export function calculateBodyLength(body) {\n    if (typeof body === \"string\") {\n        var len = body.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var code = body.charCodeAt(i);\n            if (code > 0x7f && code <= 0x7ff)\n                len++;\n            else if (code > 0x7ff && code <= 0xffff)\n                len += 2;\n        }\n        return len;\n    }\n    else if (typeof body.byteLength === \"number\") {\n        // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n        return body.byteLength;\n    }\n    else if (typeof body.size === \"number\") {\n        // handles browser File object\n        return body.size;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLG1CQUFtQixDQUFDLElBQVM7SUFDM0MsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUV0QixLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSztnQkFBRSxHQUFHLEVBQUUsQ0FBQztpQkFDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNO2dCQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDbkQ7UUFFRCxPQUFPLEdBQUcsQ0FBQztLQUNaO1NBQU0sSUFBSSxPQUFPLElBQUksQ0FBQyxVQUFVLEtBQUssUUFBUSxFQUFFO1FBQzlDLCtEQUErRDtRQUMvRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7S0FDeEI7U0FBTSxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDeEMsOEJBQThCO1FBQzlCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztLQUNsQjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQm9keUxlbmd0aChib2R5OiBhbnkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsZXQgbGVuID0gYm9keS5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBib2R5LmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA+IDB4N2YgJiYgY29kZSA8PSAweDdmZikgbGVuKys7XG4gICAgICBlbHNlIGlmIChjb2RlID4gMHg3ZmYgJiYgY29kZSA8PSAweGZmZmYpIGxlbiArPSAyO1xuICAgIH1cblxuICAgIHJldHVybiBsZW47XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuYnl0ZUxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIEJ1ZmZlciwgYW5kIEFycmF5QnVmZmVyVmlld1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuc2l6ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgYnJvd3NlciBGaWxlIG9iamVjdFxuICAgIHJldHVybiBib2R5LnNpemU7XG4gIH1cbn1cbiJdfQ==","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport var fromUtf8 = function (input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n};\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport var toUtf8 = function (input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQy9HLElBQU0sYUFBYSxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3hHLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLENBQUMsQ0FBQztTQUNqSDtLQUNGO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxNQUFNLEdBQUcsVUFBQyxLQUFpQjtJQUN0QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVUsRUFBRTtZQUNsRCxJQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsU0FBUyxJQUFLLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxDQUNuRixDQUFDO1NBQ0g7S0FDRjtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTExKSA8PCA2KSB8IChuZXh0Qnl0ZSAmIDBiMTExMTExKSk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufTtcbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nexport var resolveEndpointsConfig = function (input) {\n    var _a;\n    return (__assign(__assign({}, input), { tls: (_a = input.tls) !== null && _a !== void 0 ? _a : true, endpoint: input.endpoint ? normalizeEndpoint(input) : function () { return getEndPointFromRegion(input); }, isCustomEndpoint: input.endpoint ? true : false }));\n};\nvar normalizeEndpoint = function (input) {\n    var endpoint = input.endpoint, urlParser = input.urlParser;\n    if (typeof endpoint === \"string\") {\n        var promisified_1 = Promise.resolve(urlParser(endpoint));\n        return function () { return promisified_1; };\n    }\n    else if (typeof endpoint === \"object\") {\n        var promisified_2 = Promise.resolve(endpoint);\n        return function () { return promisified_2; };\n    }\n    return endpoint;\n};\nvar getEndPointFromRegion = function (input) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, tls, region, dnsHostRegex, hostname;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = input.tls, tls = _a === void 0 ? true : _a;\n                return [4 /*yield*/, input.region()];\n            case 1:\n                region = _c.sent();\n                dnsHostRegex = new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);\n                if (!dnsHostRegex.test(region)) {\n                    throw new Error(\"Invalid region in client config\");\n                }\n                return [4 /*yield*/, input.regionInfoProvider(region)];\n            case 2:\n                hostname = ((_b = (_c.sent())) !== null && _b !== void 0 ? _b : {}).hostname;\n                if (!hostname) {\n                    throw new Error(\"Cannot resolve hostname from client config\");\n                }\n                return [2 /*return*/, input.urlParser((tls ? \"https:\" : \"http:\") + \"//\" + hostname)];\n        }\n    });\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5kcG9pbnRzQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0VuZHBvaW50c0NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBZ0NBLE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHLFVBQ3BDLEtBQW9EOztJQUNwQixPQUFBLHVCQUM3QixLQUFLLEtBQ1IsR0FBRyxFQUFFLE1BQUEsS0FBSyxDQUFDLEdBQUcsbUNBQUksSUFBSSxFQUN0QixRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQU0sT0FBQSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsRUFBNUIsQ0FBNEIsRUFDeEYsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQy9DLENBQUE7Q0FBQSxDQUFDO0FBRUgsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLEtBQWdEO0lBQ2pFLElBQUEsUUFBUSxHQUFnQixLQUFLLFNBQXJCLEVBQUUsU0FBUyxHQUFLLEtBQUssVUFBVixDQUFXO0lBQ3RDLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ2hDLElBQU0sYUFBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDekQsT0FBTyxjQUFNLE9BQUEsYUFBVyxFQUFYLENBQVcsQ0FBQztLQUMxQjtTQUFNLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ3ZDLElBQU0sYUFBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsT0FBTyxjQUFNLE9BQUEsYUFBVyxFQUFYLENBQVcsQ0FBQztLQUMxQjtJQUNELE9BQU8sUUFBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLElBQU0scUJBQXFCLEdBQUcsVUFBTyxLQUFnRDs7Ozs7O2dCQUMzRSxLQUFlLEtBQUssSUFBVixFQUFWLEdBQUcsbUJBQUcsSUFBSSxLQUFBLENBQVc7Z0JBQ2QscUJBQU0sS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFBOztnQkFBN0IsTUFBTSxHQUFHLFNBQW9CO2dCQUU3QixZQUFZLEdBQUcsSUFBSSxNQUFNLENBQUMsMERBQTBELENBQUMsQ0FBQztnQkFDNUYsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLENBQUMsQ0FBQztpQkFDcEQ7Z0JBRXFCLHFCQUFNLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBQTs7Z0JBQXBELFFBQVEsR0FBSyxDQUFBLE1BQUEsQ0FBQyxTQUFzQyxDQUFDLG1DQUFJLEVBQUUsQ0FBQSxTQUFuRDtnQkFDaEIsSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDYixNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7aUJBQy9EO2dCQUVELHNCQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxXQUFLLFFBQVUsQ0FBQyxFQUFDOzs7S0FDcEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZHBvaW50LCBQcm92aWRlciwgUmVnaW9uSW5mb1Byb3ZpZGVyLCBVcmxQYXJzZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludHNJbnB1dENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgZnVsbHkgcXVhbGlmaWVkIGVuZHBvaW50IG9mIHRoZSB3ZWJzZXJ2aWNlLiBUaGlzIGlzIG9ubHkgcmVxdWlyZWQgd2hlbiB1c2luZyBhIGN1c3RvbSBlbmRwb2ludCAoZm9yIGV4YW1wbGUsIHdoZW4gdXNpbmcgYSBsb2NhbCB2ZXJzaW9uIG9mIFMzKS5cbiAgICovXG4gIGVuZHBvaW50Pzogc3RyaW5nIHwgRW5kcG9pbnQgfCBQcm92aWRlcjxFbmRwb2ludD47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgVExTIGlzIGVuYWJsZWQgZm9yIHJlcXVlc3RzLlxuICAgKi9cbiAgdGxzPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIHJlZ2lvbkluZm9Qcm92aWRlcjogUmVnaW9uSW5mb1Byb3ZpZGVyO1xuICB1cmxQYXJzZXI6IFVybFBhcnNlcjtcbiAgcmVnaW9uOiBQcm92aWRlcjxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZHBvaW50c1Jlc29sdmVkQ29uZmlnIGV4dGVuZHMgUmVxdWlyZWQ8RW5kcG9pbnRzSW5wdXRDb25maWc+IHtcbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCB7QGxpbmsgRW5kcG9pbnRzUmVzb2x2ZWRDb25maWcuZW5kcG9pbnR9XG4gICAqL1xuICBlbmRwb2ludDogUHJvdmlkZXI8RW5kcG9pbnQ+O1xuICAvKipcbiAgICogV2hldGhlciB0aGUgZW5kcG9pbnQgaXMgc3BlY2lmaWVkIGJ5IGNhbGxlci5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBpc0N1c3RvbUVuZHBvaW50OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUVuZHBvaW50c0NvbmZpZyA9IDxUPihcbiAgaW5wdXQ6IFQgJiBFbmRwb2ludHNJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZFxuKTogVCAmIEVuZHBvaW50c1Jlc29sdmVkQ29uZmlnID0+ICh7XG4gIC4uLmlucHV0LFxuICB0bHM6IGlucHV0LnRscyA/PyB0cnVlLFxuICBlbmRwb2ludDogaW5wdXQuZW5kcG9pbnQgPyBub3JtYWxpemVFbmRwb2ludChpbnB1dCkgOiAoKSA9PiBnZXRFbmRQb2ludEZyb21SZWdpb24oaW5wdXQpLFxuICBpc0N1c3RvbUVuZHBvaW50OiBpbnB1dC5lbmRwb2ludCA/IHRydWUgOiBmYWxzZSxcbn0pO1xuXG5jb25zdCBub3JtYWxpemVFbmRwb2ludCA9IChpbnB1dDogRW5kcG9pbnRzSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBQcm92aWRlcjxFbmRwb2ludD4gPT4ge1xuICBjb25zdCB7IGVuZHBvaW50LCB1cmxQYXJzZXIgfSA9IGlucHV0O1xuICBpZiAodHlwZW9mIGVuZHBvaW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUodXJsUGFyc2VyKGVuZHBvaW50KSk7XG4gICAgcmV0dXJuICgpID0+IHByb21pc2lmaWVkO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBlbmRwb2ludCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKGVuZHBvaW50KTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIGVuZHBvaW50ITtcbn07XG5cbmNvbnN0IGdldEVuZFBvaW50RnJvbVJlZ2lvbiA9IGFzeW5jIChpbnB1dDogRW5kcG9pbnRzSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQpID0+IHtcbiAgY29uc3QgeyB0bHMgPSB0cnVlIH0gPSBpbnB1dDtcbiAgY29uc3QgcmVnaW9uID0gYXdhaXQgaW5wdXQucmVnaW9uKCk7XG5cbiAgY29uc3QgZG5zSG9zdFJlZ2V4ID0gbmV3IFJlZ0V4cCgvXihbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKSQvKTtcbiAgaWYgKCFkbnNIb3N0UmVnZXgudGVzdChyZWdpb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZWdpb24gaW4gY2xpZW50IGNvbmZpZ1wiKTtcbiAgfVxuXG4gIGNvbnN0IHsgaG9zdG5hbWUgfSA9IChhd2FpdCBpbnB1dC5yZWdpb25JbmZvUHJvdmlkZXIocmVnaW9uKSkgPz8ge307XG4gIGlmICghaG9zdG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBob3N0bmFtZSBmcm9tIGNsaWVudCBjb25maWdcIik7XG4gIH1cblxuICByZXR1cm4gaW5wdXQudXJsUGFyc2VyKGAke3RscyA/IFwiaHR0cHM6XCIgOiBcImh0dHA6XCJ9Ly8ke2hvc3RuYW1lfWApO1xufTtcbiJdfQ==","import { __assign } from \"tslib\";\nexport var REGION_ENV_NAME = \"AWS_REGION\";\nexport var REGION_INI_NAME = \"region\";\nexport var NODE_REGION_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) { return env[REGION_ENV_NAME]; },\n    configFileSelector: function (profile) { return profile[REGION_INI_NAME]; },\n    default: function () {\n        throw new Error(\"Region is missing\");\n    },\n};\nexport var NODE_REGION_CONFIG_FILE_OPTIONS = {\n    preferredFile: \"credentials\",\n};\nexport var resolveRegionConfig = function (input) {\n    if (!input.region) {\n        throw new Error(\"Region is missing\");\n    }\n    return __assign(__assign({}, input), { region: normalizeRegion(input.region) });\n};\nvar normalizeRegion = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    return region;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVnaW9uQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL1JlZ2lvbkNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFlBQVksQ0FBQztBQUM1QyxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDO0FBRXhDLE1BQU0sQ0FBQyxJQUFNLDBCQUEwQixHQUFrQztJQUN2RSwyQkFBMkIsRUFBRSxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxlQUFlLENBQUMsRUFBcEIsQ0FBb0I7SUFDMUQsa0JBQWtCLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsZUFBZSxDQUFDLEVBQXhCLENBQXdCO0lBQ3pELE9BQU8sRUFBRTtRQUNQLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLCtCQUErQixHQUF1QjtJQUNqRSxhQUFhLEVBQUUsYUFBYTtDQUM3QixDQUFDO0FBa0JGLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLFVBQUksS0FBaUQ7SUFDdEYsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7UUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0tBQ3RDO0lBQ0QsNkJBQ0ssS0FBSyxLQUNSLE1BQU0sRUFBRSxlQUFlLENBQUMsS0FBSyxDQUFDLE1BQU8sQ0FBQyxJQUN0QztBQUNKLENBQUMsQ0FBQztBQUVGLElBQU0sZUFBZSxHQUFHLFVBQUMsTUFBaUM7SUFDeEQsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDOUIsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1QyxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO0lBQ0QsT0FBTyxNQUEwQixDQUFDO0FBQ3BDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvYWRlZENvbmZpZ1NlbGVjdG9ycywgTG9jYWxDb25maWdPcHRpb25zIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgUkVHSU9OX0VOVl9OQU1FID0gXCJBV1NfUkVHSU9OXCI7XG5leHBvcnQgY29uc3QgUkVHSU9OX0lOSV9OQU1FID0gXCJyZWdpb25cIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TOiBMb2FkZWRDb25maWdTZWxlY3RvcnM8c3RyaW5nPiA9IHtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiBlbnZbUkVHSU9OX0VOVl9OQU1FXSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtSRUdJT05fSU5JX05BTUVdLFxuICBkZWZhdWx0OiAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIGlzIG1pc3NpbmdcIik7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUzogTG9jYWxDb25maWdPcHRpb25zID0ge1xuICBwcmVmZXJyZWRGaWxlOiBcImNyZWRlbnRpYWxzXCIsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lvbklucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBBV1MgcmVnaW9uIHRvIHdoaWNoIHRoaXMgY2xpZW50IHdpbGwgc2VuZCByZXF1ZXN0c1xuICAgKi9cbiAgcmVnaW9uPzogc3RyaW5nIHwgUHJvdmlkZXI8c3RyaW5nPjtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lvblJlc29sdmVkQ29uZmlnIHtcbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCBjb25maWcge0BsaW5rIFJlZ2lvbklucHV0Q29uZmlnLnJlZ2lvbn1cbiAgICovXG4gIHJlZ2lvbjogUHJvdmlkZXI8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGNvbnN0IHJlc29sdmVSZWdpb25Db25maWcgPSA8VD4oaW5wdXQ6IFQgJiBSZWdpb25JbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZCk6IFQgJiBSZWdpb25SZXNvbHZlZENvbmZpZyA9PiB7XG4gIGlmICghaW5wdXQucmVnaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIGlzIG1pc3NpbmdcIik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICByZWdpb246IG5vcm1hbGl6ZVJlZ2lvbihpbnB1dC5yZWdpb24hKSxcbiAgfTtcbn07XG5cbmNvbnN0IG5vcm1hbGl6ZVJlZ2lvbiA9IChyZWdpb246IHN0cmluZyB8IFByb3ZpZGVyPHN0cmluZz4pOiBQcm92aWRlcjxzdHJpbmc+ID0+IHtcbiAgaWYgKHR5cGVvZiByZWdpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBwcm9taXNpZmllZCA9IFByb21pc2UucmVzb2x2ZShyZWdpb24pO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfVxuICByZXR1cm4gcmVnaW9uIGFzIFByb3ZpZGVyPHN0cmluZz47XG59O1xuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nvar CONTENT_LENGTH_HEADER = \"content-length\";\nexport function contentLengthMiddleware(bodyLengthChecker) {\n    var _this = this;\n    return function (next) {\n        return function (args) { return __awaiter(_this, void 0, void 0, function () {\n            var request, body, headers, length;\n            var _a;\n            return __generator(this, function (_b) {\n                request = args.request;\n                if (HttpRequest.isInstance(request)) {\n                    body = request.body, headers = request.headers;\n                    if (body &&\n                        Object.keys(headers)\n                            .map(function (str) { return str.toLowerCase(); })\n                            .indexOf(CONTENT_LENGTH_HEADER) === -1) {\n                        length = bodyLengthChecker(body);\n                        if (length !== undefined) {\n                            request.headers = __assign(__assign({}, request.headers), (_a = {}, _a[CONTENT_LENGTH_HEADER] = String(length), _a));\n                        }\n                    }\n                }\n                return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n            });\n        }); };\n    };\n}\nexport var contentLengthMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n    name: \"contentLengthMiddleware\",\n    override: true,\n};\nexport var getContentLengthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVlyRCxJQUFNLHFCQUFxQixHQUFHLGdCQUFnQixDQUFDO0FBRS9DLE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxpQkFBdUM7SUFBL0UsaUJBMkJDO0lBMUJDLE9BQU8sVUFBZ0MsSUFBK0I7UUFDcEUsT0FBQSxVQUFPLElBQWdDOzs7O2dCQUMvQixPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDN0IsSUFBSSxXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUMzQixJQUFJLEdBQWMsT0FBTyxLQUFyQixFQUFFLE9BQU8sR0FBSyxPQUFPLFFBQVosQ0FBYTtvQkFDbEMsSUFDRSxJQUFJO3dCQUNKLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDOzZCQUNqQixHQUFHLENBQUMsVUFBQyxHQUFHLElBQUssT0FBQSxHQUFHLENBQUMsV0FBVyxFQUFFLEVBQWpCLENBQWlCLENBQUM7NkJBQy9CLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUN4Qzt3QkFDTSxNQUFNLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ3ZDLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTs0QkFDeEIsT0FBTyxDQUFDLE9BQU8seUJBQ1YsT0FBTyxDQUFDLE9BQU8sZ0JBQ2pCLHFCQUFxQixJQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFDeEMsQ0FBQzt5QkFDSDtxQkFDRjtpQkFDRjtnQkFFRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOzthQUNKO0lBeEJELENBd0JDLENBQUM7QUFDTixDQUFDO0FBRUQsTUFBTSxDQUFDLElBQU0sOEJBQThCLEdBQXdCO0lBQ2pFLElBQUksRUFBRSxPQUFPO0lBQ2IsSUFBSSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsZ0JBQWdCLENBQUM7SUFDOUMsSUFBSSxFQUFFLHlCQUF5QjtJQUMvQixRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxVQUFDLE9BQW9ELElBQTBCLE9BQUEsQ0FBQztJQUNwSCxZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEVBQUUsOEJBQThCLENBQUMsQ0FBQztJQUN0RyxDQUFDO0NBQ0YsQ0FBQyxFQUptSCxDQUluSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHtcbiAgQm9keUxlbmd0aENhbGN1bGF0b3IsXG4gIEJ1aWxkSGFuZGxlcixcbiAgQnVpbGRIYW5kbGVyQXJndW1lbnRzLFxuICBCdWlsZEhhbmRsZXJPcHRpb25zLFxuICBCdWlsZEhhbmRsZXJPdXRwdXQsXG4gIEJ1aWxkTWlkZGxld2FyZSxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmNvbnN0IENPTlRFTlRfTEVOR1RIX0hFQURFUiA9IFwiY29udGVudC1sZW5ndGhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlKGJvZHlMZW5ndGhDaGVja2VyOiBCb2R5TGVuZ3RoQ2FsY3VsYXRvcik6IEJ1aWxkTWlkZGxld2FyZTxhbnksIGFueT4ge1xuICByZXR1cm4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihuZXh0OiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+KTogQnVpbGRIYW5kbGVyPGFueSwgT3V0cHV0PiA9PlxuICAgIGFzeW5jIChhcmdzOiBCdWlsZEhhbmRsZXJBcmd1bWVudHM8YW55Pik6IFByb21pc2U8QnVpbGRIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBhcmdzLnJlcXVlc3Q7XG4gICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICBjb25zdCB7IGJvZHksIGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBib2R5ICYmXG4gICAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycylcbiAgICAgICAgICAgIC5tYXAoKHN0cikgPT4gc3RyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAuaW5kZXhPZihDT05URU5UX0xFTkdUSF9IRUFERVIpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBsZW5ndGggPSBib2R5TGVuZ3RoQ2hlY2tlcihib2R5KTtcbiAgICAgICAgICBpZiAobGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgLi4ucmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgICBbQ09OVEVOVF9MRU5HVEhfSEVBREVSXTogU3RyaW5nKGxlbmd0aCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICB9KTtcbiAgICB9O1xufVxuXG5leHBvcnQgY29uc3QgY29udGVudExlbmd0aE1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zID0ge1xuICBzdGVwOiBcImJ1aWxkXCIsXG4gIHRhZ3M6IFtcIlNFVF9DT05URU5UX0xFTkdUSFwiLCBcIkNPTlRFTlRfTEVOR1RIXCJdLFxuICBuYW1lOiBcImNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlXCIsXG4gIG92ZXJyaWRlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gPSAob3B0aW9uczogeyBib2R5TGVuZ3RoQ2hlY2tlcjogQm9keUxlbmd0aENhbGN1bGF0b3IgfSk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoY29udGVudExlbmd0aE1pZGRsZXdhcmUob3B0aW9ucy5ib2R5TGVuZ3RoQ2hlY2tlciksIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nexport function resolveHostHeaderConfig(input) {\n    return input;\n}\nexport var hostHeaderMiddleware = function (options) {\n    return function (next) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var request, _a, handlerProtocol;\n            return __generator(this, function (_b) {\n                if (!HttpRequest.isInstance(args.request))\n                    return [2 /*return*/, next(args)];\n                request = args.request;\n                _a = (options.requestHandler.metadata || {}).handlerProtocol, handlerProtocol = _a === void 0 ? \"\" : _a;\n                //For H2 request, remove 'host' header and use ':authority' header instead\n                //reference: https://nodejs.org/dist/latest-v13.x/docs/api/errors.html#ERR_HTTP2_INVALID_CONNECTION_HEADERS\n                if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\n                    delete request.headers[\"host\"];\n                    request.headers[\":authority\"] = \"\";\n                    //non-H2 request and 'host' header is not set, set the 'host' header to request's hostname.\n                }\n                else if (!request.headers[\"host\"]) {\n                    request.headers[\"host\"] = request.hostname;\n                }\n                return [2 /*return*/, next(args)];\n            });\n        }); };\n    };\n};\nexport var hostHeaderMiddlewareOptions = {\n    name: \"hostHeaderMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"HOST\"],\n    override: true,\n};\nexport var getHostHeaderPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQWFyRCxNQUFNLFVBQVUsdUJBQXVCLENBQ3JDLEtBQXFEO0lBRXJELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUMvQixVQUE4QyxPQUFpQztJQUMvRSxPQUFBLFVBQUMsSUFBSTtRQUNMLE9BQUEsVUFBTyxJQUFJOzs7Z0JBQ1QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFBRSxzQkFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUM7Z0JBQ3JELE9BQU8sR0FBSyxJQUFJLFFBQVQsQ0FBVTtnQkFDakIsS0FBeUIsQ0FBQSxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUEsZ0JBQTFDLEVBQXBCLGVBQWUsbUJBQUcsRUFBRSxLQUFBLENBQTJDO2dCQUN2RSwwRUFBMEU7Z0JBQzFFLDJHQUEyRztnQkFDM0csSUFBSSxlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUU7b0JBQ3hFLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDL0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQ25DLDJGQUEyRjtpQkFDNUY7cUJBQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQ25DLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztpQkFDNUM7Z0JBQ0Qsc0JBQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDOzthQUNuQjtJQWRELENBY0M7QUFmRCxDQWVDLENBQUM7QUFFSixNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBMkM7SUFDakYsSUFBSSxFQUFFLHNCQUFzQjtJQUM1QixJQUFJLEVBQUUsT0FBTztJQUNiLFFBQVEsRUFBRSxLQUFLO0lBQ2YsSUFBSSxFQUFFLENBQUMsTUFBTSxDQUFDO0lBQ2QsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBQyxPQUFpQyxJQUEwQixPQUFBLENBQUM7SUFDOUYsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxFQUFFLDJCQUEyQixDQUFDLENBQUM7SUFDOUUsQ0FBQztDQUNGLENBQUMsRUFKNkYsQ0FJN0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IEFic29sdXRlTG9jYXRpb24sIEJ1aWxkSGFuZGxlck9wdGlvbnMsIEJ1aWxkTWlkZGxld2FyZSwgUGx1Z2dhYmxlLCBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIZWFkZXJJbnB1dENvbmZpZyB7fVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIHJlcXVlc3RIYW5kbGVyOiBSZXF1ZXN0SGFuZGxlcjxhbnksIGFueT47XG59XG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIZWFkZXJSZXNvbHZlZENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgSFRUUCBoYW5kbGVyIHRvIHVzZS4gRmV0Y2ggaW4gYnJvd3NlciBhbmQgSHR0cHMgaW4gTm9kZWpzLlxuICAgKi9cbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55Pjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSG9zdEhlYWRlckNvbmZpZzxUPihcbiAgaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBIb3N0SGVhZGVySW5wdXRDb25maWdcbik6IFQgJiBIb3N0SGVhZGVyUmVzb2x2ZWRDb25maWcge1xuICByZXR1cm4gaW5wdXQ7XG59XG5cbmV4cG9ydCBjb25zdCBob3N0SGVhZGVyTWlkZGxld2FyZSA9XG4gIDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0PihvcHRpb25zOiBIb3N0SGVhZGVyUmVzb2x2ZWRDb25maWcpOiBCdWlsZE1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4gPT5cbiAgKG5leHQpID0+XG4gIGFzeW5jIChhcmdzKSA9PiB7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBjb25zdCB7IGhhbmRsZXJQcm90b2NvbCA9IFwiXCIgfSA9IG9wdGlvbnMucmVxdWVzdEhhbmRsZXIubWV0YWRhdGEgfHwge307XG4gICAgLy9Gb3IgSDIgcmVxdWVzdCwgcmVtb3ZlICdob3N0JyBoZWFkZXIgYW5kIHVzZSAnOmF1dGhvcml0eScgaGVhZGVyIGluc3RlYWRcbiAgICAvL3JlZmVyZW5jZTogaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0LXYxMy54L2RvY3MvYXBpL2Vycm9ycy5odG1sI0VSUl9IVFRQMl9JTlZBTElEX0NPTk5FQ1RJT05fSEVBREVSU1xuICAgIGlmIChoYW5kbGVyUHJvdG9jb2wuaW5kZXhPZihcImgyXCIpID49IDAgJiYgIXJlcXVlc3QuaGVhZGVyc1tcIjphdXRob3JpdHlcIl0pIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdO1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW1wiOmF1dGhvcml0eVwiXSA9IFwiXCI7XG4gICAgICAvL25vbi1IMiByZXF1ZXN0IGFuZCAnaG9zdCcgaGVhZGVyIGlzIG5vdCBzZXQsIHNldCB0aGUgJ2hvc3QnIGhlYWRlciB0byByZXF1ZXN0J3MgaG9zdG5hbWUuXG4gICAgfSBlbHNlIGlmICghcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXSkge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXSA9IHJlcXVlc3QuaG9zdG5hbWU7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICB9O1xuXG5leHBvcnQgY29uc3QgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvbiA9IHtcbiAgbmFtZTogXCJob3N0SGVhZGVyTWlkZGxld2FyZVwiLFxuICBzdGVwOiBcImJ1aWxkXCIsXG4gIHByaW9yaXR5OiBcImxvd1wiLFxuICB0YWdzOiBbXCJIT1NUXCJdLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRIb3N0SGVhZGVyUGx1Z2luID0gKG9wdGlvbnM6IEhvc3RIZWFkZXJSZXNvbHZlZENvbmZpZyk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoaG9zdEhlYWRlck1pZGRsZXdhcmUob3B0aW9ucyksIGhvc3RIZWFkZXJNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __awaiter, __generator, __rest } from \"tslib\";\nexport var loggerMiddleware = function () {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var clientName, commandName, inputFilterSensitiveLog, logger, outputFilterSensitiveLog, response, _a, $metadata, outputWithoutMetadata;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        clientName = context.clientName, commandName = context.commandName, inputFilterSensitiveLog = context.inputFilterSensitiveLog, logger = context.logger, outputFilterSensitiveLog = context.outputFilterSensitiveLog;\n                        return [4 /*yield*/, next(args)];\n                    case 1:\n                        response = _b.sent();\n                        if (!logger) {\n                            return [2 /*return*/, response];\n                        }\n                        if (typeof logger.info === \"function\") {\n                            _a = response.output, $metadata = _a.$metadata, outputWithoutMetadata = __rest(_a, [\"$metadata\"]);\n                            logger.info({\n                                clientName: clientName,\n                                commandName: commandName,\n                                input: inputFilterSensitiveLog(args.input),\n                                output: outputFilterSensitiveLog(outputWithoutMetadata),\n                                metadata: $metadata,\n                            });\n                        }\n                        return [2 /*return*/, response];\n                }\n            });\n        }); };\n    };\n};\nexport var loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"initialize\",\n    override: true,\n};\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport var getLoggerPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dnZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFZQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FDM0I7SUFDQSxPQUFBLFVBQ0UsSUFBb0MsRUFDcEMsT0FBZ0M7UUFFbEMsT0FBQSxVQUFPLElBQXFDOzs7Ozt3QkFDbEMsVUFBVSxHQUE2RSxPQUFPLFdBQXBGLEVBQUUsV0FBVyxHQUFnRSxPQUFPLFlBQXZFLEVBQUUsdUJBQXVCLEdBQXVDLE9BQU8sd0JBQTlDLEVBQUUsTUFBTSxHQUErQixPQUFPLE9BQXRDLEVBQUUsd0JBQXdCLEdBQUssT0FBTyx5QkFBWixDQUFhO3dCQUV0RixxQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUE7O3dCQUEzQixRQUFRLEdBQUcsU0FBZ0I7d0JBRWpDLElBQUksQ0FBQyxNQUFNLEVBQUU7NEJBQ1gsc0JBQU8sUUFBUSxFQUFDO3lCQUNqQjt3QkFFRCxJQUFJLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7NEJBQy9CLEtBQTBDLFFBQVEsQ0FBQyxNQUFNLEVBQXZELFNBQVMsZUFBQSxFQUFLLHFCQUFxQixjQUFyQyxhQUF1QyxDQUFGLENBQXFCOzRCQUNoRSxNQUFNLENBQUMsSUFBSSxDQUFDO2dDQUNWLFVBQVUsWUFBQTtnQ0FDVixXQUFXLGFBQUE7Z0NBQ1gsS0FBSyxFQUFFLHVCQUF1QixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7Z0NBQzFDLE1BQU0sRUFBRSx3QkFBd0IsQ0FBQyxxQkFBcUIsQ0FBQztnQ0FDdkQsUUFBUSxFQUFFLFNBQVM7NkJBQ3BCLENBQUMsQ0FBQzt5QkFDSjt3QkFFRCxzQkFBTyxRQUFRLEVBQUM7OzthQUNqQjtJQXJCRCxDQXFCQztBQXpCRCxDQXlCQyxDQUFDO0FBRUosTUFBTSxDQUFDLElBQU0sdUJBQXVCLEdBQWdEO0lBQ2xGLElBQUksRUFBRSxrQkFBa0I7SUFDeEIsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDO0lBQ2hCLElBQUksRUFBRSxZQUFZO0lBQ2xCLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLDZEQUE2RDtBQUM3RCxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsVUFBQyxPQUFZLElBQTBCLE9BQUEsQ0FBQztJQUNyRSxZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0lBQy9ELENBQUM7Q0FDRixDQUFDLEVBSm9FLENBSXBFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHtcbiAgQWJzb2x1dGVMb2NhdGlvbixcbiAgSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQsXG4gIEluaXRpYWxpemVIYW5kbGVyLFxuICBJbml0aWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgSW5pdGlhbGl6ZUhhbmRsZXJPcHRpb25zLFxuICBJbml0aWFsaXplSGFuZGxlck91dHB1dCxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBsb2dnZXJNaWRkbGV3YXJlID1cbiAgKCkgPT5cbiAgPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyID0gTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEluaXRpYWxpemVIYW5kbGVyPGFueSwgT3V0cHV0PixcbiAgICBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dFxuICApOiBJbml0aWFsaXplSGFuZGxlcjxhbnksIE91dHB1dD4gPT5cbiAgYXN5bmMgKGFyZ3M6IEluaXRpYWxpemVIYW5kbGVyQXJndW1lbnRzPGFueT4pOiBQcm9taXNlPEluaXRpYWxpemVIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgICBjb25zdCB7IGNsaWVudE5hbWUsIGNvbW1hbmROYW1lLCBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZywgbG9nZ2VyLCBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2cgfSA9IGNvbnRleHQ7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5leHQoYXJncyk7XG5cbiAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbG9nZ2VyLmluZm8gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc3QgeyAkbWV0YWRhdGEsIC4uLm91dHB1dFdpdGhvdXRNZXRhZGF0YSB9ID0gcmVzcG9uc2Uub3V0cHV0O1xuICAgICAgbG9nZ2VyLmluZm8oe1xuICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgaW5wdXQ6IGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nKGFyZ3MuaW5wdXQpLFxuICAgICAgICBvdXRwdXQ6IG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZyhvdXRwdXRXaXRob3V0TWV0YWRhdGEpLFxuICAgICAgICBtZXRhZGF0YTogJG1ldGFkYXRhLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZU9wdGlvbnM6IEluaXRpYWxpemVIYW5kbGVyT3B0aW9ucyAmIEFic29sdXRlTG9jYXRpb24gPSB7XG4gIG5hbWU6IFwibG9nZ2VyTWlkZGxld2FyZVwiLFxuICB0YWdzOiBbXCJMT0dHRVJcIl0sXG4gIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmV4cG9ydCBjb25zdCBnZXRMb2dnZXJQbHVnaW4gPSAob3B0aW9uczogYW55KTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZChsb2dnZXJNaWRkbGV3YXJlKCksIGxvZ2dlck1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuIl19","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __extends } from \"tslib\";\n/**\n * An error representing a failure of an individual credential provider.\n *\n * This error class has special meaning to the {@link chain} method. If a\n * provider in the chain is rejected with an error, the chain will only proceed\n * to the next provider if the value of the `tryNextLink` property on the error\n * is truthy. This allows individual providers to halt the chain and also\n * ensures the chain will stop if an entirely unexpected error is encountered.\n *\n * @deprecated\n */\nvar ProviderError = /** @class */ (function (_super) {\n    __extends(ProviderError, _super);\n    function ProviderError(message, tryNextLink) {\n        if (tryNextLink === void 0) { tryNextLink = true; }\n        var _this = _super.call(this, message) || this;\n        _this.tryNextLink = tryNextLink;\n        return _this;\n    }\n    ProviderError.from = function (error, tryNextLink) {\n        if (tryNextLink === void 0) { tryNextLink = true; }\n        Object.defineProperty(error, \"tryNextLink\", {\n            value: tryNextLink,\n            configurable: false,\n            enumerable: false,\n            writable: false,\n        });\n        return error;\n    };\n    return ProviderError;\n}(Error));\nexport { ProviderError };\n/**\n * An error representing a failure of an individual credential provider.\n *\n * This error class has special meaning to the {@link chain} method. If a\n * provider in the chain is rejected with an error, the chain will only proceed\n * to the next provider if the value of the `tryNextLink` property on the error\n * is truthy. This allows individual providers to halt the chain and also\n * ensures the chain will stop if an entirely unexpected error is encountered.\n */\nvar CredentialsProviderError = /** @class */ (function (_super) {\n    __extends(CredentialsProviderError, _super);\n    function CredentialsProviderError(message, tryNextLink) {\n        if (tryNextLink === void 0) { tryNextLink = true; }\n        var _this = _super.call(this, message) || this;\n        _this.tryNextLink = tryNextLink;\n        _this.name = \"CredentialsProviderError\";\n        return _this;\n    }\n    CredentialsProviderError.from = function (error, tryNextLink) {\n        if (tryNextLink === void 0) { tryNextLink = true; }\n        Object.defineProperty(error, \"tryNextLink\", {\n            value: tryNextLink,\n            configurable: false,\n            enumerable: false,\n            writable: false,\n        });\n        return error;\n    };\n    return CredentialsProviderError;\n}(Error));\nexport { CredentialsProviderError };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvdmlkZXJFcnJvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Qcm92aWRlckVycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7OztHQVVHO0FBQ0g7SUFBbUMsaUNBQUs7SUFDdEMsdUJBQVksT0FBZSxFQUFrQixXQUEyQjtRQUEzQiw0QkFBQSxFQUFBLGtCQUEyQjtRQUF4RSxZQUNFLGtCQUFNLE9BQU8sQ0FBQyxTQUNmO1FBRjRDLGlCQUFXLEdBQVgsV0FBVyxDQUFnQjs7SUFFeEUsQ0FBQztJQUNNLGtCQUFJLEdBQVgsVUFBWSxLQUFZLEVBQUUsV0FBa0I7UUFBbEIsNEJBQUEsRUFBQSxrQkFBa0I7UUFDMUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFO1lBQzFDLEtBQUssRUFBRSxXQUFXO1lBQ2xCLFlBQVksRUFBRSxLQUFLO1lBQ25CLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLFFBQVEsRUFBRSxLQUFLO1NBQ2hCLENBQUMsQ0FBQztRQUNILE9BQU8sS0FBc0IsQ0FBQztJQUNoQyxDQUFDO0lBQ0gsb0JBQUM7QUFBRCxDQUFDLEFBYkQsQ0FBbUMsS0FBSyxHQWF2Qzs7QUFFRDs7Ozs7Ozs7R0FRRztBQUNIO0lBQThDLDRDQUFLO0lBRWpELGtDQUFZLE9BQWUsRUFBa0IsV0FBMkI7UUFBM0IsNEJBQUEsRUFBQSxrQkFBMkI7UUFBeEUsWUFDRSxrQkFBTSxPQUFPLENBQUMsU0FDZjtRQUY0QyxpQkFBVyxHQUFYLFdBQVcsQ0FBZ0I7UUFEL0QsVUFBSSxHQUFHLDBCQUEwQixDQUFDOztJQUczQyxDQUFDO0lBQ00sNkJBQUksR0FBWCxVQUFZLEtBQVksRUFBRSxXQUFrQjtRQUFsQiw0QkFBQSxFQUFBLGtCQUFrQjtRQUMxQyxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUU7WUFDMUMsS0FBSyxFQUFFLFdBQVc7WUFDbEIsWUFBWSxFQUFFLEtBQUs7WUFDbkIsVUFBVSxFQUFFLEtBQUs7WUFDakIsUUFBUSxFQUFFLEtBQUs7U0FDaEIsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxLQUFpQyxDQUFDO0lBQzNDLENBQUM7SUFDSCwrQkFBQztBQUFELENBQUMsQUFkRCxDQUE4QyxLQUFLLEdBY2xEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBbiBlcnJvciByZXByZXNlbnRpbmcgYSBmYWlsdXJlIG9mIGFuIGluZGl2aWR1YWwgY3JlZGVudGlhbCBwcm92aWRlci5cbiAqXG4gKiBUaGlzIGVycm9yIGNsYXNzIGhhcyBzcGVjaWFsIG1lYW5pbmcgdG8gdGhlIHtAbGluayBjaGFpbn0gbWV0aG9kLiBJZiBhXG4gKiBwcm92aWRlciBpbiB0aGUgY2hhaW4gaXMgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvciwgdGhlIGNoYWluIHdpbGwgb25seSBwcm9jZWVkXG4gKiB0byB0aGUgbmV4dCBwcm92aWRlciBpZiB0aGUgdmFsdWUgb2YgdGhlIGB0cnlOZXh0TGlua2AgcHJvcGVydHkgb24gdGhlIGVycm9yXG4gKiBpcyB0cnV0aHkuIFRoaXMgYWxsb3dzIGluZGl2aWR1YWwgcHJvdmlkZXJzIHRvIGhhbHQgdGhlIGNoYWluIGFuZCBhbHNvXG4gKiBlbnN1cmVzIHRoZSBjaGFpbiB3aWxsIHN0b3AgaWYgYW4gZW50aXJlbHkgdW5leHBlY3RlZCBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgY2xhc3MgUHJvdmlkZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgdHJ5TmV4dExpbms6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gIH1cbiAgc3RhdGljIGZyb20oZXJyb3I6IEVycm9yLCB0cnlOZXh0TGluayA9IHRydWUpOiBQcm92aWRlckVycm9yIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwidHJ5TmV4dExpbmtcIiwge1xuICAgICAgdmFsdWU6IHRyeU5leHRMaW5rLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIHJldHVybiBlcnJvciBhcyBQcm92aWRlckVycm9yO1xuICB9XG59XG5cbi8qKlxuICogQW4gZXJyb3IgcmVwcmVzZW50aW5nIGEgZmFpbHVyZSBvZiBhbiBpbmRpdmlkdWFsIGNyZWRlbnRpYWwgcHJvdmlkZXIuXG4gKlxuICogVGhpcyBlcnJvciBjbGFzcyBoYXMgc3BlY2lhbCBtZWFuaW5nIHRvIHRoZSB7QGxpbmsgY2hhaW59IG1ldGhvZC4gSWYgYVxuICogcHJvdmlkZXIgaW4gdGhlIGNoYWluIGlzIHJlamVjdGVkIHdpdGggYW4gZXJyb3IsIHRoZSBjaGFpbiB3aWxsIG9ubHkgcHJvY2VlZFxuICogdG8gdGhlIG5leHQgcHJvdmlkZXIgaWYgdGhlIHZhbHVlIG9mIHRoZSBgdHJ5TmV4dExpbmtgIHByb3BlcnR5IG9uIHRoZSBlcnJvclxuICogaXMgdHJ1dGh5LiBUaGlzIGFsbG93cyBpbmRpdmlkdWFsIHByb3ZpZGVycyB0byBoYWx0IHRoZSBjaGFpbiBhbmQgYWxzb1xuICogZW5zdXJlcyB0aGUgY2hhaW4gd2lsbCBzdG9wIGlmIGFuIGVudGlyZWx5IHVuZXhwZWN0ZWQgZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHJlYWRvbmx5IG5hbWUgPSBcIkNyZWRlbnRpYWxzUHJvdmlkZXJFcnJvclwiO1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSB0cnlOZXh0TGluazogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgfVxuICBzdGF0aWMgZnJvbShlcnJvcjogRXJyb3IsIHRyeU5leHRMaW5rID0gdHJ1ZSk6IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yLCBcInRyeU5leHRMaW5rXCIsIHtcbiAgICAgIHZhbHVlOiB0cnlOZXh0TGluayxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3IgYXMgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yO1xuICB9XG59XG4iXX0=","var SHORT_TO_HEX = {};\nvar HEX_TO_SHORT = {};\nfor (var i = 0; i < 256; i++) {\n    var encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = \"0\" + encodedByte;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\n/**\n * Converts a hexadecimal encoded string to a Uint8Array of bytes.\n *\n * @param encoded The hexadecimal encoded string\n */\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    var out = new Uint8Array(encoded.length / 2);\n    for (var i = 0; i < encoded.length; i += 2) {\n        var encodedByte = encoded.substr(i, 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(\"Cannot decode unrecognized sequence \" + encodedByte + \" as hexadecimal\");\n        }\n    }\n    return out;\n}\n/**\n * Converts a Uint8Array of binary data to a hexadecimal encoded string.\n *\n * @param bytes The binary data to encode\n */\nexport function toHex(bytes) {\n    var out = \"\";\n    for (var i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxZQUFZLEdBQThCLEVBQUUsQ0FBQztBQUNuRCxJQUFNLFlBQVksR0FBOEIsRUFBRSxDQUFDO0FBRW5ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDNUIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMvQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQzVCLFdBQVcsR0FBRyxNQUFJLFdBQWEsQ0FBQztLQUNqQztJQUVELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUM7SUFDOUIsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUMvQjtBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFDLE9BQWU7SUFDckMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFDLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZELElBQUksV0FBVyxJQUFJLFlBQVksRUFBRTtZQUMvQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBdUMsV0FBVyxvQkFBaUIsQ0FBQyxDQUFDO1NBQ3RGO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxLQUFpQjtJQUNyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0hPUlRfVE9fSEVYOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9ID0ge307XG5jb25zdCBIRVhfVE9fU0hPUlQ6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBsZXQgZW5jb2RlZEJ5dGUgPSBpLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoZW5jb2RlZEJ5dGUubGVuZ3RoID09PSAxKSB7XG4gICAgZW5jb2RlZEJ5dGUgPSBgMCR7ZW5jb2RlZEJ5dGV9YDtcbiAgfVxuXG4gIFNIT1JUX1RPX0hFWFtpXSA9IGVuY29kZWRCeXRlO1xuICBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdID0gaTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nIHRvIGEgVWludDhBcnJheSBvZiBieXRlcy5cbiAqXG4gKiBAcGFyYW0gZW5jb2RlZCBUaGUgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoZW5jb2RlZDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGlmIChlbmNvZGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZXggZW5jb2RlZCBzdHJpbmdzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBsZW5ndGhcIik7XG4gIH1cblxuICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGVuY29kZWQuc3Vic3RyKGksIDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kZWRCeXRlIGluIEhFWF9UT19TSE9SVCkge1xuICAgICAgb3V0W2kgLyAyXSA9IEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVWludDhBcnJheSBvZiBiaW5hcnkgZGF0YSB0byBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBieXRlcyBUaGUgYmluYXJ5IGRhdGEgdG8gZW5jb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBvdXQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIG91dCArPSBTSE9SVF9UT19IRVhbYnl0ZXNbaV1dO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbiJdfQ==","export var fromStatic = function (staticValue) {\n    return function () {\n        return Promise.resolve(staticValue);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJvbVN0YXRpYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mcm9tU3RhdGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sQ0FBQyxJQUFNLFVBQVUsR0FDckIsVUFBSSxXQUFjO0lBQ2xCLE9BQUE7UUFDRSxPQUFBLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO0lBQTVCLENBQTRCO0FBRDlCLENBQzhCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZnJvbVN0YXRpYyA9XG4gIDxUPihzdGF0aWNWYWx1ZTogVCk6IFByb3ZpZGVyPFQ+ID0+XG4gICgpID0+XG4gICAgUHJvbWlzZS5yZXNvbHZlKHN0YXRpY1ZhbHVlKTtcbiJdfQ==","export var ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport var CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport var AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport var SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport var EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport var SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport var TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport var AUTH_HEADER = \"authorization\";\nexport var AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport var DATE_HEADER = \"date\";\nexport var GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport var SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport var SHA256_HEADER = \"x-amz-content-sha256\";\nexport var TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport var HOST_HEADER = \"host\";\nexport var ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true,\n};\nexport var PROXY_HEADER_PATTERN = /^proxy-/;\nexport var SEC_HEADER_PATTERN = /^sec-/;\nexport var UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport var ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport var EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport var UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport var MAX_CACHE_SIZE = 50;\nexport var KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport var MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxxQkFBcUIsR0FBRyxpQkFBaUIsQ0FBQztBQUN2RCxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxrQkFBa0IsQ0FBQztBQUN6RCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxZQUFZLENBQUM7QUFDakQsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcscUJBQXFCLENBQUM7QUFDaEUsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsZUFBZSxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxJQUFNLHFCQUFxQixHQUFHLGlCQUFpQixDQUFDO0FBQ3ZELE1BQU0sQ0FBQyxJQUFNLGlCQUFpQixHQUFHLHNCQUFzQixDQUFDO0FBRXhELE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxlQUFlLENBQUM7QUFDM0MsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ2xFLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxNQUFNLENBQUM7QUFDbEMsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzdFLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3BFLE1BQU0sQ0FBQyxJQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztBQUNwRCxNQUFNLENBQUMsSUFBTSxZQUFZLEdBQUcsaUJBQWlCLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDNUQsTUFBTSxDQUFDLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQztBQUVsQyxNQUFNLENBQUMsSUFBTSx5QkFBeUIsR0FBRztJQUN2QyxhQUFhLEVBQUUsSUFBSTtJQUNuQixlQUFlLEVBQUUsSUFBSTtJQUNyQixVQUFVLEVBQUUsSUFBSTtJQUNoQixNQUFNLEVBQUUsSUFBSTtJQUNaLElBQUksRUFBRSxJQUFJO0lBQ1YsWUFBWSxFQUFFLElBQUk7SUFDbEIsY0FBYyxFQUFFLElBQUk7SUFDcEIsTUFBTSxFQUFFLElBQUk7SUFDWixPQUFPLEVBQUUsSUFBSTtJQUNiLEVBQUUsRUFBRSxJQUFJO0lBQ1IsT0FBTyxFQUFFLElBQUk7SUFDYixtQkFBbUIsRUFBRSxJQUFJO0lBQ3pCLE9BQU8sRUFBRSxJQUFJO0lBQ2IsWUFBWSxFQUFFLElBQUk7SUFDbEIsaUJBQWlCLEVBQUUsSUFBSTtDQUN4QixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsU0FBUyxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLE9BQU8sQ0FBQztBQUUxQyxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUUxRCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxrQkFBa0IsQ0FBQztBQUV2RCxNQUFNLENBQUMsSUFBTSwwQkFBMEIsR0FBRywwQkFBMEIsQ0FBQztBQUVyRSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztBQUVuRCxNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsRUFBRSxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQztBQUVsRCxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQUxHT1JJVEhNX1FVRVJZX1BBUkFNID0gXCJYLUFtei1BbGdvcml0aG1cIjtcbmV4cG9ydCBjb25zdCBDUkVERU5USUFMX1FVRVJZX1BBUkFNID0gXCJYLUFtei1DcmVkZW50aWFsXCI7XG5leHBvcnQgY29uc3QgQU1aX0RBVEVfUVVFUllfUEFSQU0gPSBcIlgtQW16LURhdGVcIjtcbmV4cG9ydCBjb25zdCBTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2lnbmVkSGVhZGVyc1wiO1xuZXhwb3J0IGNvbnN0IEVYUElSRVNfUVVFUllfUEFSQU0gPSBcIlgtQW16LUV4cGlyZXNcIjtcbmV4cG9ydCBjb25zdCBTSUdOQVRVUkVfUVVFUllfUEFSQU0gPSBcIlgtQW16LVNpZ25hdHVyZVwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TZWN1cml0eS1Ub2tlblwiO1xuXG5leHBvcnQgY29uc3QgQVVUSF9IRUFERVIgPSBcImF1dGhvcml6YXRpb25cIjtcbmV4cG9ydCBjb25zdCBBTVpfREFURV9IRUFERVIgPSBBTVpfREFURV9RVUVSWV9QQVJBTS50b0xvd2VyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IERBVEVfSEVBREVSID0gXCJkYXRlXCI7XG5leHBvcnQgY29uc3QgR0VORVJBVEVEX0hFQURFUlMgPSBbQVVUSF9IRUFERVIsIEFNWl9EQVRFX0hFQURFUiwgREFURV9IRUFERVJdO1xuZXhwb3J0IGNvbnN0IFNJR05BVFVSRV9IRUFERVIgPSBTSUdOQVRVUkVfUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBTSEEyNTZfSEVBREVSID0gXCJ4LWFtei1jb250ZW50LXNoYTI1NlwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX0hFQURFUiA9IFRPS0VOX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgSE9TVF9IRUFERVIgPSBcImhvc3RcIjtcblxuZXhwb3J0IGNvbnN0IEFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMgPSB7XG4gIGF1dGhvcml6YXRpb246IHRydWUsXG4gIFwiY2FjaGUtY29udHJvbFwiOiB0cnVlLFxuICBjb25uZWN0aW9uOiB0cnVlLFxuICBleHBlY3Q6IHRydWUsXG4gIGZyb206IHRydWUsXG4gIFwia2VlcC1hbGl2ZVwiOiB0cnVlLFxuICBcIm1heC1mb3J3YXJkc1wiOiB0cnVlLFxuICBwcmFnbWE6IHRydWUsXG4gIHJlZmVyZXI6IHRydWUsXG4gIHRlOiB0cnVlLFxuICB0cmFpbGVyOiB0cnVlLFxuICBcInRyYW5zZmVyLWVuY29kaW5nXCI6IHRydWUsXG4gIHVwZ3JhZGU6IHRydWUsXG4gIFwidXNlci1hZ2VudFwiOiB0cnVlLFxuICBcIngtYW16bi10cmFjZS1pZFwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IFBST1hZX0hFQURFUl9QQVRURVJOID0gL15wcm94eS0vO1xuXG5leHBvcnQgY29uc3QgU0VDX0hFQURFUl9QQVRURVJOID0gL15zZWMtLztcblxuZXhwb3J0IGNvbnN0IFVOU0lHTkFCTEVfUEFUVEVSTlMgPSBbL15wcm94eS0vaSwgL15zZWMtL2ldO1xuXG5leHBvcnQgY29uc3QgQUxHT1JJVEhNX0lERU5USUZJRVIgPSBcIkFXUzQtSE1BQy1TSEEyNTZcIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX0FMR09SSVRITV9JREVOVElGSUVSID0gXCJBV1M0LUhNQUMtU0hBMjU2LVBBWUxPQURcIjtcblxuZXhwb3J0IGNvbnN0IFVOU0lHTkVEX1BBWUxPQUQgPSBcIlVOU0lHTkVELVBBWUxPQURcIjtcblxuZXhwb3J0IGNvbnN0IE1BWF9DQUNIRV9TSVpFID0gNTA7XG5leHBvcnQgY29uc3QgS0VZX1RZUEVfSURFTlRJRklFUiA9IFwiYXdzNF9yZXF1ZXN0XCI7XG5cbmV4cG9ydCBjb25zdCBNQVhfUFJFU0lHTkVEX1RUTCA9IDYwICogNjAgKiAyNCAqIDc7XG4iXX0=","import { __awaiter, __generator, __values } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nvar signingKeyCache = {};\nvar cacheQueue = [];\n/**\n * Create a string describing the scope of credentials used to sign a request.\n *\n * @param shortDate The current calendar date in the form YYYYMMDD.\n * @param region    The AWS region in which the service resides.\n * @param service   The service to which the signed request is being sent.\n */\nexport function createScope(shortDate, region, service) {\n    return shortDate + \"/\" + region + \"/\" + service + \"/\" + KEY_TYPE_IDENTIFIER;\n}\n/**\n * Derive a signing key from its composite parts\n *\n * @param sha256Constructor A constructor function that can instantiate SHA-256\n *                          hash objects.\n * @param credentials       The credentials with which the request will be\n *                          signed.\n * @param shortDate         The current calendar date in the form YYYYMMDD.\n * @param region            The AWS region in which the service resides.\n * @param service           The service to which the signed request is being\n *                          sent.\n */\nexport var getSigningKey = function (sha256Constructor, credentials, shortDate, region, service) { return __awaiter(void 0, void 0, void 0, function () {\n    var credsHash, cacheKey, key, _a, _b, signable, e_1_1;\n    var e_1, _c;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0: return [4 /*yield*/, hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId)];\n            case 1:\n                credsHash = _d.sent();\n                cacheKey = shortDate + \":\" + region + \":\" + service + \":\" + toHex(credsHash) + \":\" + credentials.sessionToken;\n                if (cacheKey in signingKeyCache) {\n                    return [2 /*return*/, signingKeyCache[cacheKey]];\n                }\n                cacheQueue.push(cacheKey);\n                while (cacheQueue.length > MAX_CACHE_SIZE) {\n                    delete signingKeyCache[cacheQueue.shift()];\n                }\n                key = \"AWS4\" + credentials.secretAccessKey;\n                _d.label = 2;\n            case 2:\n                _d.trys.push([2, 7, 8, 9]);\n                _a = __values([shortDate, region, service, KEY_TYPE_IDENTIFIER]), _b = _a.next();\n                _d.label = 3;\n            case 3:\n                if (!!_b.done) return [3 /*break*/, 6];\n                signable = _b.value;\n                return [4 /*yield*/, hmac(sha256Constructor, key, signable)];\n            case 4:\n                key = _d.sent();\n                _d.label = 5;\n            case 5:\n                _b = _a.next();\n                return [3 /*break*/, 3];\n            case 6: return [3 /*break*/, 9];\n            case 7:\n                e_1_1 = _d.sent();\n                e_1 = { error: e_1_1 };\n                return [3 /*break*/, 9];\n            case 8:\n                try {\n                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                }\n                finally { if (e_1) throw e_1.error; }\n                return [7 /*endfinally*/];\n            case 9: return [2 /*return*/, (signingKeyCache[cacheKey] = key)];\n        }\n    });\n}); };\n/**\n * @internal\n */\nexport function clearCredentialCache() {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach(function (cacheKey) {\n        delete signingKeyCache[cacheKey];\n    });\n}\nfunction hmac(ctor, secret, data) {\n    var hash = new ctor(secret);\n    hash.update(data);\n    return hash.digest();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlZGVudGlhbERlcml2YXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY3JlZGVudGlhbERlcml2YXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUVuRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsY0FBYyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRWxFLElBQU0sZUFBZSxHQUFrQyxFQUFFLENBQUM7QUFDMUQsSUFBTSxVQUFVLEdBQWtCLEVBQUUsQ0FBQztBQUVyQzs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsV0FBVyxDQUFDLFNBQWlCLEVBQUUsTUFBYyxFQUFFLE9BQWU7SUFDNUUsT0FBVSxTQUFTLFNBQUksTUFBTSxTQUFJLE9BQU8sU0FBSSxtQkFBcUIsQ0FBQztBQUNwRSxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQUcsVUFDM0IsaUJBQWtDLEVBQ2xDLFdBQXdCLEVBQ3hCLFNBQWlCLEVBQ2pCLE1BQWMsRUFDZCxPQUFlOzs7OztvQkFFRyxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUE7O2dCQUEvRixTQUFTLEdBQUcsU0FBbUY7Z0JBQy9GLFFBQVEsR0FBTSxTQUFTLFNBQUksTUFBTSxTQUFJLE9BQU8sU0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLFNBQUksV0FBVyxDQUFDLFlBQWMsQ0FBQztnQkFDckcsSUFBSSxRQUFRLElBQUksZUFBZSxFQUFFO29CQUMvQixzQkFBTyxlQUFlLENBQUMsUUFBUSxDQUFDLEVBQUM7aUJBQ2xDO2dCQUVELFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzFCLE9BQU8sVUFBVSxDQUFDLE1BQU0sR0FBRyxjQUFjLEVBQUU7b0JBQ3pDLE9BQU8sZUFBZSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQVksQ0FBQyxDQUFDO2lCQUN0RDtnQkFFRyxHQUFHLEdBQWUsU0FBTyxXQUFXLENBQUMsZUFBaUIsQ0FBQzs7OztnQkFDcEMsS0FBQSxTQUFBLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQTs7OztnQkFBN0QsUUFBUTtnQkFDWCxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUFBOztnQkFBbEQsR0FBRyxHQUFHLFNBQTRDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBRXJELHNCQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQWlCLENBQUMsRUFBQzs7O0tBQ3hELENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sVUFBVSxvQkFBb0I7SUFDbEMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxRQUFRO1FBQzVDLE9BQU8sZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsSUFBSSxDQUFDLElBQXFCLEVBQUUsTUFBa0IsRUFBRSxJQUFnQjtJQUN2RSxJQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3ZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcmVkZW50aWFscywgSGFzaENvbnN0cnVjdG9yLCBTb3VyY2VEYXRhIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQgeyBLRVlfVFlQRV9JREVOVElGSUVSLCBNQVhfQ0FDSEVfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5jb25zdCBzaWduaW5nS2V5Q2FjaGU6IHsgW2tleTogc3RyaW5nXTogVWludDhBcnJheSB9ID0ge307XG5jb25zdCBjYWNoZVF1ZXVlOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHNjb3BlIG9mIGNyZWRlbnRpYWxzIHVzZWQgdG8gc2lnbiBhIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHNob3J0RGF0ZSBUaGUgY3VycmVudCBjYWxlbmRhciBkYXRlIGluIHRoZSBmb3JtIFlZWVlNTURELlxuICogQHBhcmFtIHJlZ2lvbiAgICBUaGUgQVdTIHJlZ2lvbiBpbiB3aGljaCB0aGUgc2VydmljZSByZXNpZGVzLlxuICogQHBhcmFtIHNlcnZpY2UgICBUaGUgc2VydmljZSB0byB3aGljaCB0aGUgc2lnbmVkIHJlcXVlc3QgaXMgYmVpbmcgc2VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlKHNob3J0RGF0ZTogc3RyaW5nLCByZWdpb246IHN0cmluZywgc2VydmljZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke3Nob3J0RGF0ZX0vJHtyZWdpb259LyR7c2VydmljZX0vJHtLRVlfVFlQRV9JREVOVElGSUVSfWA7XG59XG5cbi8qKlxuICogRGVyaXZlIGEgc2lnbmluZyBrZXkgZnJvbSBpdHMgY29tcG9zaXRlIHBhcnRzXG4gKlxuICogQHBhcmFtIHNoYTI1NkNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBjYW4gaW5zdGFudGlhdGUgU0hBLTI1NlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggb2JqZWN0cy5cbiAqIEBwYXJhbSBjcmVkZW50aWFscyAgICAgICBUaGUgY3JlZGVudGlhbHMgd2l0aCB3aGljaCB0aGUgcmVxdWVzdCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmVkLlxuICogQHBhcmFtIHNob3J0RGF0ZSAgICAgICAgIFRoZSBjdXJyZW50IGNhbGVuZGFyIGRhdGUgaW4gdGhlIGZvcm0gWVlZWU1NREQuXG4gKiBAcGFyYW0gcmVnaW9uICAgICAgICAgICAgVGhlIEFXUyByZWdpb24gaW4gd2hpY2ggdGhlIHNlcnZpY2UgcmVzaWRlcy5cbiAqIEBwYXJhbSBzZXJ2aWNlICAgICAgICAgICBUaGUgc2VydmljZSB0byB3aGljaCB0aGUgc2lnbmVkIHJlcXVlc3QgaXMgYmVpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBzZW50LlxuICovXG5leHBvcnQgY29uc3QgZ2V0U2lnbmluZ0tleSA9IGFzeW5jIChcbiAgc2hhMjU2Q29uc3RydWN0b3I6IEhhc2hDb25zdHJ1Y3RvcixcbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzLFxuICBzaG9ydERhdGU6IHN0cmluZyxcbiAgcmVnaW9uOiBzdHJpbmcsXG4gIHNlcnZpY2U6IHN0cmluZ1xuKTogUHJvbWlzZTxVaW50OEFycmF5PiA9PiB7XG4gIGNvbnN0IGNyZWRzSGFzaCA9IGF3YWl0IGhtYWMoc2hhMjU2Q29uc3RydWN0b3IsIGNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSwgY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpO1xuICBjb25zdCBjYWNoZUtleSA9IGAke3Nob3J0RGF0ZX06JHtyZWdpb259OiR7c2VydmljZX06JHt0b0hleChjcmVkc0hhc2gpfToke2NyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbn1gO1xuICBpZiAoY2FjaGVLZXkgaW4gc2lnbmluZ0tleUNhY2hlKSB7XG4gICAgcmV0dXJuIHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV07XG4gIH1cblxuICBjYWNoZVF1ZXVlLnB1c2goY2FjaGVLZXkpO1xuICB3aGlsZSAoY2FjaGVRdWV1ZS5sZW5ndGggPiBNQVhfQ0FDSEVfU0laRSkge1xuICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVRdWV1ZS5zaGlmdCgpIGFzIHN0cmluZ107XG4gIH1cblxuICBsZXQga2V5OiBTb3VyY2VEYXRhID0gYEFXUzQke2NyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleX1gO1xuICBmb3IgKGNvbnN0IHNpZ25hYmxlIG9mIFtzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSwgS0VZX1RZUEVfSURFTlRJRklFUl0pIHtcbiAgICBrZXkgPSBhd2FpdCBobWFjKHNoYTI1NkNvbnN0cnVjdG9yLCBrZXksIHNpZ25hYmxlKTtcbiAgfVxuICByZXR1cm4gKHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV0gPSBrZXkgYXMgVWludDhBcnJheSk7XG59O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDcmVkZW50aWFsQ2FjaGUoKTogdm9pZCB7XG4gIGNhY2hlUXVldWUubGVuZ3RoID0gMDtcbiAgT2JqZWN0LmtleXMoc2lnbmluZ0tleUNhY2hlKS5mb3JFYWNoKChjYWNoZUtleSkgPT4ge1xuICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaG1hYyhjdG9yOiBIYXNoQ29uc3RydWN0b3IsIHNlY3JldDogU291cmNlRGF0YSwgZGF0YTogU291cmNlRGF0YSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBoYXNoID0gbmV3IGN0b3Ioc2VjcmV0KTtcbiAgaGFzaC51cGRhdGUoZGF0YSk7XG4gIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufVxuIl19","import { __values } from \"tslib\";\nimport { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalHeaders(_a, unsignableHeaders, signableHeaders) {\n    var e_1, _b;\n    var headers = _a.headers;\n    var canonical = {};\n    try {\n        for (var _c = __values(Object.keys(headers).sort()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var headerName = _d.value;\n            var canonicalHeaderName = headerName.toLowerCase();\n            if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS ||\n                (unsignableHeaders === null || unsignableHeaders === void 0 ? void 0 : unsignableHeaders.has(canonicalHeaderName)) ||\n                PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n                SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n                if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                    continue;\n                }\n            }\n            canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return canonical;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2Fub25pY2FsSGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nZXRDYW5vbmljYWxIZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsb0JBQW9CLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbEc7O0dBRUc7QUFDSCxNQUFNLFVBQVUsbUJBQW1CLENBQ2pDLEVBQXdCLEVBQ3hCLGlCQUErQixFQUMvQixlQUE2Qjs7UUFGM0IsT0FBTyxhQUFBO0lBSVQsSUFBTSxTQUFTLEdBQWMsRUFBRSxDQUFDOztRQUNoQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBLGdCQUFBLDRCQUFFO1lBQWpELElBQU0sVUFBVSxXQUFBO1lBQ25CLElBQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3JELElBQ0UsbUJBQW1CLElBQUkseUJBQXlCO2lCQUNoRCxpQkFBaUIsYUFBakIsaUJBQWlCLHVCQUFqQixpQkFBaUIsQ0FBRSxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQTtnQkFDM0Msb0JBQW9CLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO2dCQUM5QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFDNUM7Z0JBQ0EsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFO29CQUN0RixTQUFTO2lCQUNWO2FBQ0Y7WUFFRCxTQUFTLENBQUMsbUJBQW1CLENBQUMsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNsRjs7Ozs7Ozs7O0lBRUQsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhlYWRlckJhZywgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgQUxXQVlTX1VOU0lHTkFCTEVfSEVBREVSUywgUFJPWFlfSEVBREVSX1BBVFRFUk4sIFNFQ19IRUFERVJfUEFUVEVSTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2Fub25pY2FsSGVhZGVycyhcbiAgeyBoZWFkZXJzIH06IEh0dHBSZXF1ZXN0LFxuICB1bnNpZ25hYmxlSGVhZGVycz86IFNldDxzdHJpbmc+LFxuICBzaWduYWJsZUhlYWRlcnM/OiBTZXQ8c3RyaW5nPlxuKTogSGVhZGVyQmFnIHtcbiAgY29uc3QgY2Fub25pY2FsOiBIZWFkZXJCYWcgPSB7fTtcbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKSkge1xuICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlck5hbWUgPSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKFxuICAgICAgY2Fub25pY2FsSGVhZGVyTmFtZSBpbiBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTIHx8XG4gICAgICB1bnNpZ25hYmxlSGVhZGVycz8uaGFzKGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICBQUk9YWV9IRUFERVJfUEFUVEVSTi50ZXN0KGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICBTRUNfSEVBREVSX1BBVFRFUk4udGVzdChjYW5vbmljYWxIZWFkZXJOYW1lKVxuICAgICkge1xuICAgICAgaWYgKCFzaWduYWJsZUhlYWRlcnMgfHwgKHNpZ25hYmxlSGVhZGVycyAmJiAhc2lnbmFibGVIZWFkZXJzLmhhcyhjYW5vbmljYWxIZWFkZXJOYW1lKSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2Fub25pY2FsW2Nhbm9uaWNhbEhlYWRlck5hbWVdID0gaGVhZGVyc1toZWFkZXJOYW1lXS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG4gIH1cblxuICByZXR1cm4gY2Fub25pY2FsO1xufVxuIl19","import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\n/**\n * @internal\n */\nexport function getPayloadHash(_a, hashConstructor) {\n    var headers = _a.headers, body = _a.body;\n    return __awaiter(this, void 0, void 0, function () {\n        var _b, _c, headerName, hashCtor, _d;\n        var e_1, _e;\n        return __generator(this, function (_f) {\n            switch (_f.label) {\n                case 0:\n                    try {\n                        for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            headerName = _c.value;\n                            if (headerName.toLowerCase() === SHA256_HEADER) {\n                                return [2 /*return*/, headers[headerName]];\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    if (!(body == undefined)) return [3 /*break*/, 1];\n                    return [2 /*return*/, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n                case 1:\n                    if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3 /*break*/, 3];\n                    hashCtor = new hashConstructor();\n                    hashCtor.update(body);\n                    _d = toHex;\n                    return [4 /*yield*/, hashCtor.digest()];\n                case 2: return [2 /*return*/, _d.apply(void 0, [_f.sent()])];\n                case 3: \n                // As any defined body that is not a string or binary data is a stream, this\n                // body is unsignable. Attempt to send the request with an unsigned payload,\n                // which may or may not be accepted by the service.\n                return [2 /*return*/, UNSIGNED_PAYLOAD];\n            }\n        });\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0UGF5bG9hZEhhc2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0UGF5bG9hZEhhc2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV6RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUU5RDs7R0FFRztBQUNILE1BQU0sVUFBZ0IsY0FBYyxDQUNsQyxFQUE4QixFQUM5QixlQUFnQztRQUQ5QixPQUFPLGFBQUEsRUFBRSxJQUFJLFVBQUE7Ozs7Ozs7O3dCQUdmLEtBQXlCLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLDRDQUFFOzRCQUFwQyxVQUFVOzRCQUNuQixJQUFJLFVBQVUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxhQUFhLEVBQUU7Z0NBQzlDLHNCQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBQzs2QkFDNUI7eUJBQ0Y7Ozs7Ozs7Ozt5QkFFRyxDQUFBLElBQUksSUFBSSxTQUFTLENBQUEsRUFBakIsd0JBQWlCO29CQUNuQixzQkFBTyxrRUFBa0UsRUFBQzs7eUJBQ2pFLENBQUEsT0FBTyxJQUFJLEtBQUssUUFBUSxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFBLEVBQTNFLHdCQUEyRTtvQkFDOUUsUUFBUSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7b0JBQ3ZDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2YsS0FBQSxLQUFLLENBQUE7b0JBQUMscUJBQU0sUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFBO3dCQUFwQyxzQkFBTyxrQkFBTSxTQUF1QixFQUFDLEVBQUM7O2dCQUd4Qyw0RUFBNEU7Z0JBQzVFLDRFQUE0RTtnQkFDNUUsbURBQW1EO2dCQUNuRCxzQkFBTyxnQkFBZ0IsRUFBQzs7OztDQUN6QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiQGF3cy1zZGsvaXMtYXJyYXktYnVmZmVyXCI7XG5pbXBvcnQgeyBIYXNoQ29uc3RydWN0b3IsIEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQgeyBTSEEyNTZfSEVBREVSLCBVTlNJR05FRF9QQVlMT0FEIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXlsb2FkSGFzaChcbiAgeyBoZWFkZXJzLCBib2R5IH06IEh0dHBSZXF1ZXN0LFxuICBoYXNoQ29uc3RydWN0b3I6IEhhc2hDb25zdHJ1Y3RvclxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgaWYgKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gU0hBMjU2X0hFQURFUikge1xuICAgICAgcmV0dXJuIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfVxuICB9XG5cbiAgaWYgKGJvZHkgPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIFwiZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3ODUyYjg1NVwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiIHx8IEFycmF5QnVmZmVyLmlzVmlldyhib2R5KSB8fCBpc0FycmF5QnVmZmVyKGJvZHkpKSB7XG4gICAgY29uc3QgaGFzaEN0b3IgPSBuZXcgaGFzaENvbnN0cnVjdG9yKCk7XG4gICAgaGFzaEN0b3IudXBkYXRlKGJvZHkpO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoQ3Rvci5kaWdlc3QoKSk7XG4gIH1cblxuICAvLyBBcyBhbnkgZGVmaW5lZCBib2R5IHRoYXQgaXMgbm90IGEgc3RyaW5nIG9yIGJpbmFyeSBkYXRhIGlzIGEgc3RyZWFtLCB0aGlzXG4gIC8vIGJvZHkgaXMgdW5zaWduYWJsZS4gQXR0ZW1wdCB0byBzZW5kIHRoZSByZXF1ZXN0IHdpdGggYW4gdW5zaWduZWQgcGF5bG9hZCxcbiAgLy8gd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgYWNjZXB0ZWQgYnkgdGhlIHNlcnZpY2UuXG4gIHJldHVybiBVTlNJR05FRF9QQVlMT0FEO1xufVxuIl19","export var isArrayBuffer = function (arg) {\n    return (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n        Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sYUFBYSxHQUFHLFVBQUMsR0FBUTtJQUNwQyxPQUFBLENBQUMsT0FBTyxXQUFXLEtBQUssVUFBVSxJQUFJLEdBQUcsWUFBWSxXQUFXLENBQUM7UUFDakUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLHNCQUFzQjtBQUQ5RCxDQUM4RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzQXJyYXlCdWZmZXIgPSAoYXJnOiBhbnkpOiBhcmcgaXMgQXJyYXlCdWZmZXIgPT5cbiAgKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIGFyZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiO1xuIl19","import { __assign, __read, __rest, __spreadArray } from \"tslib\";\n/**\n * @internal\n */\nexport function cloneRequest(_a) {\n    var headers = _a.headers, query = _a.query, rest = __rest(_a, [\"headers\", \"query\"]);\n    return __assign(__assign({}, rest), { headers: __assign({}, headers), query: query ? cloneQuery(query) : undefined });\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spreadArray([], __read(param)) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvbmVSZXF1ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Nsb25lUmVxdWVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUE7O0dBRUc7QUFDSCxNQUFNLFVBQVUsWUFBWSxDQUFDLEVBQXdDO0lBQXRDLElBQUEsT0FBTyxhQUFBLEVBQUUsS0FBSyxXQUFBLEVBQUssSUFBSSxjQUF6QixvQkFBMkIsQ0FBRjtJQUNwRCw2QkFDSyxJQUFJLEtBQ1AsT0FBTyxlQUFPLE9BQU8sR0FDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLElBQzVDO0FBQ0osQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQXdCO0lBQzFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMzRSxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkJBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLDBCQUFLLEtBQUssR0FBRSxDQUFDLENBQUMsS0FBSyxPQUN0RDtJQUNKLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNULENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCwgUXVlcnlQYXJhbWV0ZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lUmVxdWVzdCh7IGhlYWRlcnMsIHF1ZXJ5LCAuLi5yZXN0IH06IEh0dHBSZXF1ZXN0KTogSHR0cFJlcXVlc3Qge1xuICByZXR1cm4ge1xuICAgIC4uLnJlc3QsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzIH0sXG4gICAgcXVlcnk6IHF1ZXJ5ID8gY2xvbmVRdWVyeShxdWVyeSkgOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsb25lUXVlcnkocXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnKTogUXVlcnlQYXJhbWV0ZXJCYWcge1xuICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZSgoY2Fycnk6IFF1ZXJ5UGFyYW1ldGVyQmFnLCBwYXJhbU5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHBhcmFtID0gcXVlcnlbcGFyYW1OYW1lXTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uY2FycnksXG4gICAgICBbcGFyYW1OYW1lXTogQXJyYXkuaXNBcnJheShwYXJhbSkgPyBbLi4ucGFyYW1dIDogcGFyYW0sXG4gICAgfTtcbiAgfSwge30pO1xufVxuIl19","import { __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\nimport { GENERATED_HEADERS } from \"./constants\";\n/**\n * @internal\n */\nexport function prepareRequest(request) {\n    var e_1, _a;\n    // Create a clone of the request object that does not clone the body\n    request = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request);\n    try {\n        for (var _b = __values(Object.keys(request.headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n                delete request.headers[headerName];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return request;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlcGFyZVJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJlcGFyZVJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFaEQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsY0FBYyxDQUFDLE9BQW9COztJQUNqRCxvRUFBb0U7SUFDcEUsT0FBTyxHQUFHLE9BQVEsT0FBZSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFFLE9BQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDOztRQUUxRyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtZQUFsRCxJQUFNLFVBQVUsV0FBQTtZQUNuQixJQUFJLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFDNUQsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3BDO1NBQ0Y7Ozs7Ozs7OztJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcbmltcG9ydCB7IEdFTkVSQVRFRF9IRUFERVJTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0OiBIdHRwUmVxdWVzdCk6IEh0dHBSZXF1ZXN0IHtcbiAgLy8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgZG9lcyBub3QgY2xvbmUgdGhlIGJvZHlcbiAgcmVxdWVzdCA9IHR5cGVvZiAocmVxdWVzdCBhcyBhbnkpLmNsb25lID09PSBcImZ1bmN0aW9uXCIgPyAocmVxdWVzdCBhcyBhbnkpLmNsb25lKCkgOiBjbG9uZVJlcXVlc3QocmVxdWVzdCk7XG5cbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKHJlcXVlc3QuaGVhZGVycykpIHtcbiAgICBpZiAoR0VORVJBVEVEX0hFQURFUlMuaW5kZXhPZihoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3Q7XG59XG4iXX0=","export function iso8601(time) {\n    return toDate(time)\n        .toISOString()\n        .replace(/\\.\\d{3}Z$/, \"Z\");\n}\nexport function toDate(time) {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbERhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbERhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE9BQU8sQ0FBQyxJQUE0QjtJQUNsRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUM7U0FDaEIsV0FBVyxFQUFFO1NBQ2IsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMvQixDQUFDO0FBRUQsTUFBTSxVQUFVLE1BQU0sQ0FBQyxJQUE0QjtJQUNqRCxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUM1QixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztLQUM5QjtJQUVELElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN2QjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc284NjAxKHRpbWU6IG51bWJlciB8IHN0cmluZyB8IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gdG9EYXRlKHRpbWUpXG4gICAgLnRvSVNPU3RyaW5nKClcbiAgICAucmVwbGFjZSgvXFwuXFxkezN9WiQvLCBcIlpcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUodGltZTogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSk6IERhdGUge1xuICBpZiAodHlwZW9mIHRpbWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0aW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKE51bWJlcih0aW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE51bWJlcih0aW1lKSAqIDEwMDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUodGltZSk7XG4gIH1cblxuICByZXR1cm4gdGltZTtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, } from \"./constants\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { hasHeader } from \"./hasHeader\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { iso8601 } from \"./utilDate\";\nvar SignatureV4 = /** @class */ (function () {\n    function SignatureV4(_a) {\n        var applyChecksum = _a.applyChecksum, credentials = _a.credentials, region = _a.region, service = _a.service, sha256 = _a.sha256, _b = _a.uriEscapePath, uriEscapePath = _b === void 0 ? true : _b;\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        // default to true if applyChecksum isn't set\n        this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        this.regionProvider = normalizeRegionProvider(region);\n        this.credentialProvider = normalizeCredentialsProvider(credentials);\n    }\n    SignatureV4.prototype.presign = function (originalRequest, options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, signingDate, _b, expiresIn, unsignableHeaders, unhoistableHeaders, signableHeaders, signingRegion, signingService, credentials, region, _c, _d, longDate, shortDate, scope, request, canonicalHeaders, _e, _f, _g, _h, _j, _k;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0:\n                        _a = options.signingDate, signingDate = _a === void 0 ? new Date() : _a, _b = options.expiresIn, expiresIn = _b === void 0 ? 3600 : _b, unsignableHeaders = options.unsignableHeaders, unhoistableHeaders = options.unhoistableHeaders, signableHeaders = options.signableHeaders, signingRegion = options.signingRegion, signingService = options.signingService;\n                        return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _l.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _c = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _c = (_l.sent());\n                        _l.label = 4;\n                    case 4:\n                        region = _c;\n                        _d = formatDate(signingDate), longDate = _d.longDate, shortDate = _d.shortDate;\n                        if (expiresIn > MAX_PRESIGNED_TTL) {\n                            return [2 /*return*/, Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\")];\n                        }\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request = moveHeadersToQuery(prepareRequest(originalRequest), { unhoistableHeaders: unhoistableHeaders });\n                        if (credentials.sessionToken) {\n                            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n                        }\n                        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n                        request.query[CREDENTIAL_QUERY_PARAM] = credentials.accessKeyId + \"/\" + scope;\n                        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n                        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        request.query[SIGNED_HEADERS_QUERY_PARAM] = getCanonicalHeaderList(canonicalHeaders);\n                        _e = request.query;\n                        _f = SIGNATURE_QUERY_PARAM;\n                        _g = this.getSignature;\n                        _h = [longDate,\n                            scope,\n                            this.getSigningKey(credentials, region, shortDate, signingService)];\n                        _j = this.createCanonicalRequest;\n                        _k = [request, canonicalHeaders];\n                        return [4 /*yield*/, getPayloadHash(originalRequest, this.sha256)];\n                    case 5: return [4 /*yield*/, _g.apply(this, _h.concat([_j.apply(this, _k.concat([_l.sent()]))]))];\n                    case 6:\n                        _e[_f] = _l.sent();\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.sign = function (toSign, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (typeof toSign === \"string\") {\n                    return [2 /*return*/, this.signString(toSign, options)];\n                }\n                else if (toSign.headers && toSign.payload) {\n                    return [2 /*return*/, this.signEvent(toSign, options)];\n                }\n                else {\n                    return [2 /*return*/, this.signRequest(toSign, options)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    SignatureV4.prototype.signEvent = function (_a, _b) {\n        var headers = _a.headers, payload = _a.payload;\n        var _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, priorSignature = _b.priorSignature, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var region, _d, _e, shortDate, longDate, scope, hashedPayload, hash, hashedHeaders, _f, stringToSign;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 1];\n                        _d = signingRegion;\n                        return [3 /*break*/, 3];\n                    case 1: return [4 /*yield*/, this.regionProvider()];\n                    case 2:\n                        _d = (_g.sent());\n                        _g.label = 3;\n                    case 3:\n                        region = _d;\n                        _e = formatDate(signingDate), shortDate = _e.shortDate, longDate = _e.longDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        return [4 /*yield*/, getPayloadHash({ headers: {}, body: payload }, this.sha256)];\n                    case 4:\n                        hashedPayload = _g.sent();\n                        hash = new this.sha256();\n                        hash.update(headers);\n                        _f = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 5:\n                        hashedHeaders = _f.apply(void 0, [_g.sent()]);\n                        stringToSign = [\n                            EVENT_ALGORITHM_IDENTIFIER,\n                            longDate,\n                            scope,\n                            priorSignature,\n                            hashedHeaders,\n                            hashedPayload,\n                        ].join(\"\\n\");\n                        return [2 /*return*/, this.signString(stringToSign, { signingDate: signingDate, signingRegion: region, signingService: signingService })];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signString = function (stringToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, shortDate, hash, _e, _f, _g;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _h.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_h.sent());\n                        _h.label = 4;\n                    case 4:\n                        region = _d;\n                        shortDate = formatDate(signingDate).shortDate;\n                        _f = (_e = this.sha256).bind;\n                        return [4 /*yield*/, this.getSigningKey(credentials, region, shortDate, signingService)];\n                    case 5:\n                        hash = new (_f.apply(_e, [void 0, _h.sent()]))();\n                        hash.update(stringToSign);\n                        _g = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 6: return [2 /*return*/, _g.apply(void 0, [_h.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signRequest = function (requestToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signableHeaders = _b.signableHeaders, unsignableHeaders = _b.unsignableHeaders, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, request, _e, longDate, shortDate, scope, payloadHash, canonicalHeaders, signature;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _f.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_f.sent());\n                        _f.label = 4;\n                    case 4:\n                        region = _d;\n                        request = prepareRequest(requestToSign);\n                        _e = formatDate(signingDate), longDate = _e.longDate, shortDate = _e.shortDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request.headers[AMZ_DATE_HEADER] = longDate;\n                        if (credentials.sessionToken) {\n                            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n                        }\n                        return [4 /*yield*/, getPayloadHash(request, this.sha256)];\n                    case 5:\n                        payloadHash = _f.sent();\n                        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n                            request.headers[SHA256_HEADER] = payloadHash;\n                        }\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        return [4 /*yield*/, this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash))];\n                    case 6:\n                        signature = _f.sent();\n                        request.headers[AUTH_HEADER] =\n                            ALGORITHM_IDENTIFIER + \" \" +\n                                (\"Credential=\" + credentials.accessKeyId + \"/\" + scope + \", \") +\n                                (\"SignedHeaders=\" + getCanonicalHeaderList(canonicalHeaders) + \", \") +\n                                (\"Signature=\" + signature);\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.createCanonicalRequest = function (request, canonicalHeaders, payloadHash) {\n        var sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return request.method + \"\\n\" + this.getCanonicalPath(request) + \"\\n\" + getCanonicalQuery(request) + \"\\n\" + sortedHeaders.map(function (name) { return name + \":\" + canonicalHeaders[name]; }).join(\"\\n\") + \"\\n\\n\" + sortedHeaders.join(\";\") + \"\\n\" + payloadHash;\n    };\n    SignatureV4.prototype.createStringToSign = function (longDate, credentialScope, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hash, hashedRequest;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        hash = new this.sha256();\n                        hash.update(canonicalRequest);\n                        return [4 /*yield*/, hash.digest()];\n                    case 1:\n                        hashedRequest = _a.sent();\n                        return [2 /*return*/, ALGORITHM_IDENTIFIER + \"\\n\" + longDate + \"\\n\" + credentialScope + \"\\n\" + toHex(hashedRequest)];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getCanonicalPath = function (_a) {\n        var path = _a.path;\n        if (this.uriEscapePath) {\n            var doubleEncoded = encodeURIComponent(path.replace(/^\\//, \"\"));\n            return \"/\" + doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    };\n    SignatureV4.prototype.getSignature = function (longDate, credentialScope, keyPromise, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stringToSign, hash, _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.createStringToSign(longDate, credentialScope, canonicalRequest)];\n                    case 1:\n                        stringToSign = _d.sent();\n                        _b = (_a = this.sha256).bind;\n                        return [4 /*yield*/, keyPromise];\n                    case 2:\n                        hash = new (_b.apply(_a, [void 0, _d.sent()]))();\n                        hash.update(stringToSign);\n                        _c = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3: return [2 /*return*/, _c.apply(void 0, [_d.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getSigningKey = function (credentials, region, shortDate, service) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n    };\n    return SignatureV4;\n}());\nexport { SignatureV4 };\nvar formatDate = function (now) {\n    var longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n    return {\n        longDate: longDate,\n        shortDate: longDate.substr(0, 8),\n    };\n};\nvar getCanonicalHeaderList = function (headers) { return Object.keys(headers).sort().join(\";\"); };\nvar normalizeRegionProvider = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    else {\n        return region;\n    }\n};\nvar normalizeCredentialsProvider = function (credentials) {\n    if (typeof credentials === \"object\") {\n        var promisified_2 = Promise.resolve(credentials);\n        return function () { return promisified_2; };\n    }\n    else {\n        return credentials;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2lnbmF0dXJlVjQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvU2lnbmF0dXJlVjQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQWlCQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFbkQsT0FBTyxFQUNMLG9CQUFvQixFQUNwQixxQkFBcUIsRUFDckIsZUFBZSxFQUNmLG9CQUFvQixFQUNwQixXQUFXLEVBQ1gsc0JBQXNCLEVBQ3RCLDBCQUEwQixFQUMxQixtQkFBbUIsRUFDbkIsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixxQkFBcUIsRUFDckIsMEJBQTBCLEVBQzFCLFlBQVksRUFDWixpQkFBaUIsR0FDbEIsTUFBTSxhQUFhLENBQUM7QUFDckIsT0FBTyxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQWtEckM7SUFRRSxxQkFBWSxFQU84QjtZQU54QyxhQUFhLG1CQUFBLEVBQ2IsV0FBVyxpQkFBQSxFQUNYLE1BQU0sWUFBQSxFQUNOLE9BQU8sYUFBQSxFQUNQLE1BQU0sWUFBQSxFQUNOLHFCQUFvQixFQUFwQixhQUFhLG1CQUFHLElBQUksS0FBQTtRQUVwQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJ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YztJQUNoQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNwRCxPQUFPO1FBQ0wsUUFBUSxVQUFBO1FBQ1IsU0FBUyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUNqQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsSUFBTSxzQkFBc0IsR0FBRyxVQUFDLE9BQWUsSUFBYSxPQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFyQyxDQUFxQyxDQUFDO0FBRWxHLElBQU0sdUJBQXVCLEdBQUcsVUFBQyxNQUFpQztJQUNoRSxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtRQUM5QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7U0FBTTtRQUNMLE9BQU8sTUFBTSxDQUFDO0tBQ2Y7QUFDSCxDQUFDLENBQUM7QUFFRixJQUFNLDRCQUE0QixHQUFHLFVBQUMsV0FBZ0Q7SUFDcEYsSUFBSSxPQUFPLFdBQVcsS0FBSyxRQUFRLEVBQUU7UUFDbkMsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRCxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO1NBQU07UUFDTCxPQUFPLFdBQVcsQ0FBQztLQUNwQjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENyZWRlbnRpYWxzLFxuICBEYXRlSW5wdXQsXG4gIEV2ZW50U2lnbmVyLFxuICBFdmVudFNpZ25pbmdBcmd1bWVudHMsXG4gIEZvcm1hdHRlZEV2ZW50LFxuICBIYXNoQ29uc3RydWN0b3IsXG4gIEhlYWRlckJhZyxcbiAgSHR0cFJlcXVlc3QsXG4gIFByb3ZpZGVyLFxuICBSZXF1ZXN0UHJlc2lnbmVyLFxuICBSZXF1ZXN0UHJlc2lnbmluZ0FyZ3VtZW50cyxcbiAgUmVxdWVzdFNpZ25lcixcbiAgUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMsXG4gIFNpZ25pbmdBcmd1bWVudHMsXG4gIFN0cmluZ1NpZ25lcixcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQge1xuICBBTEdPUklUSE1fSURFTlRJRklFUixcbiAgQUxHT1JJVEhNX1FVRVJZX1BBUkFNLFxuICBBTVpfREFURV9IRUFERVIsXG4gIEFNWl9EQVRFX1FVRVJZX1BBUkFNLFxuICBBVVRIX0hFQURFUixcbiAgQ1JFREVOVElBTF9RVUVSWV9QQVJBTSxcbiAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gIEVYUElSRVNfUVVFUllfUEFSQU0sXG4gIE1BWF9QUkVTSUdORURfVFRMLFxuICBTSEEyNTZfSEVBREVSLFxuICBTSUdOQVRVUkVfUVVFUllfUEFSQU0sXG4gIFNJR05FRF9IRUFERVJTX1FVRVJZX1BBUkFNLFxuICBUT0tFTl9IRUFERVIsXG4gIFRPS0VOX1FVRVJZX1BBUkFNLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBnZXRTaWduaW5nS2V5IH0gZnJvbSBcIi4vY3JlZGVudGlhbERlcml2YXRpb25cIjtcbmltcG9ydCB7IGdldENhbm9uaWNhbEhlYWRlcnMgfSBmcm9tIFwiLi9nZXRDYW5vbmljYWxIZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRDYW5vbmljYWxRdWVyeSB9IGZyb20gXCIuL2dldENhbm9uaWNhbFF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQYXlsb2FkSGFzaCB9IGZyb20gXCIuL2dldFBheWxvYWRIYXNoXCI7XG5pbXBvcnQgeyBoYXNIZWFkZXIgfSBmcm9tIFwiLi9oYXNIZWFkZXJcIjtcbmltcG9ydCB7IG1vdmVIZWFkZXJzVG9RdWVyeSB9IGZyb20gXCIuL21vdmVIZWFkZXJzVG9RdWVyeVwiO1xuaW1wb3J0IHsgcHJlcGFyZVJlcXVlc3QgfSBmcm9tIFwiLi9wcmVwYXJlUmVxdWVzdFwiO1xuaW1wb3J0IHsgaXNvODYwMSB9IGZyb20gXCIuL3V0aWxEYXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlVjRJbml0IHtcbiAgLyoqXG4gICAqIFRoZSBzZXJ2aWNlIHNpZ25pbmcgbmFtZS5cbiAgICovXG4gIHNlcnZpY2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlZ2lvbiBuYW1lIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVcbiAgICogcmVzb2x2ZWQgd2l0aCB0aGUgcmVnaW9uIG5hbWUuXG4gICAqL1xuICByZWdpb246IHN0cmluZyB8IFByb3ZpZGVyPHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB3aXRoIHdoaWNoIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBzaWduZWQgb3IgYSBmdW5jdGlvblxuICAgKiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGNyZWRlbnRpYWxzLlxuICAgKi9cbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzIHwgUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciBhIGhhc2ggb2JqZWN0IHRoYXQgd2lsbCBjYWxjdWxhdGUgU0hBLTI1NiBITUFDXG4gICAqIGNoZWNrc3Vtcy5cbiAgICovXG4gIHNoYTI1Nj86IEhhc2hDb25zdHJ1Y3RvcjtcblxuICAvKipcbiAgICogV2hldGhlciB0byB1cmktZXNjYXBlIHRoZSByZXF1ZXN0IFVSSSBwYXRoIGFzIHBhcnQgb2YgY29tcHV0aW5nIHRoZVxuICAgKiBjYW5vbmljYWwgcmVxdWVzdCBzdHJpbmcuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGV2ZXJ5IEFXUyBzZXJ2aWNlLCBleGNlcHRcbiAgICogQW1hem9uIFMzLCBhcyBvZiBsYXRlIDIwMTcuXG4gICAqXG4gICAqIEBkZWZhdWx0IFt0cnVlXVxuICAgKi9cbiAgdXJpRXNjYXBlUGF0aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gY2FsY3VsYXRlIGEgY2hlY2tzdW0gb2YgdGhlIHJlcXVlc3QgYm9keSBhbmQgaW5jbHVkZSBpdCBhc1xuICAgKiBlaXRoZXIgYSByZXF1ZXN0IGhlYWRlciAod2hlbiBzaWduaW5nKSBvciBhcyBhIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJcbiAgICogKHdoZW4gcHJlc2lnbmluZykuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIEFXUyBHbGFjaWVyIGFuZCBBbWF6b24gUzMgYW5kIG9wdGlvbmFsIGZvclxuICAgKiBldmVyeSBvdGhlciBBV1Mgc2VydmljZSBhcyBvZiBsYXRlIDIwMTcuXG4gICAqXG4gICAqIEBkZWZhdWx0IFt0cnVlXVxuICAgKi9cbiAgYXBwbHlDaGVja3N1bT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlVjRDcnlwdG9Jbml0IHtcbiAgc2hhMjU2OiBIYXNoQ29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduYXR1cmVWNCBpbXBsZW1lbnRzIFJlcXVlc3RQcmVzaWduZXIsIFJlcXVlc3RTaWduZXIsIFN0cmluZ1NpZ25lciwgRXZlbnRTaWduZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHNlcnZpY2U6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSByZWdpb25Qcm92aWRlcjogUHJvdmlkZXI8c3RyaW5nPjtcbiAgcHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsUHJvdmlkZXI6IFByb3ZpZGVyPENyZWRlbnRpYWxzPjtcbiAgcHJpdmF0ZSByZWFkb25seSBzaGEyNTY6IEhhc2hDb25zdHJ1Y3RvcjtcbiAgcHJpdmF0ZSByZWFkb25seSB1cmlFc2NhcGVQYXRoOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGFwcGx5Q2hlY2tzdW06IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGFwcGx5Q2hlY2tzdW0sXG4gICAgY3JlZGVudGlhbHMsXG4gICAgcmVnaW9uLFxuICAgIHNlcnZpY2UsXG4gICAgc2hhMjU2LFxuICAgIHVyaUVzY2FwZVBhdGggPSB0cnVlLFxuICB9OiBTaWduYXR1cmVWNEluaXQgJiBTaWduYXR1cmVWNENyeXB0b0luaXQpIHtcbiAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIHRoaXMuc2hhMjU2ID0gc2hhMjU2O1xuICAgIHRoaXMudXJpRXNjYXBlUGF0aCA9IHVyaUVzY2FwZVBhdGg7XG4gICAgLy8gZGVmYXVsdCB0byB0cnVlIGlmIGFwcGx5Q2hlY2tzdW0gaXNuJ3Qgc2V0XG4gICAgdGhpcy5hcHBseUNoZWNrc3VtID0gdHlwZW9mIGFwcGx5Q2hlY2tzdW0gPT09IFwiYm9vbGVhblwiID8gYXBwbHlDaGVja3N1bSA6IHRydWU7XG4gICAgdGhpcy5yZWdpb25Qcm92aWRlciA9IG5vcm1hbGl6ZVJlZ2lvblByb3ZpZGVyKHJlZ2lvbik7XG4gICAgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIgPSBub3JtYWxpemVDcmVkZW50aWFsc1Byb3ZpZGVyKGNyZWRlbnRpYWxzKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBwcmVzaWduKG9yaWdpbmFsUmVxdWVzdDogSHR0cFJlcXVlc3QsIG9wdGlvbnM6IFJlcXVlc3RQcmVzaWduaW5nQXJndW1lbnRzID0ge30pOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgZXhwaXJlc0luID0gMzYwMCxcbiAgICAgIHVuc2lnbmFibGVIZWFkZXJzLFxuICAgICAgdW5ob2lzdGFibGVIZWFkZXJzLFxuICAgICAgc2lnbmFibGVIZWFkZXJzLFxuICAgICAgc2lnbmluZ1JlZ2lvbixcbiAgICAgIHNpZ25pbmdTZXJ2aWNlLFxuICAgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuXG4gICAgY29uc3QgeyBsb25nRGF0ZSwgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICBpZiAoZXhwaXJlc0luID4gTUFYX1BSRVNJR05FRF9UVEwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgXCJTaWduYXR1cmUgdmVyc2lvbiA0IHByZXNpZ25lZCBVUkxzXCIgKyBcIiBtdXN0IGhhdmUgYW4gZXhwaXJhdGlvbiBkYXRlIGxlc3MgdGhhbiBvbmUgd2VlayBpblwiICsgXCIgdGhlIGZ1dHVyZVwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoc2hvcnREYXRlLCByZWdpb24sIHNpZ25pbmdTZXJ2aWNlID8/IHRoaXMuc2VydmljZSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IG1vdmVIZWFkZXJzVG9RdWVyeShwcmVwYXJlUmVxdWVzdChvcmlnaW5hbFJlcXVlc3QpLCB7IHVuaG9pc3RhYmxlSGVhZGVycyB9KTtcblxuICAgIGlmIChjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHJlcXVlc3QucXVlcnlbVE9LRU5fUVVFUllfUEFSQU1dID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgIH1cbiAgICByZXF1ZXN0LnF1ZXJ5W0FMR09SSVRITV9RVUVSWV9QQVJBTV0gPSBBTEdPUklUSE1fSURFTlRJRklFUjtcbiAgICByZXF1ZXN0LnF1ZXJ5W0NSRURFTlRJQUxfUVVFUllfUEFSQU1dID0gYCR7Y3JlZGVudGlhbHMuYWNjZXNzS2V5SWR9LyR7c2NvcGV9YDtcbiAgICByZXF1ZXN0LnF1ZXJ5W0FNWl9EQVRFX1FVRVJZX1BBUkFNXSA9IGxvbmdEYXRlO1xuICAgIHJlcXVlc3QucXVlcnlbRVhQSVJFU19RVUVSWV9QQVJBTV0gPSBleHBpcmVzSW4udG9TdHJpbmcoMTApO1xuXG4gICAgY29uc3QgY2Fub25pY2FsSGVhZGVycyA9IGdldENhbm9uaWNhbEhlYWRlcnMocmVxdWVzdCwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycyk7XG4gICAgcmVxdWVzdC5xdWVyeVtTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTV0gPSBnZXRDYW5vbmljYWxIZWFkZXJMaXN0KGNhbm9uaWNhbEhlYWRlcnMpO1xuXG4gICAgcmVxdWVzdC5xdWVyeVtTSUdOQVRVUkVfUVVFUllfUEFSQU1dID0gYXdhaXQgdGhpcy5nZXRTaWduYXR1cmUoXG4gICAgICBsb25nRGF0ZSxcbiAgICAgIHNjb3BlLFxuICAgICAgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpLFxuICAgICAgdGhpcy5jcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3QsIGNhbm9uaWNhbEhlYWRlcnMsIGF3YWl0IGdldFBheWxvYWRIYXNoKG9yaWdpbmFsUmVxdWVzdCwgdGhpcy5zaGEyNTYpKVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduKHN0cmluZ1RvU2lnbjogc3RyaW5nLCBvcHRpb25zPzogU2lnbmluZ0FyZ3VtZW50cyk6IFByb21pc2U8c3RyaW5nPjtcbiAgcHVibGljIGFzeW5jIHNpZ24oZXZlbnQ6IEZvcm1hdHRlZEV2ZW50LCBvcHRpb25zOiBFdmVudFNpZ25pbmdBcmd1bWVudHMpOiBQcm9taXNlPHN0cmluZz47XG4gIHB1YmxpYyBhc3luYyBzaWduKHJlcXVlc3RUb1NpZ246IEh0dHBSZXF1ZXN0LCBvcHRpb25zPzogUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMpOiBQcm9taXNlPEh0dHBSZXF1ZXN0PjtcbiAgcHVibGljIGFzeW5jIHNpZ24odG9TaWduOiBhbnksIG9wdGlvbnM6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKHR5cGVvZiB0b1NpZ24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpZ25TdHJpbmcodG9TaWduLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHRvU2lnbi5oZWFkZXJzICYmIHRvU2lnbi5wYXlsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaWduRXZlbnQodG9TaWduLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc2lnblJlcXVlc3QodG9TaWduLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpZ25FdmVudChcbiAgICB7IGhlYWRlcnMsIHBheWxvYWQgfTogRm9ybWF0dGVkRXZlbnQsXG4gICAgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHByaW9yU2lnbmF0dXJlLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9OiBFdmVudFNpZ25pbmdBcmd1bWVudHNcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgIGNvbnN0IHsgc2hvcnREYXRlLCBsb25nRGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcbiAgICBjb25zdCBoYXNoZWRQYXlsb2FkID0gYXdhaXQgZ2V0UGF5bG9hZEhhc2goeyBoZWFkZXJzOiB7fSwgYm9keTogcGF5bG9hZCB9IGFzIGFueSwgdGhpcy5zaGEyNTYpO1xuICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoKTtcbiAgICBoYXNoLnVwZGF0ZShoZWFkZXJzKTtcbiAgICBjb25zdCBoYXNoZWRIZWFkZXJzID0gdG9IZXgoYXdhaXQgaGFzaC5kaWdlc3QoKSk7XG4gICAgY29uc3Qgc3RyaW5nVG9TaWduID0gW1xuICAgICAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gICAgICBsb25nRGF0ZSxcbiAgICAgIHNjb3BlLFxuICAgICAgcHJpb3JTaWduYXR1cmUsXG4gICAgICBoYXNoZWRIZWFkZXJzLFxuICAgICAgaGFzaGVkUGF5bG9hZCxcbiAgICBdLmpvaW4oXCJcXG5cIik7XG4gICAgcmV0dXJuIHRoaXMuc2lnblN0cmluZyhzdHJpbmdUb1NpZ24sIHsgc2lnbmluZ0RhdGUsIHNpZ25pbmdSZWdpb246IHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpZ25TdHJpbmcoXG4gICAgc3RyaW5nVG9TaWduOiBzdHJpbmcsXG4gICAgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH06IFNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgIGNvbnN0IHsgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcblxuICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoYXdhaXQgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpKTtcbiAgICBoYXNoLnVwZGF0ZShzdHJpbmdUb1NpZ24pO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2lnblJlcXVlc3QoXG4gICAgcmVxdWVzdFRvU2lnbjogSHR0cFJlcXVlc3QsXG4gICAge1xuICAgICAgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgc2lnbmFibGVIZWFkZXJzLFxuICAgICAgdW5zaWduYWJsZUhlYWRlcnMsXG4gICAgICBzaWduaW5nUmVnaW9uLFxuICAgICAgc2lnbmluZ1NlcnZpY2UsXG4gICAgfTogUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxQcm92aWRlcigpO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHByZXBhcmVSZXF1ZXN0KHJlcXVlc3RUb1NpZ24pO1xuICAgIGNvbnN0IHsgbG9uZ0RhdGUsIHNob3J0RGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcblxuICAgIHJlcXVlc3QuaGVhZGVyc1tBTVpfREFURV9IRUFERVJdID0gbG9uZ0RhdGU7XG4gICAgaWYgKGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbikge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW1RPS0VOX0hFQURFUl0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZEhhc2ggPSBhd2FpdCBnZXRQYXlsb2FkSGFzaChyZXF1ZXN0LCB0aGlzLnNoYTI1Nik7XG4gICAgaWYgKCFoYXNIZWFkZXIoU0hBMjU2X0hFQURFUiwgcmVxdWVzdC5oZWFkZXJzKSAmJiB0aGlzLmFwcGx5Q2hlY2tzdW0pIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVyc1tTSEEyNTZfSEVBREVSXSA9IHBheWxvYWRIYXNoO1xuICAgIH1cblxuICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlcnMgPSBnZXRDYW5vbmljYWxIZWFkZXJzKHJlcXVlc3QsIHVuc2lnbmFibGVIZWFkZXJzLCBzaWduYWJsZUhlYWRlcnMpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuZ2V0U2lnbmF0dXJlKFxuICAgICAgbG9uZ0RhdGUsXG4gICAgICBzY29wZSxcbiAgICAgIHRoaXMuZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNpZ25pbmdTZXJ2aWNlKSxcbiAgICAgIHRoaXMuY3JlYXRlQ2Fub25pY2FsUmVxdWVzdChyZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzLCBwYXlsb2FkSGFzaClcbiAgICApO1xuXG4gICAgcmVxdWVzdC5oZWFkZXJzW0FVVEhfSEVBREVSXSA9XG4gICAgICBgJHtBTEdPUklUSE1fSURFTlRJRklFUn0gYCArXG4gICAgICBgQ3JlZGVudGlhbD0ke2NyZWRlbnRpYWxzLmFjY2Vzc0tleUlkfS8ke3Njb3BlfSwgYCArXG4gICAgICBgU2lnbmVkSGVhZGVycz0ke2dldENhbm9uaWNhbEhlYWRlckxpc3QoY2Fub25pY2FsSGVhZGVycyl9LCBgICtcbiAgICAgIGBTaWduYXR1cmU9JHtzaWduYXR1cmV9YDtcblxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzOiBIZWFkZXJCYWcsIHBheWxvYWRIYXNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNvcnRlZEhlYWRlcnMgPSBPYmplY3Qua2V5cyhjYW5vbmljYWxIZWFkZXJzKS5zb3J0KCk7XG4gICAgcmV0dXJuIGAke3JlcXVlc3QubWV0aG9kfVxuJHt0aGlzLmdldENhbm9uaWNhbFBhdGgocmVxdWVzdCl9XG4ke2dldENhbm9uaWNhbFF1ZXJ5KHJlcXVlc3QpfVxuJHtzb3J0ZWRIZWFkZXJzLm1hcCgobmFtZSkgPT4gYCR7bmFtZX06JHtjYW5vbmljYWxIZWFkZXJzW25hbWVdfWApLmpvaW4oXCJcXG5cIil9XG5cbiR7c29ydGVkSGVhZGVycy5qb2luKFwiO1wiKX1cbiR7cGF5bG9hZEhhc2h9YDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlU3RyaW5nVG9TaWduKFxuICAgIGxvbmdEYXRlOiBzdHJpbmcsXG4gICAgY3JlZGVudGlhbFNjb3BlOiBzdHJpbmcsXG4gICAgY2Fub25pY2FsUmVxdWVzdDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1NigpO1xuICAgIGhhc2gudXBkYXRlKGNhbm9uaWNhbFJlcXVlc3QpO1xuICAgIGNvbnN0IGhhc2hlZFJlcXVlc3QgPSBhd2FpdCBoYXNoLmRpZ2VzdCgpO1xuXG4gICAgcmV0dXJuIGAke0FMR09SSVRITV9JREVOVElGSUVSfVxuJHtsb25nRGF0ZX1cbiR7Y3JlZGVudGlhbFNjb3BlfVxuJHt0b0hleChoYXNoZWRSZXF1ZXN0KX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYW5vbmljYWxQYXRoKHsgcGF0aCB9OiBIdHRwUmVxdWVzdCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMudXJpRXNjYXBlUGF0aCkge1xuICAgICAgY29uc3QgZG91YmxlRW5jb2RlZCA9IGVuY29kZVVSSUNvbXBvbmVudChwYXRoLnJlcGxhY2UoL15cXC8vLCBcIlwiKSk7XG4gICAgICByZXR1cm4gYC8ke2RvdWJsZUVuY29kZWQucmVwbGFjZSgvJTJGL2csIFwiL1wiKX1gO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRTaWduYXR1cmUoXG4gICAgbG9uZ0RhdGU6IHN0cmluZyxcbiAgICBjcmVkZW50aWFsU2NvcGU6IHN0cmluZyxcbiAgICBrZXlQcm9taXNlOiBQcm9taXNlPFVpbnQ4QXJyYXk+LFxuICAgIGNhbm9uaWNhbFJlcXVlc3Q6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHN0cmluZ1RvU2lnbiA9IGF3YWl0IHRoaXMuY3JlYXRlU3RyaW5nVG9TaWduKGxvbmdEYXRlLCBjcmVkZW50aWFsU2NvcGUsIGNhbm9uaWNhbFJlcXVlc3QpO1xuXG4gICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1Nihhd2FpdCBrZXlQcm9taXNlKTtcbiAgICBoYXNoLnVwZGF0ZShzdHJpbmdUb1NpZ24pO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2lnbmluZ0tleShcbiAgICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHMsXG4gICAgcmVnaW9uOiBzdHJpbmcsXG4gICAgc2hvcnREYXRlOiBzdHJpbmcsXG4gICAgc2VydmljZT86IHN0cmluZ1xuICApOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICByZXR1cm4gZ2V0U2lnbmluZ0tleSh0aGlzLnNoYTI1NiwgY3JlZGVudGlhbHMsIHNob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlIHx8IHRoaXMuc2VydmljZSk7XG4gIH1cbn1cblxuY29uc3QgZm9ybWF0RGF0ZSA9IChub3c6IERhdGVJbnB1dCk6IHsgbG9uZ0RhdGU6IHN0cmluZzsgc2hvcnREYXRlOiBzdHJpbmcgfSA9PiB7XG4gIGNvbnN0IGxvbmdEYXRlID0gaXNvODYwMShub3cpLnJlcGxhY2UoL1tcXC06XS9nLCBcIlwiKTtcbiAgcmV0dXJuIHtcbiAgICBsb25nRGF0ZSxcbiAgICBzaG9ydERhdGU6IGxvbmdEYXRlLnN1YnN0cigwLCA4KSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldENhbm9uaWNhbEhlYWRlckxpc3QgPSAoaGVhZGVyczogb2JqZWN0KTogc3RyaW5nID0+IE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKS5qb2luKFwiO1wiKTtcblxuY29uc3Qgbm9ybWFsaXplUmVnaW9uUHJvdmlkZXIgPSAocmVnaW9uOiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+KTogUHJvdmlkZXI8c3RyaW5nPiA9PiB7XG4gIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUocmVnaW9uKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZ2lvbjtcbiAgfVxufTtcblxuY29uc3Qgbm9ybWFsaXplQ3JlZGVudGlhbHNQcm92aWRlciA9IChjcmVkZW50aWFsczogQ3JlZGVudGlhbHMgfCBQcm92aWRlcjxDcmVkZW50aWFscz4pOiBQcm92aWRlcjxDcmVkZW50aWFscz4gPT4ge1xuICBpZiAodHlwZW9mIGNyZWRlbnRpYWxzID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUoY3JlZGVudGlhbHMpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlZGVudGlhbHM7XG4gIH1cbn07XG4iXX0=","import { __assign, __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\n/**\n * @internal\n */\nexport function moveHeadersToQuery(request, options) {\n    var e_1, _a;\n    var _b;\n    if (options === void 0) { options = {}; }\n    var _c = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request), headers = _c.headers, _d = _c.query, query = _d === void 0 ? {} : _d;\n    try {\n        for (var _e = __values(Object.keys(headers)), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var name = _f.value;\n            var lname = name.toLowerCase();\n            if (lname.substr(0, 6) === \"x-amz-\" && !((_b = options.unhoistableHeaders) === null || _b === void 0 ? void 0 : _b.has(lname))) {\n                query[name] = headers[name];\n                delete headers[name];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return __assign(__assign({}, request), { headers: headers,\n        query: query });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZUhlYWRlcnNUb1F1ZXJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vdmVIZWFkZXJzVG9RdWVyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGtCQUFrQixDQUNoQyxPQUFvQixFQUNwQixPQUFrRDs7O0lBQWxELHdCQUFBLEVBQUEsWUFBa0Q7SUFFNUMsSUFBQSxLQUNKLE9BQVEsT0FBZSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFFLE9BQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUR6RixPQUFPLGFBQUEsRUFBRSxhQUErQixFQUEvQixLQUFLLG1CQUFHLEVBQXVCLEtBQ2lELENBQUM7O1FBQ2xHLEtBQW1CLElBQUEsS0FBQSxTQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUEsZ0JBQUEsNEJBQUU7WUFBcEMsSUFBTSxJQUFJLFdBQUE7WUFDYixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksQ0FBQyxDQUFBLE1BQUEsT0FBTyxDQUFDLGtCQUFrQiwwQ0FBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUEsRUFBRTtnQkFDOUUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDNUIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7U0FDRjs7Ozs7Ozs7O0lBRUQsNkJBQ0ssT0FBTyxLQUNWLE9BQU8sU0FBQTtRQUNQLEtBQUssT0FBQSxJQUNMO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBRdWVyeVBhcmFtZXRlckJhZyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVIZWFkZXJzVG9RdWVyeShcbiAgcmVxdWVzdDogSHR0cFJlcXVlc3QsXG4gIG9wdGlvbnM6IHsgdW5ob2lzdGFibGVIZWFkZXJzPzogU2V0PHN0cmluZz4gfSA9IHt9XG4pOiBIdHRwUmVxdWVzdCAmIHsgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnIH0ge1xuICBjb25zdCB7IGhlYWRlcnMsIHF1ZXJ5ID0ge30gYXMgUXVlcnlQYXJhbWV0ZXJCYWcgfSA9XG4gICAgdHlwZW9mIChyZXF1ZXN0IGFzIGFueSkuY2xvbmUgPT09IFwiZnVuY3Rpb25cIiA/IChyZXF1ZXN0IGFzIGFueSkuY2xvbmUoKSA6IGNsb25lUmVxdWVzdChyZXF1ZXN0KTtcbiAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgY29uc3QgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxuYW1lLnN1YnN0cigwLCA2KSA9PT0gXCJ4LWFtei1cIiAmJiAhb3B0aW9ucy51bmhvaXN0YWJsZUhlYWRlcnM/LmhhcyhsbmFtZSkpIHtcbiAgICAgIHF1ZXJ5W25hbWVdID0gaGVhZGVyc1tuYW1lXTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucmVxdWVzdCxcbiAgICBoZWFkZXJzLFxuICAgIHF1ZXJ5LFxuICB9O1xufVxuIl19","import { __values } from \"tslib\";\nexport function hasHeader(soughtHeader, headers) {\n    var e_1, _a;\n    soughtHeader = soughtHeader.toLowerCase();\n    try {\n        for (var _b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (soughtHeader === headerName.toLowerCase()) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzSGVhZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hhc0hlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsTUFBTSxVQUFVLFNBQVMsQ0FBQyxZQUFvQixFQUFFLE9BQWtCOztJQUNoRSxZQUFZLEdBQUcsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDOztRQUMxQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLGdCQUFBLDRCQUFFO1lBQTFDLElBQU0sVUFBVSxXQUFBO1lBQ25CLElBQUksWUFBWSxLQUFLLFVBQVUsQ0FBQyxXQUFXLEVBQUUsRUFBRTtnQkFDN0MsT0FBTyxJQUFJLENBQUM7YUFDYjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0hlYWRlcihzb3VnaHRIZWFkZXI6IHN0cmluZywgaGVhZGVyczogSGVhZGVyQmFnKTogYm9vbGVhbiB7XG4gIHNvdWdodEhlYWRlciA9IHNvdWdodEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbiJdfQ==","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nimport { SIGNATURE_HEADER } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalQuery(_a) {\n    var e_1, _b;\n    var _c = _a.query, query = _c === void 0 ? {} : _c;\n    var keys = [];\n    var serialized = {};\n    var _loop_1 = function (key) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            return \"continue\";\n        }\n        keys.push(key);\n        var value = query[key];\n        if (typeof value === \"string\") {\n            serialized[key] = escapeUri(key) + \"=\" + escapeUri(value);\n        }\n        else if (Array.isArray(value)) {\n            serialized[key] = value\n                .slice(0)\n                .sort()\n                .reduce(function (encoded, value) { return encoded.concat([escapeUri(key) + \"=\" + escapeUri(value)]); }, [])\n                .join(\"&\");\n        }\n    };\n    try {\n        for (var _d = __values(Object.keys(query).sort()), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var key = _e.value;\n            _loop_1(key);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return keys\n        .map(function (key) { return serialized[key]; })\n        .filter(function (serialized) { return serialized; }) // omit any falsy values\n        .join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2Fub25pY2FsUXVlcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0Q2Fub25pY2FsUXVlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFL0M7O0dBRUc7QUFDSCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsRUFBMkI7O1FBQXpCLGFBQVUsRUFBVixLQUFLLG1CQUFHLEVBQUUsS0FBQTtJQUM1QyxJQUFNLElBQUksR0FBa0IsRUFBRSxDQUFDO0lBQy9CLElBQU0sVUFBVSxHQUE4QixFQUFFLENBQUM7NEJBQ3RDLEdBQUc7UUFDWixJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsS0FBSyxnQkFBZ0IsRUFBRTs7U0FFM0M7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBTSxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBRyxDQUFDO1NBQzNEO2FBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQy9CLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLO2lCQUNwQixLQUFLLENBQUMsQ0FBQyxDQUFDO2lCQUNSLElBQUksRUFBRTtpQkFDTixNQUFNLENBQ0wsVUFBQyxPQUFzQixFQUFFLEtBQWEsSUFBSyxPQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBSSxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBRyxDQUFDLENBQUMsRUFBekQsQ0FBeUQsRUFDcEcsRUFBRSxDQUNIO2lCQUNBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNkOzs7UUFsQkgsS0FBa0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQTtZQUF0QyxJQUFNLEdBQUcsV0FBQTtvQkFBSCxHQUFHO1NBbUJiOzs7Ozs7Ozs7SUFFRCxPQUFPLElBQUk7U0FDUixHQUFHLENBQUMsVUFBQyxHQUFHLElBQUssT0FBQSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQWYsQ0FBZSxDQUFDO1NBQzdCLE1BQU0sQ0FBQyxVQUFDLFVBQVUsSUFBSyxPQUFBLFVBQVUsRUFBVixDQUFVLENBQUMsQ0FBQyx3QkFBd0I7U0FDM0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmltcG9ydCB7IFNJR05BVFVSRV9IRUFERVIgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhbm9uaWNhbFF1ZXJ5KHsgcXVlcnkgPSB7fSB9OiBIdHRwUmVxdWVzdCk6IHN0cmluZyB7XG4gIGNvbnN0IGtleXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgY29uc3Qgc2VyaWFsaXplZDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhxdWVyeSkuc29ydCgpKSB7XG4gICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBTSUdOQVRVUkVfSEVBREVSKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbHVlXG4gICAgICAgIC5zbGljZSgwKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgKGVuY29kZWQ6IEFycmF5PHN0cmluZz4sIHZhbHVlOiBzdHJpbmcpID0+IGVuY29kZWQuY29uY2F0KFtgJHtlc2NhcGVVcmkoa2V5KX09JHtlc2NhcGVVcmkodmFsdWUpfWBdKSxcbiAgICAgICAgICBbXVxuICAgICAgICApXG4gICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ga2V5c1xuICAgIC5tYXAoKGtleSkgPT4gc2VyaWFsaXplZFtrZXldKVxuICAgIC5maWx0ZXIoKHNlcmlhbGl6ZWQpID0+IHNlcmlhbGl6ZWQpIC8vIG9taXQgYW55IGZhbHN5IHZhbHVlc1xuICAgIC5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { memoize } from \"@aws-sdk/property-provider\";\nimport { SignatureV4 } from \"@aws-sdk/signature-v4\";\n// 5 minutes buffer time the refresh the credential before it really expires\nvar CREDENTIAL_EXPIRE_WINDOW = 300000;\nexport var resolveAwsAuthConfig = function (input) {\n    var normalizedCreds = input.credentials\n        ? normalizeCredentialProvider(input.credentials)\n        : input.credentialDefaultProvider(input);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        //if signer is supplied by user, normalize it to a function returning a promise for signer.\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        //construct a provider inferring signing from region.\n        signer = function () {\n            return normalizeProvider(input.region)()\n                .then(function (region) { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, input.regionInfoProvider(region)];\n                    case 1: return [2 /*return*/, [(_a.sent()) || {}, region]];\n                }\n            }); }); })\n                .then(function (_a) {\n                var _b = __read(_a, 2), regionInfo = _b[0], region = _b[1];\n                var signingRegion = regionInfo.signingRegion, signingService = regionInfo.signingService;\n                //update client's singing region and signing service config if they are resolved.\n                //signing region resolving order: user supplied signingRegion -> endpoints.json inferred region -> client region\n                input.signingRegion = input.signingRegion || signingRegion || region;\n                //signing name resolving order:\n                //user supplied signingName -> endpoints.json inferred (credential scope -> model arnNamespace) -> model service id\n                input.signingName = input.signingName || signingService || input.serviceId;\n                return new SignatureV4({\n                    credentials: normalizedCreds,\n                    region: input.signingRegion,\n                    service: input.signingName,\n                    sha256: sha256,\n                    uriEscapePath: signingEscapePath,\n                });\n            });\n        };\n    }\n    return __assign(__assign({}, input), { systemClockOffset: systemClockOffset,\n        signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n};\n// TODO: reduce code duplication\nexport var resolveSigV4AuthConfig = function (input) {\n    var normalizedCreds = input.credentials\n        ? normalizeCredentialProvider(input.credentials)\n        : input.credentialDefaultProvider(input);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        //if signer is supplied by user, normalize it to a function returning a promise for signer.\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        signer = normalizeProvider(new SignatureV4({\n            credentials: normalizedCreds,\n            region: input.region,\n            service: input.signingName,\n            sha256: sha256,\n            uriEscapePath: signingEscapePath,\n        }));\n    }\n    return __assign(__assign({}, input), { systemClockOffset: systemClockOffset,\n        signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n};\nvar normalizeProvider = function (input) {\n    if (typeof input === \"object\") {\n        var promisified_1 = Promise.resolve(input);\n        return function () { return promisified_1; };\n    }\n    return input;\n};\nvar normalizeCredentialProvider = function (credentials) {\n    if (typeof credentials === \"function\") {\n        return memoize(credentials, function (credentials) {\n            return credentials.expiration !== undefined &&\n                credentials.expiration.getTime() - Date.now() < CREDENTIAL_EXPIRE_WINDOW;\n        }, function (credentials) { return credentials.expiration !== undefined; });\n    }\n    return normalizeProvider(credentials);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFHcEQsNEVBQTRFO0FBQzVFLElBQU0sd0JBQXdCLEdBQUcsTUFBTSxDQUFDO0FBNkZ4QyxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxVQUNsQyxLQUFrRDtJQUVsRCxJQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsV0FBVztRQUN2QyxDQUFDLENBQUMsMkJBQTJCLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztRQUNoRCxDQUFDLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLEtBQVksQ0FBQyxDQUFDO0lBQzFDLElBQUEsS0FBdUYsS0FBSyxrQkFBcEUsRUFBeEIsaUJBQWlCLG1CQUFHLElBQUksS0FBQSxFQUFFLEtBQTZELEtBQUssa0JBQWxCLEVBQWhELGlCQUFpQixtQkFBRyxLQUFLLENBQUMsaUJBQWlCLElBQUksQ0FBQyxLQUFBLEVBQUUsTUFBTSxHQUFLLEtBQUssT0FBVixDQUFXO0lBQ3JHLElBQUksTUFBK0IsQ0FBQztJQUNwQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7UUFDaEIsMkZBQTJGO1FBQzNGLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDMUM7U0FBTTtRQUNMLHFEQUFxRDtRQUNyRCxNQUFNLEdBQUc7WUFDUCxPQUFBLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtpQkFDOUIsSUFBSSxDQUFDLFVBQU8sTUFBTTs7NEJBQU8scUJBQU0sS0FBSyxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxFQUFBOzRCQUF4QyxzQkFBQSxDQUFDLENBQUMsU0FBc0MsQ0FBQyxJQUFJLEVBQUUsRUFBRSxNQUFNLENBQXlCLEVBQUE7O3FCQUFBLENBQUM7aUJBQ3hHLElBQUksQ0FBQyxVQUFDLEVBQW9CO29CQUFwQixLQUFBLGFBQW9CLEVBQW5CLFVBQVUsUUFBQSxFQUFFLE1BQU0sUUFBQTtnQkFDaEIsSUFBQSxhQUFhLEdBQXFCLFVBQVUsY0FBL0IsRUFBRSxjQUFjLEdBQUssVUFBVSxlQUFmLENBQWdCO2dCQUNyRCxpRkFBaUY7Z0JBQ2pGLGdIQUFnSDtnQkFDaEgsS0FBSyxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUMsYUFBYSxJQUFJLGFBQWEsSUFBSSxNQUFNLENBQUM7Z0JBQ3JFLCtCQUErQjtnQkFDL0IsbUhBQW1IO2dCQUNuSCxLQUFLLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxXQUFXLElBQUksY0FBYyxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUM7Z0JBRTNFLE9BQU8sSUFBSSxXQUFXLENBQUM7b0JBQ3JCLFdBQVcsRUFBRSxlQUFlO29CQUM1QixNQUFNLEVBQUUsS0FBSyxDQUFDLGFBQWE7b0JBQzNCLE9BQU8sRUFBRSxLQUFLLENBQUMsV0FBVztvQkFDMUIsTUFBTSxRQUFBO29CQUNOLGFBQWEsRUFBRSxpQkFBaUI7aUJBQ2pDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQztRQWxCSixDQWtCSSxDQUFDO0tBQ1I7SUFFRCw2QkFDSyxLQUFLLEtBQ1IsaUJBQWlCLG1CQUFBO1FBQ2pCLGlCQUFpQixtQkFBQSxFQUNqQixXQUFXLEVBQUUsZUFBZSxFQUM1QixNQUFNLFFBQUEsSUFDTjtBQUNKLENBQUMsQ0FBQztBQUVGLGdDQUFnQztBQUNoQyxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxVQUNwQyxLQUF5RDtJQUV6RCxJQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsV0FBVztRQUN2QyxDQUFDLENBQUMsMkJBQTJCLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztRQUNoRCxDQUFDLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLEtBQVksQ0FBQyxDQUFDO0lBQzFDLElBQUEsS0FBdUYsS0FBSyxrQkFBcEUsRUFBeEIsaUJBQWlCLG1CQUFHLElBQUksS0FBQSxFQUFFLEtBQTZELEtBQUssa0JBQWxCLEVBQWhELGlCQUFpQixtQkFBRyxLQUFLLENBQUMsaUJBQWlCLElBQUksQ0FBQyxLQUFBLEVBQUUsTUFBTSxHQUFLLEtBQUssT0FBVixDQUFXO0lBQ3JHLElBQUksTUFBK0IsQ0FBQztJQUNwQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7UUFDaEIsMkZBQTJGO1FBQzNGLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDMUM7U0FBTTtRQUNMLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLFdBQVcsQ0FBQztZQUN6QyxXQUFXLEVBQUUsZUFBZTtZQUM1QixNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07WUFDcEIsT0FBTyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzFCLE1BQU0sUUFBQTtZQUNOLGFBQWEsRUFBRSxpQkFBaUI7U0FDakMsQ0FBQyxDQUFDLENBQUM7S0FDTDtJQUVELDZCQUNLLEtBQUssS0FDUixpQkFBaUIsbUJBQUE7UUFDakIsaUJBQWlCLG1CQUFBLEVBQ2pCLFdBQVcsRUFBRSxlQUFlLEVBQzVCLE1BQU0sUUFBQSxJQUNOO0FBQ0osQ0FBQyxDQUFDO0FBRUYsSUFBTSxpQkFBaUIsR0FBRyxVQUFJLEtBQXNCO0lBQ2xELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1FBQzdCLElBQU0sYUFBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsT0FBTyxjQUFNLE9BQUEsYUFBVyxFQUFYLENBQVcsQ0FBQztLQUMxQjtJQUNELE9BQU8sS0FBb0IsQ0FBQztBQUM5QixDQUFDLENBQUM7QUFFRixJQUFNLDJCQUEyQixHQUFHLFVBQUMsV0FBZ0Q7SUFDbkYsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7UUFDckMsT0FBTyxPQUFPLENBQ1osV0FBVyxFQUNYLFVBQUMsV0FBVztZQUNWLE9BQUEsV0FBVyxDQUFDLFVBQVUsS0FBSyxTQUFTO2dCQUNwQyxXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyx3QkFBd0I7UUFEeEUsQ0FDd0UsRUFDMUUsVUFBQyxXQUFXLElBQUssT0FBQSxXQUFXLENBQUMsVUFBVSxLQUFLLFNBQVMsRUFBcEMsQ0FBb0MsQ0FDdEQsQ0FBQztLQUNIO0lBQ0QsT0FBTyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN4QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBTaWduYXR1cmVWNCB9IGZyb20gXCJAYXdzLXNkay9zaWduYXR1cmUtdjRcIjtcbmltcG9ydCB7IENyZWRlbnRpYWxzLCBIYXNoQ29uc3RydWN0b3IsIFByb3ZpZGVyLCBSZWdpb25JbmZvLCBSZWdpb25JbmZvUHJvdmlkZXIsIFJlcXVlc3RTaWduZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuLy8gNSBtaW51dGVzIGJ1ZmZlciB0aW1lIHRoZSByZWZyZXNoIHRoZSBjcmVkZW50aWFsIGJlZm9yZSBpdCByZWFsbHkgZXhwaXJlc1xuY29uc3QgQ1JFREVOVElBTF9FWFBJUkVfV0lORE9XID0gMzAwMDAwO1xuXG4vLyBBd3NBdXRoIHYvcyBTaWdWNEF1dGhcbi8vIEF3c0F1dGg6IHNwZWNpZmljIHRvIFNpZ1Y0IGF1dGggZm9yIEFXUyBzZXJ2aWNlc1xuLy8gU2lnVjRBdXRoOiBTaWdWNCBhdXRoIGZvciBub24tQVdTIHNlcnZpY2VzXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXdzQXV0aElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB1c2VkIHRvIHNpZ24gcmVxdWVzdHMuXG4gICAqL1xuICBjcmVkZW50aWFscz86IENyZWRlbnRpYWxzIHwgUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2lnbmVyIHRvIHVzZSB3aGVuIHNpZ25pbmcgcmVxdWVzdHMuXG4gICAqL1xuICBzaWduZXI/OiBSZXF1ZXN0U2lnbmVyIHwgUHJvdmlkZXI8UmVxdWVzdFNpZ25lcj47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZXNjYXBlIHJlcXVlc3QgcGF0aCB3aGVuIHNpZ25pbmcgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBzaWduaW5nRXNjYXBlUGF0aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFuIG9mZnNldCB2YWx1ZSBpbiBtaWxsaXNlY29uZHMgdG8gYXBwbHkgdG8gYWxsIHNpZ25pbmcgdGltZXMuXG4gICAqL1xuICBzeXN0ZW1DbG9ja09mZnNldD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHJlZ2lvbiB3aGVyZSB5b3Ugd2FudCB0byBzaWduIHlvdXIgcmVxdWVzdCBhZ2FpbnN0LiBUaGlzXG4gICAqIGNhbiBiZSBkaWZmZXJlbnQgdG8gdGhlIHJlZ2lvbiBpbiB0aGUgZW5kcG9pbnQuXG4gICAqL1xuICBzaWduaW5nUmVnaW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ1Y0QXV0aElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB1c2VkIHRvIHNpZ24gcmVxdWVzdHMuXG4gICAqL1xuICBjcmVkZW50aWFscz86IENyZWRlbnRpYWxzIHwgUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2lnbmVyIHRvIHVzZSB3aGVuIHNpZ25pbmcgcmVxdWVzdHMuXG4gICAqL1xuICBzaWduZXI/OiBSZXF1ZXN0U2lnbmVyIHwgUHJvdmlkZXI8UmVxdWVzdFNpZ25lcj47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZXNjYXBlIHJlcXVlc3QgcGF0aCB3aGVuIHNpZ25pbmcgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBzaWduaW5nRXNjYXBlUGF0aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFuIG9mZnNldCB2YWx1ZSBpbiBtaWxsaXNlY29uZHMgdG8gYXBwbHkgdG8gYWxsIHNpZ25pbmcgdGltZXMuXG4gICAqL1xuICBzeXN0ZW1DbG9ja09mZnNldD86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IChpbnB1dDogYW55KSA9PiBQcm92aWRlcjxDcmVkZW50aWFscz47XG4gIHJlZ2lvbjogc3RyaW5nIHwgUHJvdmlkZXI8c3RyaW5nPjtcbiAgcmVnaW9uSW5mb1Byb3ZpZGVyOiBSZWdpb25JbmZvUHJvdmlkZXI7XG4gIHNpZ25pbmdOYW1lPzogc3RyaW5nO1xuICBzZXJ2aWNlSWQ6IHN0cmluZztcbiAgc2hhMjU2OiBIYXNoQ29uc3RydWN0b3I7XG59XG5cbmludGVyZmFjZSBTaWdWNFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IChpbnB1dDogYW55KSA9PiBQcm92aWRlcjxDcmVkZW50aWFscz47XG4gIHJlZ2lvbjogc3RyaW5nIHwgUHJvdmlkZXI8c3RyaW5nPjtcbiAgc2lnbmluZ05hbWU6IHN0cmluZztcbiAgc2hhMjU2OiBIYXNoQ29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXdzQXV0aFJlc29sdmVkQ29uZmlnIHtcbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCBjb25maWcge0BsaW5rIEF3c0F1dGhJbnB1dENvbmZpZy5jcmVkZW50aWFsc31cbiAgICovXG4gIGNyZWRlbnRpYWxzOiBQcm92aWRlcjxDcmVkZW50aWFscz47XG4gIC8qKlxuICAgKiBSZXNvbHZlZCB2YWx1ZSBmb3IgaW5wdXQgY29uZmlnIHtAbGluayBBd3NBdXRoSW5wdXRDb25maWcuc2lnbmVyfVxuICAgKi9cbiAgc2lnbmVyOiBQcm92aWRlcjxSZXF1ZXN0U2lnbmVyPjtcbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCBjb25maWcge0BsaW5rIEF3c0F1dGhJbnB1dENvbmZpZy5zaWduaW5nRXNjYXBlUGF0aH1cbiAgICovXG4gIHNpZ25pbmdFc2NhcGVQYXRoOiBib29sZWFuO1xuICAvKipcbiAgICogUmVzb2x2ZWQgdmFsdWUgZm9yIGlucHV0IGNvbmZpZyB7QGxpbmsgQXdzQXV0aElucHV0Q29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0fVxuICAgKi9cbiAgc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWdWNEF1dGhSZXNvbHZlZENvbmZpZyBleHRlbmRzIEF3c0F1dGhSZXNvbHZlZENvbmZpZyB7fVxuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUF3c0F1dGhDb25maWcgPSA8VD4oXG4gIGlucHV0OiBUICYgQXdzQXV0aElucHV0Q29uZmlnICYgUHJldmlvdXNseVJlc29sdmVkXG4pOiBUICYgQXdzQXV0aFJlc29sdmVkQ29uZmlnID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICA/IG5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlcihpbnB1dC5jcmVkZW50aWFscylcbiAgICA6IGlucHV0LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoaW5wdXQgYXMgYW55KTtcbiAgY29uc3QgeyBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsIHN5c3RlbUNsb2NrT2Zmc2V0ID0gaW5wdXQuc3lzdGVtQ2xvY2tPZmZzZXQgfHwgMCwgc2hhMjU2IH0gPSBpbnB1dDtcbiAgbGV0IHNpZ25lcjogUHJvdmlkZXI8UmVxdWVzdFNpZ25lcj47XG4gIGlmIChpbnB1dC5zaWduZXIpIHtcbiAgICAvL2lmIHNpZ25lciBpcyBzdXBwbGllZCBieSB1c2VyLCBub3JtYWxpemUgaXQgdG8gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9taXNlIGZvciBzaWduZXIuXG4gICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQuc2lnbmVyKTtcbiAgfSBlbHNlIHtcbiAgICAvL2NvbnN0cnVjdCBhIHByb3ZpZGVyIGluZmVycmluZyBzaWduaW5nIGZyb20gcmVnaW9uLlxuICAgIHNpZ25lciA9ICgpID0+XG4gICAgICBub3JtYWxpemVQcm92aWRlcihpbnB1dC5yZWdpb24pKClcbiAgICAgICAgLnRoZW4oYXN5bmMgKHJlZ2lvbikgPT4gWyhhd2FpdCBpbnB1dC5yZWdpb25JbmZvUHJvdmlkZXIocmVnaW9uKSkgfHwge30sIHJlZ2lvbl0gYXMgW1JlZ2lvbkluZm8sIHN0cmluZ10pXG4gICAgICAgIC50aGVuKChbcmVnaW9uSW5mbywgcmVnaW9uXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSA9IHJlZ2lvbkluZm87XG4gICAgICAgICAgLy91cGRhdGUgY2xpZW50J3Mgc2luZ2luZyByZWdpb24gYW5kIHNpZ25pbmcgc2VydmljZSBjb25maWcgaWYgdGhleSBhcmUgcmVzb2x2ZWQuXG4gICAgICAgICAgLy9zaWduaW5nIHJlZ2lvbiByZXNvbHZpbmcgb3JkZXI6IHVzZXIgc3VwcGxpZWQgc2lnbmluZ1JlZ2lvbiAtPiBlbmRwb2ludHMuanNvbiBpbmZlcnJlZCByZWdpb24gLT4gY2xpZW50IHJlZ2lvblxuICAgICAgICAgIGlucHV0LnNpZ25pbmdSZWdpb24gPSBpbnB1dC5zaWduaW5nUmVnaW9uIHx8IHNpZ25pbmdSZWdpb24gfHwgcmVnaW9uO1xuICAgICAgICAgIC8vc2lnbmluZyBuYW1lIHJlc29sdmluZyBvcmRlcjpcbiAgICAgICAgICAvL3VzZXIgc3VwcGxpZWQgc2lnbmluZ05hbWUgLT4gZW5kcG9pbnRzLmpzb24gaW5mZXJyZWQgKGNyZWRlbnRpYWwgc2NvcGUgLT4gbW9kZWwgYXJuTmFtZXNwYWNlKSAtPiBtb2RlbCBzZXJ2aWNlIGlkXG4gICAgICAgICAgaW5wdXQuc2lnbmluZ05hbWUgPSBpbnB1dC5zaWduaW5nTmFtZSB8fCBzaWduaW5nU2VydmljZSB8fCBpbnB1dC5zZXJ2aWNlSWQ7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFNpZ25hdHVyZVY0KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgICAgICByZWdpb246IGlucHV0LnNpZ25pbmdSZWdpb24sXG4gICAgICAgICAgICBzZXJ2aWNlOiBpbnB1dC5zaWduaW5nTmFtZSxcbiAgICAgICAgICAgIHNoYTI1NixcbiAgICAgICAgICAgIHVyaUVzY2FwZVBhdGg6IHNpZ25pbmdFc2NhcGVQYXRoLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgc3lzdGVtQ2xvY2tPZmZzZXQsXG4gICAgc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICBzaWduZXIsXG4gIH07XG59O1xuXG4vLyBUT0RPOiByZWR1Y2UgY29kZSBkdXBsaWNhdGlvblxuZXhwb3J0IGNvbnN0IHJlc29sdmVTaWdWNEF1dGhDb25maWcgPSA8VD4oXG4gIGlucHV0OiBUICYgU2lnVjRBdXRoSW5wdXRDb25maWcgJiBTaWdWNFByZXZpb3VzbHlSZXNvbHZlZFxuKTogVCAmIFNpZ1Y0QXV0aFJlc29sdmVkQ29uZmlnID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICA/IG5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlcihpbnB1dC5jcmVkZW50aWFscylcbiAgICA6IGlucHV0LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoaW5wdXQgYXMgYW55KTtcbiAgY29uc3QgeyBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsIHN5c3RlbUNsb2NrT2Zmc2V0ID0gaW5wdXQuc3lzdGVtQ2xvY2tPZmZzZXQgfHwgMCwgc2hhMjU2IH0gPSBpbnB1dDtcbiAgbGV0IHNpZ25lcjogUHJvdmlkZXI8UmVxdWVzdFNpZ25lcj47XG4gIGlmIChpbnB1dC5zaWduZXIpIHtcbiAgICAvL2lmIHNpZ25lciBpcyBzdXBwbGllZCBieSB1c2VyLCBub3JtYWxpemUgaXQgdG8gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9taXNlIGZvciBzaWduZXIuXG4gICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQuc2lnbmVyKTtcbiAgfSBlbHNlIHtcbiAgICBzaWduZXIgPSBub3JtYWxpemVQcm92aWRlcihuZXcgU2lnbmF0dXJlVjQoe1xuICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgIHJlZ2lvbjogaW5wdXQucmVnaW9uLFxuICAgICAgc2VydmljZTogaW5wdXQuc2lnbmluZ05hbWUsXG4gICAgICBzaGEyNTYsXG4gICAgICB1cmlFc2NhcGVQYXRoOiBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC4uLmlucHV0LFxuICAgIHN5c3RlbUNsb2NrT2Zmc2V0LFxuICAgIHNpZ25pbmdFc2NhcGVQYXRoLFxuICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgc2lnbmVyLFxuICB9O1xufTtcblxuY29uc3Qgbm9ybWFsaXplUHJvdmlkZXIgPSA8VD4oaW5wdXQ6IFQgfCBQcm92aWRlcjxUPik6IFByb3ZpZGVyPFQ+ID0+IHtcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKGlucHV0KTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIGlucHV0IGFzIFByb3ZpZGVyPFQ+O1xufTtcblxuY29uc3Qgbm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyID0gKGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscyB8IFByb3ZpZGVyPENyZWRlbnRpYWxzPik6IFByb3ZpZGVyPENyZWRlbnRpYWxzPiA9PiB7XG4gIGlmICh0eXBlb2YgY3JlZGVudGlhbHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBtZW1vaXplKFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICAoY3JlZGVudGlhbHMpID0+XG4gICAgICAgIGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBjcmVkZW50aWFscy5leHBpcmF0aW9uLmdldFRpbWUoKSAtIERhdGUubm93KCkgPCBDUkVERU5USUFMX0VYUElSRV9XSU5ET1csXG4gICAgICAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZVByb3ZpZGVyKGNyZWRlbnRpYWxzKTtcbn07XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nexport var memoize = function (provider, isExpired, requiresRefresh) {\n    var result;\n    var hasResult;\n    if (isExpired === undefined) {\n        // This is a static memoization; no need to incorporate refreshing\n        return function () {\n            if (!hasResult) {\n                result = provider();\n                hasResult = true;\n            }\n            return result;\n        };\n    }\n    var isConstant = false;\n    return function () { return __awaiter(void 0, void 0, void 0, function () {\n        var resolved;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!hasResult) {\n                        result = provider();\n                        hasResult = true;\n                    }\n                    if (isConstant) {\n                        return [2 /*return*/, result];\n                    }\n                    return [4 /*yield*/, result];\n                case 1:\n                    resolved = _a.sent();\n                    if (requiresRefresh && !requiresRefresh(resolved)) {\n                        isConstant = true;\n                        return [2 /*return*/, resolved];\n                    }\n                    if (isExpired(resolved)) {\n                        return [2 /*return*/, (result = provider())];\n                    }\n                    return [2 /*return*/, resolved];\n            }\n        });\n    }); };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVtb2l6ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tZW1vaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUEwQ0EsTUFBTSxDQUFDLElBQU0sT0FBTyxHQUFvQixVQUN0QyxRQUFxQixFQUNyQixTQUFvQyxFQUNwQyxlQUEwQztJQUUxQyxJQUFJLE1BQVcsQ0FBQztJQUNoQixJQUFJLFNBQWtCLENBQUM7SUFDdkIsSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO1FBQzNCLGtFQUFrRTtRQUNsRSxPQUFPO1lBQ0wsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDZCxNQUFNLEdBQUcsUUFBUSxFQUFFLENBQUM7Z0JBQ3BCLFNBQVMsR0FBRyxJQUFJLENBQUM7YUFDbEI7WUFDRCxPQUFPLE1BQU0sQ0FBQztRQUNoQixDQUFDLENBQUM7S0FDSDtJQUVELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztJQUV2QixPQUFPOzs7OztvQkFDTCxJQUFJLENBQUMsU0FBUyxFQUFFO3dCQUNkLE1BQU0sR0FBRyxRQUFRLEVBQUUsQ0FBQzt3QkFDcEIsU0FBUyxHQUFHLElBQUksQ0FBQztxQkFDbEI7b0JBQ0QsSUFBSSxVQUFVLEVBQUU7d0JBQ2Qsc0JBQU8sTUFBTSxFQUFDO3FCQUNmO29CQUVnQixxQkFBTSxNQUFNLEVBQUE7O29CQUF2QixRQUFRLEdBQUcsU0FBWTtvQkFDN0IsSUFBSSxlQUFlLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLEVBQUU7d0JBQ2pELFVBQVUsR0FBRyxJQUFJLENBQUM7d0JBQ2xCLHNCQUFPLFFBQVEsRUFBQztxQkFDakI7b0JBQ0QsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUU7d0JBQ3ZCLHNCQUFPLENBQUMsTUFBTSxHQUFHLFFBQVEsRUFBRSxDQUFDLEVBQUM7cUJBQzlCO29CQUNELHNCQUFPLFFBQVEsRUFBQzs7O1NBQ2pCLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbnRlcmZhY2UgTWVtb2l6ZU92ZXJsb2FkIHtcbiAgLyoqXG4gICAqXG4gICAqIERlY29yYXRlcyBhIHByb3ZpZGVyIGZ1bmN0aW9uIHdpdGggZWl0aGVyIHN0YXRpYyBtZW1vaXphdGlvbi5cbiAgICpcbiAgICogVG8gY3JlYXRlIGEgc3RhdGljYWxseSBtZW1vaXplZCBwcm92aWRlciwgc3VwcGx5IGEgcHJvdmlkZXIgYXMgdGhlIG9ubHlcbiAgICogYXJndW1lbnQgdG8gdGhpcyBmdW5jdGlvbi4gVGhlIHByb3ZpZGVyIHdpbGwgYmUgaW52b2tlZCBvbmNlLCBhbmQgYWxsXG4gICAqIGludm9jYXRpb25zIG9mIHRoZSBwcm92aWRlciByZXR1cm5lZCBieSBgbWVtb2l6ZWAgd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAgICogcHJvbWlzZSBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSBwcm92aWRlciBUaGUgcHJvdmlkZXIgd2hvc2UgcmVzdWx0IHNob3VsZCBiZSBjYWNoZWQgaW5kZWZpbml0ZWx5LlxuICAgKi9cbiAgPFQ+KHByb3ZpZGVyOiBQcm92aWRlcjxUPik6IFByb3ZpZGVyPFQ+O1xuXG4gIC8qKlxuICAgKiBEZWNvcmF0ZXMgYSBwcm92aWRlciBmdW5jdGlvbiB3aXRoIHJlZnJlc2hpbmcgbWVtb2l6YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwcm92aWRlciAgICAgICAgICBUaGUgcHJvdmlkZXIgd2hvc2UgcmVzdWx0IHNob3VsZCBiZSBjYWNoZWQuXG4gICAqIEBwYXJhbSBpc0V4cGlyZWQgICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBldmFsdWF0ZSB0aGUgcmVzb2x2ZWQgdmFsdWUgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmUgaWYgaXQgaXMgZXhwaXJlZC4gRm9yIGV4YW1wbGUsIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG1lbW9pemluZyBBV1MgY3JlZGVudGlhbCBwcm92aWRlcnMsIHRoaXMgZnVuY3Rpb25cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZCByZXR1cm4gYHRydWVgIHdoZW4gdGhlIGNyZWRlbnRpYWwnc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbiBpcyBpbiB0aGUgcGFzdCAob3IgdmVyeSBuZWFyIGZ1dHVyZSkgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHBhcmFtIHJlcXVpcmVzUmVmcmVzaCAgIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGV2YWx1YXRlIHRoZSByZXNvbHZlZCB2YWx1ZSBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGVybWluZSBpZiBpdCByZXByZXNlbnRzIHN0YXRpYyB2YWx1ZSBvciBvbmUgdGhhdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsbCBldmVudHVhbGx5IG5lZWQgdG8gYmUgcmVmcmVzaGVkLiBGb3IgZXhhbXBsZSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIEFXUyBjcmVkZW50aWFscyB0aGF0IGhhdmUgbm8gZGVmaW5lZCBleHBpcmF0aW9uIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG5ldmVyIG5lZWQgdG8gYmUgcmVmcmVzaGVkLCBzbyB0aGlzIGZ1bmN0aW9uIHdvdWxkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYHRydWVgIGlmIHRoZSBjcmVkZW50aWFscyByZXNvbHZlZCBieSB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybHlpbmcgcHJvdmlkZXIgaGFkIGFuIGV4cGlyYXRpb24gYW5kIGBmYWxzZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZS5cbiAgICovXG4gIDxUPihcbiAgICBwcm92aWRlcjogUHJvdmlkZXI8VD4sXG4gICAgaXNFeHBpcmVkOiAocmVzb2x2ZWQ6IFQpID0+IGJvb2xlYW4sXG4gICAgcmVxdWlyZXNSZWZyZXNoPzogKHJlc29sdmVkOiBUKSA9PiBib29sZWFuXG4gICk6IFByb3ZpZGVyPFQ+O1xufVxuXG5leHBvcnQgY29uc3QgbWVtb2l6ZTogTWVtb2l6ZU92ZXJsb2FkID0gPFQ+KFxuICBwcm92aWRlcjogUHJvdmlkZXI8VD4sXG4gIGlzRXhwaXJlZD86IChyZXNvbHZlZDogVCkgPT4gYm9vbGVhbixcbiAgcmVxdWlyZXNSZWZyZXNoPzogKHJlc29sdmVkOiBUKSA9PiBib29sZWFuXG4pOiBQcm92aWRlcjxUPiA9PiB7XG4gIGxldCByZXN1bHQ6IGFueTtcbiAgbGV0IGhhc1Jlc3VsdDogYm9vbGVhbjtcbiAgaWYgKGlzRXhwaXJlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gVGhpcyBpcyBhIHN0YXRpYyBtZW1vaXphdGlvbjsgbm8gbmVlZCB0byBpbmNvcnBvcmF0ZSByZWZyZXNoaW5nXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICghaGFzUmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdCA9IHByb3ZpZGVyKCk7XG4gICAgICAgIGhhc1Jlc3VsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cblxuICBsZXQgaXNDb25zdGFudCA9IGZhbHNlO1xuXG4gIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFoYXNSZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IHByb3ZpZGVyKCk7XG4gICAgICBoYXNSZXN1bHQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNDb25zdGFudCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHJlc3VsdDtcbiAgICBpZiAocmVxdWlyZXNSZWZyZXNoICYmICFyZXF1aXJlc1JlZnJlc2gocmVzb2x2ZWQpKSB7XG4gICAgICBpc0NvbnN0YW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICB9XG4gICAgaWYgKGlzRXhwaXJlZChyZXNvbHZlZCkpIHtcbiAgICAgIHJldHVybiAocmVzdWx0ID0gcHJvdmlkZXIoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZDtcbiAgfTtcbn07XG4iXX0=","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nvar isClockSkewed = function (newServerTime, systemClockOffset) {\n    return Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - newServerTime) >= 300000;\n};\nvar getSkewCorrectedDate = function (systemClockOffset) { return new Date(Date.now() + systemClockOffset); };\nexport function awsAuthMiddleware(options) {\n    return function (next, context) {\n        return function (args) {\n            return __awaiter(this, void 0, void 0, function () {\n                var signer, _a, output, _b, _c, headers, dateHeader, serverTime;\n                var _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            if (!HttpRequest.isInstance(args.request))\n                                return [2 /*return*/, next(args)];\n                            if (!(typeof options.signer === \"function\")) return [3 /*break*/, 2];\n                            return [4 /*yield*/, options.signer()];\n                        case 1:\n                            _a = _e.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _a = options.signer;\n                            _e.label = 3;\n                        case 3:\n                            signer = _a;\n                            _b = next;\n                            _c = [__assign({}, args)];\n                            _d = {};\n                            return [4 /*yield*/, signer.sign(args.request, {\n                                    signingDate: new Date(Date.now() + options.systemClockOffset),\n                                    signingRegion: context[\"signing_region\"],\n                                    signingService: context[\"signing_service\"],\n                                })];\n                        case 4: return [4 /*yield*/, _b.apply(void 0, [__assign.apply(void 0, _c.concat([(_d.request = _e.sent(), _d)]))])];\n                        case 5:\n                            output = _e.sent();\n                            headers = output.response.headers;\n                            dateHeader = headers && (headers.date || headers.Date);\n                            if (dateHeader) {\n                                serverTime = Date.parse(dateHeader);\n                                if (isClockSkewed(serverTime, options.systemClockOffset)) {\n                                    options.systemClockOffset = serverTime - Date.now();\n                                }\n                            }\n                            return [2 /*return*/, output];\n                    }\n                });\n            });\n        };\n    };\n}\nexport var awsAuthMiddlewareOptions = {\n    name: \"awsAuthMiddleware\",\n    tags: [\"SIGNATURE\", \"AWSAUTH\"],\n    relation: \"after\",\n    toMiddleware: \"retryMiddleware\",\n    override: true,\n};\nexport var getAwsAuthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.addRelativeTo(awsAuthMiddleware(options), awsAuthMiddlewareOptions);\n    },\n}); };\nexport var getSigV4AuthPlugin = getAwsAuthPlugin;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFhckQsSUFBTSxhQUFhLEdBQUcsVUFBQyxhQUFxQixFQUFFLGlCQUF5QjtJQUNyRSxPQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxhQUFhLENBQUMsSUFBSSxNQUFNO0FBQXJGLENBQXFGLENBQUM7QUFFeEYsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLGlCQUF5QixJQUFLLE9BQUEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQXhDLENBQXdDLENBQUM7QUFFckcsTUFBTSxVQUFVLGlCQUFpQixDQUMvQixPQUE4QjtJQUU5QixPQUFPLFVBQUMsSUFBb0MsRUFBRSxPQUFnQztRQUM1RSxPQUFBLFVBQWdCLElBQXFDOzs7Ozs7OzRCQUNuRCxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2dDQUFFLHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztpQ0FDOUMsQ0FBQSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEtBQUssVUFBVSxDQUFBLEVBQXBDLHdCQUFvQzs0QkFBRyxxQkFBTSxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUE7OzRCQUF0QixLQUFBLFNBQXNCLENBQUE7Ozs0QkFBRyxLQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUE7Ozs0QkFBdkYsTUFBTSxLQUFpRjs0QkFDeEUsS0FBQSxJQUFJLENBQUE7K0NBQ3BCLElBQUk7OzRCQUNFLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtvQ0FDdkMsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUM7b0NBQzdELGFBQWEsRUFBRSxPQUFPLENBQUMsZ0JBQWdCLENBQUM7b0NBQ3hDLGNBQWMsRUFBRSxPQUFPLENBQUMsaUJBQWlCLENBQUM7aUNBQzNDLENBQUMsRUFBQTtnQ0FOVyxxQkFBTSxxREFFbkIsVUFBTyxHQUFFLFNBSVAsVUFDRixFQUFBOzs0QkFQSSxNQUFNLEdBQUcsU0FPYjs0QkFFTSxPQUFPLEdBQUssTUFBTSxDQUFDLFFBQWUsUUFBM0IsQ0FBNEI7NEJBQ3JDLFVBQVUsR0FBRyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs0QkFDN0QsSUFBSSxVQUFVLEVBQUU7Z0NBQ1IsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7Z0NBQzFDLElBQUksYUFBYSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBRTtvQ0FDeEQsT0FBTyxDQUFDLGlCQUFpQixHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7aUNBQ3JEOzZCQUNGOzRCQUVELHNCQUFPLE1BQU0sRUFBQzs7OztTQUNmO0lBdEJELENBc0JDLENBQUM7QUFDTixDQUFDO0FBRUQsTUFBTSxDQUFDLElBQU0sd0JBQXdCLEdBQThCO0lBQ2pFLElBQUksRUFBRSxtQkFBbUI7SUFDekIsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztJQUM5QixRQUFRLEVBQUUsT0FBTztJQUNqQixZQUFZLEVBQUUsaUJBQWlCO0lBQy9CLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLFVBQUMsT0FBOEIsSUFBMEIsT0FBQSxDQUFDO0lBQ3hGLFlBQVksRUFBRSxVQUFDLFdBQVc7UUFDeEIsV0FBVyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7Q0FDRixDQUFDLEVBSnVGLENBSXZGLENBQUM7QUFFSCxNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxnQkFBZ0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7XG4gIEZpbmFsaXplSGFuZGxlcixcbiAgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLFxuICBGaW5hbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIEZpbmFsaXplUmVxdWVzdE1pZGRsZXdhcmUsXG4gIEhhbmRsZXJFeGVjdXRpb25Db250ZXh0LFxuICBQbHVnZ2FibGUsXG4gIFJlbGF0aXZlTWlkZGxld2FyZU9wdGlvbnMsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBBd3NBdXRoUmVzb2x2ZWRDb25maWcgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuXG5jb25zdCBpc0Nsb2NrU2tld2VkID0gKG5ld1NlcnZlclRpbWU6IG51bWJlciwgc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcikgPT5cbiAgTWF0aC5hYnMoZ2V0U2tld0NvcnJlY3RlZERhdGUoc3lzdGVtQ2xvY2tPZmZzZXQpLmdldFRpbWUoKSAtIG5ld1NlcnZlclRpbWUpID49IDMwMDAwMDtcblxuY29uc3QgZ2V0U2tld0NvcnJlY3RlZERhdGUgPSAoc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcikgPT4gbmV3IERhdGUoRGF0ZS5ub3coKSArIHN5c3RlbUNsb2NrT2Zmc2V0KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGF3c0F1dGhNaWRkbGV3YXJlPElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXRwdXQgZXh0ZW5kcyBvYmplY3Q+KFxuICBvcHRpb25zOiBBd3NBdXRoUmVzb2x2ZWRDb25maWdcbik6IEZpbmFsaXplUmVxdWVzdE1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4ge1xuICByZXR1cm4gKG5leHQ6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiwgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpOiBGaW5hbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4gPT5cbiAgICBhc3luYyBmdW5jdGlvbiAoYXJnczogRmluYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0Pik6IFByb21pc2U8RmluYWxpemVIYW5kbGVyT3V0cHV0PE91dHB1dD4+IHtcbiAgICAgIGlmICghSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShhcmdzLnJlcXVlc3QpKSByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgIGNvbnN0IHNpZ25lciA9IHR5cGVvZiBvcHRpb25zLnNpZ25lciA9PT0gXCJmdW5jdGlvblwiID8gYXdhaXQgb3B0aW9ucy5zaWduZXIoKSA6IG9wdGlvbnMuc2lnbmVyO1xuICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgbmV4dCh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlcXVlc3Q6IGF3YWl0IHNpZ25lci5zaWduKGFyZ3MucmVxdWVzdCwge1xuICAgICAgICAgIHNpZ25pbmdEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCksXG4gICAgICAgICAgc2lnbmluZ1JlZ2lvbjogY29udGV4dFtcInNpZ25pbmdfcmVnaW9uXCJdLFxuICAgICAgICAgIHNpZ25pbmdTZXJ2aWNlOiBjb250ZXh0W1wic2lnbmluZ19zZXJ2aWNlXCJdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IGhlYWRlcnMgfSA9IG91dHB1dC5yZXNwb25zZSBhcyBhbnk7XG4gICAgICBjb25zdCBkYXRlSGVhZGVyID0gaGVhZGVycyAmJiAoaGVhZGVycy5kYXRlIHx8IGhlYWRlcnMuRGF0ZSk7XG4gICAgICBpZiAoZGF0ZUhlYWRlcikge1xuICAgICAgICBjb25zdCBzZXJ2ZXJUaW1lID0gRGF0ZS5wYXJzZShkYXRlSGVhZGVyKTtcbiAgICAgICAgaWYgKGlzQ2xvY2tTa2V3ZWQoc2VydmVyVGltZSwgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCkpIHtcbiAgICAgICAgICBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0ID0gc2VydmVyVGltZSAtIERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuXG5leHBvcnQgY29uc3QgYXdzQXV0aE1pZGRsZXdhcmVPcHRpb25zOiBSZWxhdGl2ZU1pZGRsZXdhcmVPcHRpb25zID0ge1xuICBuYW1lOiBcImF3c0F1dGhNaWRkbGV3YXJlXCIsXG4gIHRhZ3M6IFtcIlNJR05BVFVSRVwiLCBcIkFXU0FVVEhcIl0sXG4gIHJlbGF0aW9uOiBcImFmdGVyXCIsXG4gIHRvTWlkZGxld2FyZTogXCJyZXRyeU1pZGRsZXdhcmVcIixcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXdzQXV0aFBsdWdpbiA9IChvcHRpb25zOiBBd3NBdXRoUmVzb2x2ZWRDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyhhd3NBdXRoTWlkZGxld2FyZShvcHRpb25zKSwgYXdzQXV0aE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZ2V0U2lnVjRBdXRoUGx1Z2luID0gZ2V0QXdzQXV0aFBsdWdpbjtcbiJdfQ==","export var USER_AGENT = \"user-agent\";\nexport var X_AMZ_USER_AGENT = \"x-amz-user-agent\";\nexport var SPACE = \" \";\nexport var UA_ESCAPE_REGEX = /[^\\!\\#\\$\\%\\&\\'\\*\\+\\-\\.\\^\\_\\`\\|\\~\\d\\w]/g;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLGtCQUFrQixDQUFDO0FBRW5ELE1BQU0sQ0FBQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUM7QUFFekIsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLHdDQUF3QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFVTRVJfQUdFTlQgPSBcInVzZXItYWdlbnRcIjtcblxuZXhwb3J0IGNvbnN0IFhfQU1aX1VTRVJfQUdFTlQgPSBcIngtYW16LXVzZXItYWdlbnRcIjtcblxuZXhwb3J0IGNvbnN0IFNQQUNFID0gXCIgXCI7XG5cbmV4cG9ydCBjb25zdCBVQV9FU0NBUEVfUkVHRVggPSAvW15cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC5cXF5cXF9cXGBcXHxcXH5cXGRcXHddL2c7XG4iXX0=","import { __assign, __awaiter, __generator, __read, __spreadArray } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { SPACE, UA_ESCAPE_REGEX, USER_AGENT, X_AMZ_USER_AGENT } from \"./constants\";\n/**\n * Build user agent header sections from:\n * 1. runtime-specific default user agent provider;\n * 2. custom user agent from `customUserAgent` client config;\n * 3. handler execution context set by internal SDK components;\n * The built user agent will be set to `x-amz-user-agent` header for ALL the\n * runtimes.\n * Please note that any override to the `user-agent` or `x-amz-user-agent` header\n * in the HTTP request is discouraged. Please use `customUserAgent` client\n * config or middleware setting the `userAgent` context to generate desired user\n * agent.\n */\nexport var userAgentMiddleware = function (options) {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var request, headers, userAgent, defaultUserAgent, customUserAgent, sdkUserAgentValue, normalUAValue;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        request = args.request;\n                        if (!HttpRequest.isInstance(request))\n                            return [2 /*return*/, next(args)];\n                        headers = request.headers;\n                        userAgent = ((_a = context === null || context === void 0 ? void 0 : context.userAgent) === null || _a === void 0 ? void 0 : _a.map(escapeUserAgent)) || [];\n                        return [4 /*yield*/, options.defaultUserAgentProvider()];\n                    case 1:\n                        defaultUserAgent = (_c.sent()).map(escapeUserAgent);\n                        customUserAgent = ((_b = options === null || options === void 0 ? void 0 : options.customUserAgent) === null || _b === void 0 ? void 0 : _b.map(escapeUserAgent)) || [];\n                        sdkUserAgentValue = __spreadArray(__spreadArray(__spreadArray([], __read(defaultUserAgent)), __read(userAgent)), __read(customUserAgent)).join(SPACE);\n                        normalUAValue = __spreadArray(__spreadArray([], __read(defaultUserAgent.filter(function (section) { return section.startsWith(\"aws-sdk-\"); }))), __read(customUserAgent)).join(SPACE);\n                        if (options.runtime !== \"browser\") {\n                            if (normalUAValue) {\n                                headers[X_AMZ_USER_AGENT] = headers[X_AMZ_USER_AGENT]\n                                    ? headers[USER_AGENT] + \" \" + normalUAValue\n                                    : normalUAValue;\n                            }\n                            headers[USER_AGENT] = sdkUserAgentValue;\n                        }\n                        else {\n                            headers[X_AMZ_USER_AGENT] = sdkUserAgentValue;\n                        }\n                        return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n                }\n            });\n        }); };\n    };\n};\n/**\n * Escape the each pair according to https://tools.ietf.org/html/rfc5234 and join the pair with pattern `name/version`.\n * User agent name may include prefix like `md/`, `api/`, `os/` etc., we should not escape the `/` after the prefix.\n * @private\n */\nvar escapeUserAgent = function (_a) {\n    var _b = __read(_a, 2), name = _b[0], version = _b[1];\n    var prefixSeparatorIndex = name.indexOf(\"/\");\n    var prefix = name.substring(0, prefixSeparatorIndex); // If no prefix, prefix is just \"\"\n    var uaName = name.substring(prefixSeparatorIndex + 1);\n    if (prefix === \"api\") {\n        uaName = uaName.toLowerCase();\n    }\n    return [prefix, uaName, version]\n        .filter(function (item) { return item && item.length > 0; })\n        .map(function (item) { return item === null || item === void 0 ? void 0 : item.replace(UA_ESCAPE_REGEX, \"_\"); })\n        .join(\"/\");\n};\nexport var getUserAgentMiddlewareOptions = {\n    name: \"getUserAgentMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\n    override: true,\n};\nexport var getUserAgentPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1hZ2VudC1taWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VzZXItYWdlbnQtbWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBY3JELE9BQU8sRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUVuRjs7Ozs7Ozs7Ozs7R0FXRztBQUNILE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUM5QixVQUFDLE9BQWdDO0lBQ2pDLE9BQUEsVUFDRSxJQUE0QixFQUM1QixPQUFnQztRQUVsQyxPQUFBLFVBQU8sSUFBZ0M7Ozs7Ozt3QkFDN0IsT0FBTyxHQUFLLElBQUksUUFBVCxDQUFVO3dCQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7NEJBQUUsc0JBQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDO3dCQUNoRCxPQUFPLEdBQUssT0FBTyxRQUFaLENBQWE7d0JBQ3RCLFNBQVMsR0FBRyxDQUFBLE1BQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFNBQVMsMENBQUUsR0FBRyxDQUFDLGVBQWUsQ0FBQyxLQUFJLEVBQUUsQ0FBQzt3QkFDdkMscUJBQU0sT0FBTyxDQUFDLHdCQUF3QixFQUFFLEVBQUE7O3dCQUE1RCxnQkFBZ0IsR0FBRyxDQUFDLFNBQXdDLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDO3dCQUNsRixlQUFlLEdBQUcsQ0FBQSxNQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxlQUFlLDBDQUFFLEdBQUcsQ0FBQyxlQUFlLENBQUMsS0FBSSxFQUFFLENBQUM7d0JBR3ZFLGlCQUFpQixHQUFHLHFEQUFJLGdCQUFnQixXQUFLLFNBQVMsV0FBSyxlQUFlLEdBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUV4RixhQUFhLEdBQUcsdUNBQ2pCLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxVQUFDLE9BQU8sSUFBSyxPQUFBLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQTlCLENBQThCLENBQUMsV0FDcEUsZUFBZSxHQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBRWQsSUFBSSxPQUFPLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTs0QkFDakMsSUFBSSxhQUFhLEVBQUU7Z0NBQ2pCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztvQ0FDbkQsQ0FBQyxDQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsU0FBSSxhQUFlO29DQUMzQyxDQUFDLENBQUMsYUFBYSxDQUFDOzZCQUNuQjs0QkFDRCxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsaUJBQWlCLENBQUM7eUJBQ3pDOzZCQUFNOzRCQUNMLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLGlCQUFpQixDQUFDO3lCQUMvQzt3QkFFRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOzs7YUFDSjtJQS9CRCxDQStCQztBQW5DRCxDQW1DQyxDQUFDO0FBRUo7Ozs7R0FJRztBQUNILElBQU0sZUFBZSxHQUFHLFVBQUMsRUFBOEI7UUFBOUIsS0FBQSxhQUE4QixFQUE3QixJQUFJLFFBQUEsRUFBRSxPQUFPLFFBQUE7SUFDckMsSUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxrQ0FBa0M7SUFDMUYsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN0RCxJQUFJLE1BQU0sS0FBSyxLQUFLLEVBQUU7UUFDcEIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztLQUMvQjtJQUNELE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztTQUM3QixNQUFNLENBQUMsVUFBQyxJQUFJLElBQUssT0FBQSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQXZCLENBQXVCLENBQUM7U0FDekMsR0FBRyxDQUFDLFVBQUMsSUFBSSxJQUFLLE9BQUEsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE9BQU8sQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLEVBQW5DLENBQW1DLENBQUM7U0FDbEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sNkJBQTZCLEdBQTJDO0lBQ25GLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLE9BQU87SUFDYixRQUFRLEVBQUUsS0FBSztJQUNmLElBQUksRUFBRSxDQUFDLGdCQUFnQixFQUFFLFlBQVksQ0FBQztJQUN0QyxRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxVQUFDLE1BQStCLElBQTBCLE9BQUEsQ0FBQztJQUMzRixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztJQUM5RSxDQUFDO0NBQ0YsQ0FBQyxFQUowRixDQUkxRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHtcbiAgQWJzb2x1dGVMb2NhdGlvbixcbiAgQnVpbGRIYW5kbGVyLFxuICBCdWlsZEhhbmRsZXJBcmd1bWVudHMsXG4gIEJ1aWxkSGFuZGxlck9wdGlvbnMsXG4gIEJ1aWxkSGFuZGxlck91dHB1dCxcbiAgSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBQbHVnZ2FibGUsXG4gIFVzZXJBZ2VudFBhaXIsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5pbXBvcnQgeyBTUEFDRSwgVUFfRVNDQVBFX1JFR0VYLCBVU0VSX0FHRU5ULCBYX0FNWl9VU0VSX0FHRU5UIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQnVpbGQgdXNlciBhZ2VudCBoZWFkZXIgc2VjdGlvbnMgZnJvbTpcbiAqIDEuIHJ1bnRpbWUtc3BlY2lmaWMgZGVmYXVsdCB1c2VyIGFnZW50IHByb3ZpZGVyO1xuICogMi4gY3VzdG9tIHVzZXIgYWdlbnQgZnJvbSBgY3VzdG9tVXNlckFnZW50YCBjbGllbnQgY29uZmlnO1xuICogMy4gaGFuZGxlciBleGVjdXRpb24gY29udGV4dCBzZXQgYnkgaW50ZXJuYWwgU0RLIGNvbXBvbmVudHM7XG4gKiBUaGUgYnVpbHQgdXNlciBhZ2VudCB3aWxsIGJlIHNldCB0byBgeC1hbXotdXNlci1hZ2VudGAgaGVhZGVyIGZvciBBTEwgdGhlXG4gKiBydW50aW1lcy5cbiAqIFBsZWFzZSBub3RlIHRoYXQgYW55IG92ZXJyaWRlIHRvIHRoZSBgdXNlci1hZ2VudGAgb3IgYHgtYW16LXVzZXItYWdlbnRgIGhlYWRlclxuICogaW4gdGhlIEhUVFAgcmVxdWVzdCBpcyBkaXNjb3VyYWdlZC4gUGxlYXNlIHVzZSBgY3VzdG9tVXNlckFnZW50YCBjbGllbnRcbiAqIGNvbmZpZyBvciBtaWRkbGV3YXJlIHNldHRpbmcgdGhlIGB1c2VyQWdlbnRgIGNvbnRleHQgdG8gZ2VuZXJhdGUgZGVzaXJlZCB1c2VyXG4gKiBhZ2VudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZXJBZ2VudE1pZGRsZXdhcmUgPVxuICAob3B0aW9uczogVXNlckFnZW50UmVzb2x2ZWRDb25maWcpID0+XG4gIDxPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlcj4oXG4gICAgbmV4dDogQnVpbGRIYW5kbGVyPGFueSwgYW55PixcbiAgICBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dFxuICApOiBCdWlsZEhhbmRsZXI8YW55LCBhbnk+ID0+XG4gIGFzeW5jIChhcmdzOiBCdWlsZEhhbmRsZXJBcmd1bWVudHM8YW55Pik6IFByb21pc2U8QnVpbGRIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKSByZXR1cm4gbmV4dChhcmdzKTtcbiAgICBjb25zdCB7IGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgdXNlckFnZW50ID0gY29udGV4dD8udXNlckFnZW50Py5tYXAoZXNjYXBlVXNlckFnZW50KSB8fCBbXTtcbiAgICBjb25zdCBkZWZhdWx0VXNlckFnZW50ID0gKGF3YWl0IG9wdGlvbnMuZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyKCkpLm1hcChlc2NhcGVVc2VyQWdlbnQpO1xuICAgIGNvbnN0IGN1c3RvbVVzZXJBZ2VudCA9IG9wdGlvbnM/LmN1c3RvbVVzZXJBZ2VudD8ubWFwKGVzY2FwZVVzZXJBZ2VudCkgfHwgW107XG5cbiAgICAvLyBTZXQgdmFsdWUgdG8gQVdTLXNwZWNpZmljIHVzZXIgYWdlbnQgaGVhZGVyXG4gICAgY29uc3Qgc2RrVXNlckFnZW50VmFsdWUgPSBbLi4uZGVmYXVsdFVzZXJBZ2VudCwgLi4udXNlckFnZW50LCAuLi5jdXN0b21Vc2VyQWdlbnRdLmpvaW4oU1BBQ0UpO1xuICAgIC8vIEdldCB2YWx1ZSB0byBiZSBzZW50IHdpdGggbm9uLUFXUy1zcGVjaWZpYyB1c2VyIGFnZW50IGhlYWRlci5cbiAgICBjb25zdCBub3JtYWxVQVZhbHVlID0gW1xuICAgICAgLi4uZGVmYXVsdFVzZXJBZ2VudC5maWx0ZXIoKHNlY3Rpb24pID0+IHNlY3Rpb24uc3RhcnRzV2l0aChcImF3cy1zZGstXCIpKSxcbiAgICAgIC4uLmN1c3RvbVVzZXJBZ2VudCxcbiAgICBdLmpvaW4oU1BBQ0UpO1xuXG4gICAgaWYgKG9wdGlvbnMucnVudGltZSAhPT0gXCJicm93c2VyXCIpIHtcbiAgICAgIGlmIChub3JtYWxVQVZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnNbWF9BTVpfVVNFUl9BR0VOVF0gPSBoZWFkZXJzW1hfQU1aX1VTRVJfQUdFTlRdXG4gICAgICAgICAgPyBgJHtoZWFkZXJzW1VTRVJfQUdFTlRdfSAke25vcm1hbFVBVmFsdWV9YFxuICAgICAgICAgIDogbm9ybWFsVUFWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGhlYWRlcnNbVVNFUl9BR0VOVF0gPSBzZGtVc2VyQWdlbnRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyc1tYX0FNWl9VU0VSX0FHRU5UXSA9IHNka1VzZXJBZ2VudFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0LFxuICAgIH0pO1xuICB9O1xuXG4vKipcbiAqIEVzY2FwZSB0aGUgZWFjaCBwYWlyIGFjY29yZGluZyB0byBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTIzNCBhbmQgam9pbiB0aGUgcGFpciB3aXRoIHBhdHRlcm4gYG5hbWUvdmVyc2lvbmAuXG4gKiBVc2VyIGFnZW50IG5hbWUgbWF5IGluY2x1ZGUgcHJlZml4IGxpa2UgYG1kL2AsIGBhcGkvYCwgYG9zL2AgZXRjLiwgd2Ugc2hvdWxkIG5vdCBlc2NhcGUgdGhlIGAvYCBhZnRlciB0aGUgcHJlZml4LlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgZXNjYXBlVXNlckFnZW50ID0gKFtuYW1lLCB2ZXJzaW9uXTogVXNlckFnZW50UGFpcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHByZWZpeFNlcGFyYXRvckluZGV4ID0gbmFtZS5pbmRleE9mKFwiL1wiKTtcbiAgY29uc3QgcHJlZml4ID0gbmFtZS5zdWJzdHJpbmcoMCwgcHJlZml4U2VwYXJhdG9ySW5kZXgpOyAvLyBJZiBubyBwcmVmaXgsIHByZWZpeCBpcyBqdXN0IFwiXCJcbiAgbGV0IHVhTmFtZSA9IG5hbWUuc3Vic3RyaW5nKHByZWZpeFNlcGFyYXRvckluZGV4ICsgMSk7XG4gIGlmIChwcmVmaXggPT09IFwiYXBpXCIpIHtcbiAgICB1YU5hbWUgPSB1YU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gW3ByZWZpeCwgdWFOYW1lLCB2ZXJzaW9uXVxuICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKVxuICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0/LnJlcGxhY2UoVUFfRVNDQVBFX1JFR0VYLCBcIl9cIikpXG4gICAgLmpvaW4oXCIvXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVzZXJBZ2VudE1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvbiA9IHtcbiAgbmFtZTogXCJnZXRVc2VyQWdlbnRNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwiYnVpbGRcIixcbiAgcHJpb3JpdHk6IFwibG93XCIsXG4gIHRhZ3M6IFtcIlNFVF9VU0VSX0FHRU5UXCIsIFwiVVNFUl9BR0VOVFwiXSxcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UGx1Z2luID0gKGNvbmZpZzogVXNlckFnZW50UmVzb2x2ZWRDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHVzZXJBZ2VudE1pZGRsZXdhcmUoY29uZmlnKSwgZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG4iXX0=","import { __assign, __read, __spreadArray, __values } from \"tslib\";\nexport var constructStack = function () {\n    var absoluteEntries = [];\n    var relativeEntries = [];\n    var entriesNameSet = new Set();\n    var sort = function (entries) {\n        return entries.sort(function (a, b) {\n            return stepWeights[b.step] - stepWeights[a.step] ||\n                priorityWeights[b.priority || \"normal\"] - priorityWeights[a.priority || \"normal\"];\n        });\n    };\n    var removeByName = function (toRemove) {\n        var isRemoved = false;\n        var filterCb = function (entry) {\n            if (entry.name && entry.name === toRemove) {\n                isRemoved = true;\n                entriesNameSet.delete(toRemove);\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    var removeByReference = function (toRemove) {\n        var isRemoved = false;\n        var filterCb = function (entry) {\n            if (entry.middleware === toRemove) {\n                isRemoved = true;\n                if (entry.name)\n                    entriesNameSet.delete(entry.name);\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    var cloneTo = function (toStack) {\n        absoluteEntries.forEach(function (entry) {\n            //@ts-ignore\n            toStack.add(entry.middleware, __assign({}, entry));\n        });\n        relativeEntries.forEach(function (entry) {\n            //@ts-ignore\n            toStack.addRelativeTo(entry.middleware, __assign({}, entry));\n        });\n        return toStack;\n    };\n    var expandRelativeMiddlewareList = function (from) {\n        var expandedMiddlewareList = [];\n        from.before.forEach(function (entry) {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push.apply(expandedMiddlewareList, __spreadArray([], __read(expandRelativeMiddlewareList(entry))));\n            }\n        });\n        expandedMiddlewareList.push(from);\n        from.after.reverse().forEach(function (entry) {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push.apply(expandedMiddlewareList, __spreadArray([], __read(expandRelativeMiddlewareList(entry))));\n            }\n        });\n        return expandedMiddlewareList;\n    };\n    /**\n     * Get a final list of middleware in the order of being executed in the resolved handler.\n     */\n    var getMiddlewareList = function () {\n        var normalizedAbsoluteEntries = [];\n        var normalizedRelativeEntries = [];\n        var normalizedEntriesNameMap = {};\n        absoluteEntries.forEach(function (entry) {\n            var normalizedEntry = __assign(__assign({}, entry), { before: [], after: [] });\n            if (normalizedEntry.name)\n                normalizedEntriesNameMap[normalizedEntry.name] = normalizedEntry;\n            normalizedAbsoluteEntries.push(normalizedEntry);\n        });\n        relativeEntries.forEach(function (entry) {\n            var normalizedEntry = __assign(__assign({}, entry), { before: [], after: [] });\n            if (normalizedEntry.name)\n                normalizedEntriesNameMap[normalizedEntry.name] = normalizedEntry;\n            normalizedRelativeEntries.push(normalizedEntry);\n        });\n        normalizedRelativeEntries.forEach(function (entry) {\n            if (entry.toMiddleware) {\n                var toMiddleware = normalizedEntriesNameMap[entry.toMiddleware];\n                if (toMiddleware === undefined) {\n                    throw new Error(entry.toMiddleware + \" is not found when adding \" + (entry.name || \"anonymous\") + \" middleware \" + entry.relation + \" \" + entry.toMiddleware);\n                }\n                if (entry.relation === \"after\") {\n                    toMiddleware.after.push(entry);\n                }\n                if (entry.relation === \"before\") {\n                    toMiddleware.before.push(entry);\n                }\n            }\n        });\n        var mainChain = sort(normalizedAbsoluteEntries)\n            .map(expandRelativeMiddlewareList)\n            .reduce(function (wholeList, expendedMiddlewareList) {\n            // TODO: Replace it with Array.flat();\n            wholeList.push.apply(wholeList, __spreadArray([], __read(expendedMiddlewareList)));\n            return wholeList;\n        }, []);\n        return mainChain.map(function (entry) { return entry.middleware; });\n    };\n    var stack = {\n        add: function (middleware, options) {\n            if (options === void 0) { options = {}; }\n            var name = options.name, override = options.override;\n            var entry = __assign({ step: \"initialize\", priority: \"normal\", middleware: middleware }, options);\n            if (name) {\n                if (entriesNameSet.has(name)) {\n                    if (!override)\n                        throw new Error(\"Duplicate middleware name '\" + name + \"'\");\n                    var toOverrideIndex = absoluteEntries.findIndex(function (entry) { return entry.name === name; });\n                    var toOverride = absoluteEntries[toOverrideIndex];\n                    if (toOverride.step !== entry.step || toOverride.priority !== entry.priority) {\n                        throw new Error(\"\\\"\" + name + \"\\\" middleware with \" + toOverride.priority + \" priority in \" + toOverride.step + \" step cannot be \" +\n                            (\"overridden by same-name middleware with \" + entry.priority + \" priority in \" + entry.step + \" step.\"));\n                    }\n                    absoluteEntries.splice(toOverrideIndex, 1);\n                }\n                entriesNameSet.add(name);\n            }\n            absoluteEntries.push(entry);\n        },\n        addRelativeTo: function (middleware, options) {\n            var name = options.name, override = options.override;\n            var entry = __assign({ middleware: middleware }, options);\n            if (name) {\n                if (entriesNameSet.has(name)) {\n                    if (!override)\n                        throw new Error(\"Duplicate middleware name '\" + name + \"'\");\n                    var toOverrideIndex = relativeEntries.findIndex(function (entry) { return entry.name === name; });\n                    var toOverride = relativeEntries[toOverrideIndex];\n                    if (toOverride.toMiddleware !== entry.toMiddleware || toOverride.relation !== entry.relation) {\n                        throw new Error(\"\\\"\" + name + \"\\\" middleware \" + toOverride.relation + \" \\\"\" + toOverride.toMiddleware + \"\\\" middleware cannot be overridden \" +\n                            (\"by same-name middleware \" + entry.relation + \" \\\"\" + entry.toMiddleware + \"\\\" middleware.\"));\n                    }\n                    relativeEntries.splice(toOverrideIndex, 1);\n                }\n                entriesNameSet.add(name);\n            }\n            relativeEntries.push(entry);\n        },\n        clone: function () { return cloneTo(constructStack()); },\n        use: function (plugin) {\n            plugin.applyToStack(stack);\n        },\n        remove: function (toRemove) {\n            if (typeof toRemove === \"string\")\n                return removeByName(toRemove);\n            else\n                return removeByReference(toRemove);\n        },\n        removeByTag: function (toRemove) {\n            var isRemoved = false;\n            var filterCb = function (entry) {\n                var tags = entry.tags, name = entry.name;\n                if (tags && tags.includes(toRemove)) {\n                    if (name)\n                        entriesNameSet.delete(name);\n                    isRemoved = true;\n                    return false;\n                }\n                return true;\n            };\n            absoluteEntries = absoluteEntries.filter(filterCb);\n            relativeEntries = relativeEntries.filter(filterCb);\n            return isRemoved;\n        },\n        concat: function (from) {\n            var cloned = cloneTo(constructStack());\n            cloned.use(from);\n            return cloned;\n        },\n        applyToStack: cloneTo,\n        resolve: function (handler, context) {\n            var e_1, _a;\n            try {\n                for (var _b = __values(getMiddlewareList().reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var middleware = _c.value;\n                    handler = middleware(handler, context);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return handler;\n        },\n    };\n    return stack;\n};\nvar stepWeights = {\n    initialize: 5,\n    serialize: 4,\n    build: 3,\n    finalizeRequest: 2,\n    deserialize: 1,\n};\nvar priorityWeights = {\n    high: 3,\n    normal: 2,\n    low: 1,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWlkZGxld2FyZVN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL01pZGRsZXdhcmVTdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBZ0JBLE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRztJQUM1QixJQUFJLGVBQWUsR0FBNkMsRUFBRSxDQUFDO0lBQ25FLElBQUksZUFBZSxHQUE2QyxFQUFFLENBQUM7SUFDbkUsSUFBTSxjQUFjLEdBQWdCLElBQUksR0FBRyxFQUFFLENBQUM7SUFFOUMsSUFBTSxJQUFJLEdBQUcsVUFBbUQsT0FBWTtRQUMxRSxPQUFBLE9BQU8sQ0FBQyxJQUFJLENBQ1YsVUFBQyxDQUFDLEVBQUUsQ0FBQztZQUNILE9BQUEsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDekMsZUFBZSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDO1FBRGpGLENBQ2lGLENBQ3BGO0lBSkQsQ0FJQyxDQUFDO0lBRUosSUFBTSxZQUFZLEdBQUcsVUFBQyxRQUFnQjtRQUNwQyxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFxQztZQUNyRCxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7Z0JBQ3pDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQ2pCLGNBQWMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sS0FBSyxDQUFDO2FBQ2Q7WUFDRCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQztRQUNGLGVBQWUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELGVBQWUsR0FBRyxlQUFl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LENBQUM7Q0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWJzb2x1dGVMb2NhdGlvbixcbiAgRGVzZXJpYWxpemVIYW5kbGVyLFxuICBIYW5kbGVyLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgSGFuZGxlck9wdGlvbnMsXG4gIE1pZGRsZXdhcmVTdGFjayxcbiAgTWlkZGxld2FyZVR5cGUsXG4gIFBsdWdnYWJsZSxcbiAgUHJpb3JpdHksXG4gIFJlbGF0aXZlTG9jYXRpb24sXG4gIFN0ZXAsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBBYnNvbHV0ZU1pZGRsZXdhcmVFbnRyeSwgTWlkZGxld2FyZUVudHJ5LCBOb3JtYWxpemVkLCBSZWxhdGl2ZU1pZGRsZXdhcmVFbnRyeSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBjb25zdHJ1Y3RTdGFjayA9IDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0PigpOiBNaWRkbGV3YXJlU3RhY2s8SW5wdXQsIE91dHB1dD4gPT4ge1xuICBsZXQgYWJzb2x1dGVFbnRyaWVzOiBBYnNvbHV0ZU1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PltdID0gW107XG4gIGxldCByZWxhdGl2ZUVudHJpZXM6IFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+W10gPSBbXTtcbiAgY29uc3QgZW50cmllc05hbWVTZXQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXG4gIGNvbnN0IHNvcnQgPSA8VCBleHRlbmRzIEFic29sdXRlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+PihlbnRyaWVzOiBUW10pOiBUW10gPT5cbiAgICBlbnRyaWVzLnNvcnQoXG4gICAgICAoYSwgYikgPT5cbiAgICAgICAgc3RlcFdlaWdodHNbYi5zdGVwXSAtIHN0ZXBXZWlnaHRzW2Euc3RlcF0gfHxcbiAgICAgICAgcHJpb3JpdHlXZWlnaHRzW2IucHJpb3JpdHkgfHwgXCJub3JtYWxcIl0gLSBwcmlvcml0eVdlaWdodHNbYS5wcmlvcml0eSB8fCBcIm5vcm1hbFwiXVxuICAgICk7XG5cbiAgY29uc3QgcmVtb3ZlQnlOYW1lID0gKHRvUmVtb3ZlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBsZXQgaXNSZW1vdmVkID0gZmFsc2U7XG4gICAgY29uc3QgZmlsdGVyQ2IgPSAoZW50cnk6IE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0Pik6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGVudHJ5Lm5hbWUgJiYgZW50cnkubmFtZSA9PT0gdG9SZW1vdmUpIHtcbiAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgZW50cmllc05hbWVTZXQuZGVsZXRlKHRvUmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZXR1cm4gaXNSZW1vdmVkO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUJ5UmVmZXJlbmNlID0gKHRvUmVtb3ZlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Pik6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBpc1JlbW92ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAoZW50cnkubWlkZGxld2FyZSA9PT0gdG9SZW1vdmUpIHtcbiAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGVudHJ5Lm5hbWUpIGVudHJpZXNOYW1lU2V0LmRlbGV0ZShlbnRyeS5uYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZXR1cm4gaXNSZW1vdmVkO1xuICB9O1xuXG4gIGNvbnN0IGNsb25lVG8gPSA8SW5wdXRUeXBlIGV4dGVuZHMgSW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBPdXRwdXQ+KFxuICAgIHRvU3RhY2s6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+XG4gICk6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+ID0+IHtcbiAgICBhYnNvbHV0ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgdG9TdGFjay5hZGQoZW50cnkubWlkZGxld2FyZSwgeyAuLi5lbnRyeSB9KTtcbiAgICB9KTtcbiAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgdG9TdGFjay5hZGRSZWxhdGl2ZVRvKGVudHJ5Lm1pZGRsZXdhcmUsIHsgLi4uZW50cnkgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvU3RhY2s7XG4gIH07XG5cbiAgY29uc3QgZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdCA9IChcbiAgICBmcm9tOiBOb3JtYWxpemVkPE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiwgSW5wdXQsIE91dHB1dD5cbiAgKTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+W10gPT4ge1xuICAgIGNvbnN0IGV4cGFuZGVkTWlkZGxld2FyZUxpc3Q6IE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PltdID0gW107XG4gICAgZnJvbS5iZWZvcmUuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5iZWZvcmUubGVuZ3RoID09PSAwICYmIGVudHJ5LmFmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKC4uLmV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QoZW50cnkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZnJvbSk7XG4gICAgZnJvbS5hZnRlci5yZXZlcnNlKCkuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5iZWZvcmUubGVuZ3RoID09PSAwICYmIGVudHJ5LmFmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKC4uLmV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QoZW50cnkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZXhwYW5kZWRNaWRkbGV3YXJlTGlzdDtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgZmluYWwgbGlzdCBvZiBtaWRkbGV3YXJlIGluIHRoZSBvcmRlciBvZiBiZWluZyBleGVjdXRlZCBpbiB0aGUgcmVzb2x2ZWQgaGFuZGxlci5cbiAgICovXG4gIGNvbnN0IGdldE1pZGRsZXdhcmVMaXN0ID0gKCk6IEFycmF5PE1pZGRsZXdhcmVUeXBlPElucHV0LCBPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZEFic29sdXRlRW50cmllczogTm9ybWFsaXplZDxBYnNvbHV0ZU1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiwgSW5wdXQsIE91dHB1dD5bXSA9IFtdO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXM6IE5vcm1hbGl6ZWQ8UmVsYXRpdmVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4sIElucHV0LCBPdXRwdXQ+W10gPSBbXTtcbiAgICBjb25zdCBub3JtYWxpemVkRW50cmllc05hbWVNYXA6IHtcbiAgICAgIFttaWRkbGV3YXJlTmFtZTogc3RyaW5nXTogTm9ybWFsaXplZDxNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4sIElucHV0LCBPdXRwdXQ+O1xuICAgIH0gPSB7fTtcblxuICAgIGFic29sdXRlRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEVudHJ5ID0ge1xuICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgYmVmb3JlOiBbXSxcbiAgICAgICAgYWZ0ZXI6IFtdLFxuICAgICAgfTtcbiAgICAgIGlmIChub3JtYWxpemVkRW50cnkubmFtZSkgbm9ybWFsaXplZEVudHJpZXNOYW1lTWFwW25vcm1hbGl6ZWRFbnRyeS5uYW1lXSA9IG5vcm1hbGl6ZWRFbnRyeTtcbiAgICAgIG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMucHVzaChub3JtYWxpemVkRW50cnkpO1xuICAgIH0pO1xuXG4gICAgcmVsYXRpdmVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRW50cnkgPSB7XG4gICAgICAgIC4uLmVudHJ5LFxuICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICBhZnRlcjogW10sXG4gICAgICB9O1xuICAgICAgaWYgKG5vcm1hbGl6ZWRFbnRyeS5uYW1lKSBub3JtYWxpemVkRW50cmllc05hbWVNYXBbbm9ybWFsaXplZEVudHJ5Lm5hbWVdID0gbm9ybWFsaXplZEVudHJ5O1xuICAgICAgbm9ybWFsaXplZFJlbGF0aXZlRW50cmllcy5wdXNoKG5vcm1hbGl6ZWRFbnRyeSk7XG4gICAgfSk7XG5cbiAgICBub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnkudG9NaWRkbGV3YXJlKSB7XG4gICAgICAgIGNvbnN0IHRvTWlkZGxld2FyZSA9IG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcFtlbnRyeS50b01pZGRsZXdhcmVdO1xuICAgICAgICBpZiAodG9NaWRkbGV3YXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgJHtlbnRyeS50b01pZGRsZXdhcmV9IGlzIG5vdCBmb3VuZCB3aGVuIGFkZGluZyAke2VudHJ5Lm5hbWUgfHwgXCJhbm9ueW1vdXNcIn0gbWlkZGxld2FyZSAke2VudHJ5LnJlbGF0aW9ufSAke1xuICAgICAgICAgICAgICBlbnRyeS50b01pZGRsZXdhcmVcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkucmVsYXRpb24gPT09IFwiYWZ0ZXJcIikge1xuICAgICAgICAgIHRvTWlkZGxld2FyZS5hZnRlci5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkucmVsYXRpb24gPT09IFwiYmVmb3JlXCIpIHtcbiAgICAgICAgICB0b01pZGRsZXdhcmUuYmVmb3JlLnB1c2goZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBtYWluQ2hhaW4gPSBzb3J0KG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMpXG4gICAgICAubWFwKGV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QpXG4gICAgICAucmVkdWNlKCh3aG9sZUxpc3QsIGV4cGVuZGVkTWlkZGxld2FyZUxpc3QpID0+IHtcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSBpdCB3aXRoIEFycmF5LmZsYXQoKTtcbiAgICAgICAgd2hvbGVMaXN0LnB1c2goLi4uZXhwZW5kZWRNaWRkbGV3YXJlTGlzdCk7XG4gICAgICAgIHJldHVybiB3aG9sZUxpc3Q7XG4gICAgICB9LCBbXSBhcyBNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD5bXSk7XG4gICAgcmV0dXJuIG1haW5DaGFpbi5tYXAoKGVudHJ5KSA9PiBlbnRyeS5taWRkbGV3YXJlKTtcbiAgfTtcblxuICBjb25zdCBzdGFjayA9IHtcbiAgICBhZGQ6IChtaWRkbGV3YXJlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Piwgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgb3ZlcnJpZGUgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBlbnRyeTogQWJzb2x1dGVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4gPSB7XG4gICAgICAgIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICAgICAgICBwcmlvcml0eTogXCJub3JtYWxcIixcbiAgICAgICAgbWlkZGxld2FyZSxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIH07XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAoZW50cmllc05hbWVTZXQuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgaWYgKCFvdmVycmlkZSkgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbWlkZGxld2FyZSBuYW1lICcke25hbWV9J2ApO1xuICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGVJbmRleCA9IGFic29sdXRlRW50cmllcy5maW5kSW5kZXgoKGVudHJ5KSA9PiBlbnRyeS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgICBjb25zdCB0b092ZXJyaWRlID0gYWJzb2x1dGVFbnRyaWVzW3RvT3ZlcnJpZGVJbmRleF07XG4gICAgICAgICAgaWYgKHRvT3ZlcnJpZGUuc3RlcCAhPT0gZW50cnkuc3RlcCB8fCB0b092ZXJyaWRlLnByaW9yaXR5ICE9PSBlbnRyeS5wcmlvcml0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgXCIke25hbWV9XCIgbWlkZGxld2FyZSB3aXRoICR7dG9PdmVycmlkZS5wcmlvcml0eX0gcHJpb3JpdHkgaW4gJHt0b092ZXJyaWRlLnN0ZXB9IHN0ZXAgY2Fubm90IGJlIGAgK1xuICAgICAgICAgICAgICAgIGBvdmVycmlkZGVuIGJ5IHNhbWUtbmFtZSBtaWRkbGV3YXJlIHdpdGggJHtlbnRyeS5wcmlvcml0eX0gcHJpb3JpdHkgaW4gJHtlbnRyeS5zdGVwfSBzdGVwLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFic29sdXRlRW50cmllcy5zcGxpY2UodG9PdmVycmlkZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzTmFtZVNldC5hZGQobmFtZSk7XG4gICAgICB9XG4gICAgICBhYnNvbHV0ZUVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgfSxcblxuICAgIGFkZFJlbGF0aXZlVG86IChtaWRkbGV3YXJlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Piwgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBSZWxhdGl2ZUxvY2F0aW9uKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIG92ZXJyaWRlIH0gPSBvcHRpb25zO1xuICAgICAgY29uc3QgZW50cnk6IFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+ID0ge1xuICAgICAgICBtaWRkbGV3YXJlLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgfTtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGlmIChlbnRyaWVzTmFtZVNldC5oYXMobmFtZSkpIHtcbiAgICAgICAgICBpZiAoIW92ZXJyaWRlKSB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtaWRkbGV3YXJlIG5hbWUgJyR7bmFtZX0nYCk7XG4gICAgICAgICAgY29uc3QgdG9PdmVycmlkZUluZGV4ID0gcmVsYXRpdmVFbnRyaWVzLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm5hbWUgPT09IG5hbWUpO1xuICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGUgPSByZWxhdGl2ZUVudHJpZXNbdG9PdmVycmlkZUluZGV4XTtcbiAgICAgICAgICBpZiAodG9PdmVycmlkZS50b01pZGRsZXdhcmUgIT09IGVudHJ5LnRvTWlkZGxld2FyZSB8fCB0b092ZXJyaWRlLnJlbGF0aW9uICE9PSBlbnRyeS5yZWxhdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgXCIke25hbWV9XCIgbWlkZGxld2FyZSAke3RvT3ZlcnJpZGUucmVsYXRpb259IFwiJHt0b092ZXJyaWRlLnRvTWlkZGxld2FyZX1cIiBtaWRkbGV3YXJlIGNhbm5vdCBiZSBvdmVycmlkZGVuIGAgK1xuICAgICAgICAgICAgICAgIGBieSBzYW1lLW5hbWUgbWlkZGxld2FyZSAke2VudHJ5LnJlbGF0aW9ufSBcIiR7ZW50cnkudG9NaWRkbGV3YXJlfVwiIG1pZGRsZXdhcmUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVsYXRpdmVFbnRyaWVzLnNwbGljZSh0b092ZXJyaWRlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNOYW1lU2V0LmFkZChuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9LFxuXG4gICAgY2xvbmU6ICgpID0+IGNsb25lVG8oY29uc3RydWN0U3RhY2s8SW5wdXQsIE91dHB1dD4oKSksXG5cbiAgICB1c2U6IChwbHVnaW46IFBsdWdnYWJsZTxJbnB1dCwgT3V0cHV0PikgPT4ge1xuICAgICAgcGx1Z2luLmFwcGx5VG9TdGFjayhzdGFjayk7XG4gICAgfSxcblxuICAgIHJlbW92ZTogKHRvUmVtb3ZlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0PiB8IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0b1JlbW92ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHJlbW92ZUJ5TmFtZSh0b1JlbW92ZSk7XG4gICAgICBlbHNlIHJldHVybiByZW1vdmVCeVJlZmVyZW5jZSh0b1JlbW92ZSk7XG4gICAgfSxcblxuICAgIHJlbW92ZUJ5VGFnOiAodG9SZW1vdmU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZmlsdGVyQ2IgPSAoZW50cnk6IE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0Pik6IGJvb2xlYW4gPT4ge1xuICAgICAgICBjb25zdCB7IHRhZ3MsIG5hbWUgfSA9IGVudHJ5O1xuICAgICAgICBpZiAodGFncyAmJiB0YWdzLmluY2x1ZGVzKHRvUmVtb3ZlKSkge1xuICAgICAgICAgIGlmIChuYW1lKSBlbnRyaWVzTmFtZVNldC5kZWxldGUobmFtZSk7XG4gICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgICAgYWJzb2x1dGVFbnRyaWVzID0gYWJzb2x1dGVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgfSxcblxuICAgIGNvbmNhdDogPElucHV0VHlwZSBleHRlbmRzIElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgT3V0cHV0PihcbiAgICAgIGZyb206IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+XG4gICAgKTogTWlkZGxld2FyZVN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT4gPT4ge1xuICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVUbyhjb25zdHJ1Y3RTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+KCkpO1xuICAgICAgY2xvbmVkLnVzZShmcm9tKTtcbiAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfSxcblxuICAgIGFwcGx5VG9TdGFjazogY2xvbmVUbyxcblxuICAgIHJlc29sdmU6IDxJbnB1dFR5cGUgZXh0ZW5kcyBJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIE91dHB1dD4oXG4gICAgICBoYW5kbGVyOiBEZXNlcmlhbGl6ZUhhbmRsZXI8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPixcbiAgICAgIGNvbnRleHQ6IEhhbmRsZXJFeGVjdXRpb25Db250ZXh0XG4gICAgKTogSGFuZGxlcjxJbnB1dFR5cGUsIE91dHB1dFR5cGU+ID0+IHtcbiAgICAgIGZvciAoY29uc3QgbWlkZGxld2FyZSBvZiBnZXRNaWRkbGV3YXJlTGlzdCgpLnJldmVyc2UoKSkge1xuICAgICAgICBoYW5kbGVyID0gbWlkZGxld2FyZShoYW5kbGVyIGFzIEhhbmRsZXI8SW5wdXQsIE91dHB1dFR5cGU+LCBjb250ZXh0KSBhcyBhbnk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFuZGxlciBhcyBIYW5kbGVyPElucHV0VHlwZSwgT3V0cHV0VHlwZT47XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIHN0YWNrO1xufTtcblxuY29uc3Qgc3RlcFdlaWdodHM6IHsgW2tleSBpbiBTdGVwXTogbnVtYmVyIH0gPSB7XG4gIGluaXRpYWxpemU6IDUsXG4gIHNlcmlhbGl6ZTogNCxcbiAgYnVpbGQ6IDMsXG4gIGZpbmFsaXplUmVxdWVzdDogMixcbiAgZGVzZXJpYWxpemU6IDEsXG59O1xuXG5jb25zdCBwcmlvcml0eVdlaWdodHM6IHsgW2tleSBpbiBQcmlvcml0eV06IG51bWJlciB9ID0ge1xuICBoaWdoOiAzLFxuICBub3JtYWw6IDIsXG4gIGxvdzogMSxcbn07XG4iXX0=","import { constructStack } from \"@aws-sdk/middleware-stack\";\nvar Client = /** @class */ (function () {\n    function Client(config) {\n        this.middlewareStack = constructStack();\n        this.config = config;\n    }\n    Client.prototype.send = function (command, optionsOrCb, cb) {\n        var options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        var callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        var handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then(function (result) { return callback(null, result.output); }, function (err) { return callback(err); })\n                .catch(\n            // prevent any errors thrown in the callback from triggering an\n            // unhandled promise rejection\n            function () { });\n        }\n        else {\n            return handler(command).then(function (result) { return result.output; });\n        }\n    };\n    Client.prototype.destroy = function () {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n    return Client;\n}());\nexport { Client };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFlM0Q7SUFTRSxnQkFBWSxNQUFtQztRQUZ4QyxvQkFBZSxHQUErQyxjQUFjLEVBQTZCLENBQUM7UUFHL0csSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQWNELHFCQUFJLEdBQUosVUFDRSxPQUErRyxFQUMvRyxXQUFzRSxFQUN0RSxFQUEwQztRQUUxQyxJQUFNLE9BQU8sR0FBRyxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQzVFLElBQU0sUUFBUSxHQUFHLE9BQU8sV0FBVyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUUsV0FBcUQsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2pILElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsZUFBc0IsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzdGLElBQUksUUFBUSxFQUFFO1lBQ1osT0FBTyxDQUFDLE9BQU8sQ0FBQztpQkFDYixJQUFJLENBQ0gsVUFBQyxNQUFNLElBQUssT0FBQSxRQUFRLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBN0IsQ0FBNkIsRUFDekMsVUFBQyxHQUFRLElBQUssT0FBQSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQWIsQ0FBYSxDQUM1QjtpQkFDQSxLQUFLO1lBQ0osK0RBQStEO1lBQy9ELDhCQUE4QjtZQUM5QixjQUFPLENBQUMsQ0FDVCxDQUFDO1NBQ0w7YUFBTTtZQUNMLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLE1BQU0sSUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLEVBQWIsQ0FBYSxDQUFDLENBQUM7U0FDekQ7SUFDSCxDQUFDO0lBRUQsd0JBQU8sR0FBUDtRQUNFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTztZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQy9FLENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQyxBQXBERCxJQW9EQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnN0cnVjdFN0YWNrIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc3RhY2tcIjtcbmltcG9ydCB7IENsaWVudCBhcyBJQ2xpZW50LCBDb21tYW5kLCBNZXRhZGF0YUJlYXJlciwgTWlkZGxld2FyZVN0YWNrLCBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNtaXRoeUNvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+IHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55LCBIYW5kbGVyT3B0aW9ucz47XG4gIC8qKlxuICAgKiBUaGUgQVBJIHZlcnNpb24gc2V0IGludGVybmFsbHkgYnkgdGhlIFNESywgYW5kIGlzXG4gICAqIG5vdCBwbGFubmVkIHRvIGJlIHVzZWQgYnkgY3VzdG9tZXIgY29kZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICByZWFkb25seSBhcGlWZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz4gPSBTbWl0aHlDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPjtcblxuZXhwb3J0IGNsYXNzIENsaWVudDxcbiAgSGFuZGxlck9wdGlvbnMsXG4gIENsaWVudElucHV0IGV4dGVuZHMgb2JqZWN0LFxuICBDbGllbnRPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlcixcbiAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uIGV4dGVuZHMgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPlxuPiBpbXBsZW1lbnRzIElDbGllbnQ8Q2xpZW50SW5wdXQsIENsaWVudE91dHB1dCwgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uPlxue1xuICBwdWJsaWMgbWlkZGxld2FyZVN0YWNrOiBNaWRkbGV3YXJlU3RhY2s8Q2xpZW50SW5wdXQsIENsaWVudE91dHB1dD4gPSBjb25zdHJ1Y3RTdGFjazxDbGllbnRJbnB1dCwgQ2xpZW50T3V0cHV0PigpO1xuICByZWFkb25seSBjb25maWc6IFJlc29sdmVkQ2xpZW50Q29uZmlndXJhdGlvbjtcbiAgY29uc3RydWN0b3IoY29uZmlnOiBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24pIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPENsaWVudElucHV0LCBJbnB1dFR5cGUsIENsaWVudE91dHB1dCwgT3V0cHV0VHlwZSwgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPj4sXG4gICAgb3B0aW9ucz86IEhhbmRsZXJPcHRpb25zXG4gICk6IFByb21pc2U8T3V0cHV0VHlwZT47XG4gIHNlbmQ8SW5wdXRUeXBlIGV4dGVuZHMgQ2xpZW50SW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBDbGllbnRPdXRwdXQ+KFxuICAgIGNvbW1hbmQ6IENvbW1hbmQ8Q2xpZW50SW5wdXQsIElucHV0VHlwZSwgQ2xpZW50T3V0cHV0LCBPdXRwdXRUeXBlLCBTbWl0aHlSZXNvbHZlZENvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+PixcbiAgICBjYjogKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZFxuICApOiB2b2lkO1xuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPENsaWVudElucHV0LCBJbnB1dFR5cGUsIENsaWVudE91dHB1dCwgT3V0cHV0VHlwZSwgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPj4sXG4gICAgb3B0aW9uczogSGFuZGxlck9wdGlvbnMsXG4gICAgY2I6IChlcnI6IGFueSwgZGF0YT86IE91dHB1dFR5cGUpID0+IHZvaWRcbiAgKTogdm9pZDtcbiAgc2VuZDxJbnB1dFR5cGUgZXh0ZW5kcyBDbGllbnRJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIENsaWVudE91dHB1dD4oXG4gICAgY29tbWFuZDogQ29tbWFuZDxDbGllbnRJbnB1dCwgSW5wdXRUeXBlLCBDbGllbnRPdXRwdXQsIE91dHB1dFR5cGUsIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz4+LFxuICAgIG9wdGlvbnNPckNiPzogSGFuZGxlck9wdGlvbnMgfCAoKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZCksXG4gICAgY2I/OiAoZXJyOiBhbnksIGRhdGE/OiBPdXRwdXRUeXBlKSA9PiB2b2lkXG4gICk6IFByb21pc2U8T3V0cHV0VHlwZT4gfCB2b2lkIHtcbiAgICBjb25zdCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnNPckNiICE9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zT3JDYiA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjYWxsYmFjayA9IHR5cGVvZiBvcHRpb25zT3JDYiA9PT0gXCJmdW5jdGlvblwiID8gKG9wdGlvbnNPckNiIGFzIChlcnI6IGFueSwgZGF0YT86IE91dHB1dFR5cGUpID0+IHZvaWQpIDogY2I7XG4gICAgY29uc3QgaGFuZGxlciA9IGNvbW1hbmQucmVzb2x2ZU1pZGRsZXdhcmUodGhpcy5taWRkbGV3YXJlU3RhY2sgYXMgYW55LCB0aGlzLmNvbmZpZywgb3B0aW9ucyk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBoYW5kbGVyKGNvbW1hbmQpXG4gICAgICAgIC50aGVuKFxuICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKG51bGwsIHJlc3VsdC5vdXRwdXQpLFxuICAgICAgICAgIChlcnI6IGFueSkgPT4gY2FsbGJhY2soZXJyKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChcbiAgICAgICAgICAvLyBwcmV2ZW50IGFueSBlcnJvcnMgdGhyb3duIGluIHRoZSBjYWxsYmFjayBmcm9tIHRyaWdnZXJpbmcgYW5cbiAgICAgICAgICAvLyB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cbiAgICAgICAgICAoKSA9PiB7fVxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihjb21tYW5kKS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5vdXRwdXQpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3kpIHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3koKTtcbiAgfVxufVxuIl19","import { constructStack } from \"@aws-sdk/middleware-stack\";\nvar Command = /** @class */ (function () {\n    function Command() {\n        this.middlewareStack = constructStack();\n    }\n    return Command;\n}());\nexport { Command };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUczRDtJQUFBO1FBU1csb0JBQWUsR0FBb0MsY0FBYyxFQUFpQixDQUFDO0lBTTlGLENBQUM7SUFBRCxjQUFDO0FBQUQsQ0FBQyxBQWZELElBZUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25zdHJ1Y3RTdGFjayB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXN0YWNrXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzIElDb21tYW5kLCBIYW5kbGVyLCBNZXRhZGF0YUJlYXJlciwgTWlkZGxld2FyZVN0YWNrIGFzIElNaWRkbGV3YXJlU3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbW1hbmQ8XG4gIElucHV0IGV4dGVuZHMgQ2xpZW50SW5wdXQsXG4gIE91dHB1dCBleHRlbmRzIENsaWVudE91dHB1dCxcbiAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uLFxuICBDbGllbnRJbnB1dCBleHRlbmRzIG9iamVjdCA9IGFueSxcbiAgQ2xpZW50T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXIgPSBhbnlcbj4gaW1wbGVtZW50cyBJQ29tbWFuZDxDbGllbnRJbnB1dCwgSW5wdXQsIENsaWVudE91dHB1dCwgT3V0cHV0LCBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24+XG57XG4gIGFic3RyYWN0IGlucHV0OiBJbnB1dDtcbiAgcmVhZG9ubHkgbWlkZGxld2FyZVN0YWNrOiBJTWlkZGxld2FyZVN0YWNrPElucHV0LCBPdXRwdXQ+ID0gY29uc3RydWN0U3RhY2s8SW5wdXQsIE91dHB1dD4oKTtcbiAgYWJzdHJhY3QgcmVzb2x2ZU1pZGRsZXdhcmUoXG4gICAgc3RhY2s6IElNaWRkbGV3YXJlU3RhY2s8Q2xpZW50SW5wdXQsIENsaWVudE91dHB1dD4sXG4gICAgY29uZmlndXJhdGlvbjogUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uLFxuICAgIG9wdGlvbnM6IGFueVxuICApOiBIYW5kbGVyPElucHV0LCBPdXRwdXQ+O1xufVxuIl19","/**\n * Function that wraps encodeURIComponent to encode additional characters\n * to fully adhere to RFC 3986.\n */\nexport function extendedEncodeURIComponent(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLDBCQUEwQixDQUFDLEdBQVc7SUFDcEQsT0FBTyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztRQUM1RCxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMxRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZ1bmN0aW9uIHRoYXQgd3JhcHMgZW5jb2RlVVJJQ29tcG9uZW50IHRvIGVuY29kZSBhZGRpdGlvbmFsIGNoYXJhY3RlcnNcbiAqIHRvIGZ1bGx5IGFkaGVyZSB0byBSRkMgMzk4Ni5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuIl19","/**\n * The XML parser will set one K:V for a member that could\n * return multiple entries but only has one.\n */\nexport var getArrayIfSingleItem = function (mayBeArray) {\n    return Array.isArray(mayBeArray) ? mayBeArray : [mayBeArray];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWFycmF5LWlmLXNpbmdsZS1pdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dldC1hcnJheS1pZi1zaW5nbGUtaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxVQUFJLFVBQWE7SUFDbkQsT0FBQSxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQXJELENBQXFELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBYTUwgcGFyc2VyIHdpbGwgc2V0IG9uZSBLOlYgZm9yIGEgbWVtYmVyIHRoYXQgY291bGRcbiAqIHJldHVybiBtdWx0aXBsZSBlbnRyaWVzIGJ1dCBvbmx5IGhhcyBvbmUuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBcnJheUlmU2luZ2xlSXRlbSA9IDxUPihtYXlCZUFycmF5OiBUKTogVCB8IFRbXSA9PlxuICBBcnJheS5pc0FycmF5KG1heUJlQXJyYXkpID8gbWF5QmVBcnJheSA6IFttYXlCZUFycmF5XTtcbiJdfQ==","/**\n * Lazy String holder for JSON typed contents.\n */\nimport { __extends, __read, __spreadArray } from \"tslib\";\n/**\n * Because of https://github.com/microsoft/tslib/issues/95,\n * TS 'extends' shim doesn't support extending native types like String.\n * So here we create StringWrapper that duplicate everything from String\n * class including its prototype chain. So we can extend from here.\n */\n// @ts-ignore StringWrapper implementation is not a simple constructor\nexport var StringWrapper = function () {\n    //@ts-ignore 'this' cannot be assigned to any, but Object.getPrototypeOf accepts any\n    var Class = Object.getPrototypeOf(this).constructor;\n    var Constructor = Function.bind.apply(String, __spreadArray([null], __read(arguments)));\n    //@ts-ignore Call wrapped String constructor directly, don't bother typing it.\n    var instance = new Constructor();\n    Object.setPrototypeOf(instance, Class.prototype);\n    return instance;\n};\nStringWrapper.prototype = Object.create(String.prototype, {\n    constructor: {\n        value: StringWrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true,\n    },\n});\nObject.setPrototypeOf(StringWrapper, String);\nvar LazyJsonString = /** @class */ (function (_super) {\n    __extends(LazyJsonString, _super);\n    function LazyJsonString() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LazyJsonString.prototype.deserializeJSON = function () {\n        return JSON.parse(_super.prototype.toString.call(this));\n    };\n    LazyJsonString.prototype.toJSON = function () {\n        return _super.prototype.toString.call(this);\n    };\n    LazyJsonString.fromObject = function (object) {\n        if (object instanceof LazyJsonString) {\n            return object;\n        }\n        else if (object instanceof String || typeof object === \"string\") {\n            return new LazyJsonString(object);\n        }\n        return new LazyJsonString(JSON.stringify(object));\n    };\n    return LazyJsonString;\n}(StringWrapper));\nexport { LazyJsonString };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF6eS1qc29uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xhenktanNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRzs7QUFNSDs7Ozs7R0FLRztBQUNILHNFQUFzRTtBQUN0RSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQWtCO0lBQzFDLG9GQUFvRjtJQUNwRixJQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUN0RCxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLGlCQUFHLElBQVcsVUFBSyxTQUFTLEdBQUUsQ0FBQztJQUM3RSw4RUFBOEU7SUFDOUUsSUFBTSxRQUFRLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztJQUNuQyxNQUFNLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDakQsT0FBTyxRQUFrQixDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUNGLGFBQWEsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO0lBQ3hELFdBQVcsRUFBRTtRQUNYLEtBQUssRUFBRSxhQUFhO1FBQ3BCLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLFFBQVEsRUFBRSxJQUFJO1FBQ2QsWUFBWSxFQUFFLElBQUk7S0FDbkI7Q0FDRixDQUFDLENBQUM7QUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUU3QztJQUFvQyxrQ0FBYTtJQUFqRDs7SUFpQkEsQ0FBQztJQWhCQyx3Q0FBZSxHQUFmO1FBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFNLFFBQVEsV0FBRSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELCtCQUFNLEdBQU47UUFDRSxPQUFPLGlCQUFNLFFBQVEsV0FBRSxDQUFDO0lBQzFCLENBQUM7SUFFTSx5QkFBVSxHQUFqQixVQUFrQixNQUFXO1FBQzNCLElBQUksTUFBTSxZQUFZLGNBQWMsRUFBRTtZQUNwQyxPQUFPLE1BQU0sQ0FBQztTQUNmO2FBQU0sSUFBSSxNQUFNLFlBQVksTUFBTSxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtZQUNqRSxPQUFPLElBQUksY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsT0FBTyxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUNILHFCQUFDO0FBQUQsQ0FBQyxBQWpCRCxDQUFvQyxhQUFhLEdBaUJoRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGF6eSBTdHJpbmcgaG9sZGVyIGZvciBKU09OIHR5cGVkIGNvbnRlbnRzLlxuICovXG5cbmludGVyZmFjZSBTdHJpbmdXcmFwcGVyIHtcbiAgbmV3IChhcmc6IGFueSk6IFN0cmluZztcbn1cblxuLyoqXG4gKiBCZWNhdXNlIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdHNsaWIvaXNzdWVzLzk1LFxuICogVFMgJ2V4dGVuZHMnIHNoaW0gZG9lc24ndCBzdXBwb3J0IGV4dGVuZGluZyBuYXRpdmUgdHlwZXMgbGlrZSBTdHJpbmcuXG4gKiBTbyBoZXJlIHdlIGNyZWF0ZSBTdHJpbmdXcmFwcGVyIHRoYXQgZHVwbGljYXRlIGV2ZXJ5dGhpbmcgZnJvbSBTdHJpbmdcbiAqIGNsYXNzIGluY2x1ZGluZyBpdHMgcHJvdG90eXBlIGNoYWluLiBTbyB3ZSBjYW4gZXh0ZW5kIGZyb20gaGVyZS5cbiAqL1xuLy8gQHRzLWlnbm9yZSBTdHJpbmdXcmFwcGVyIGltcGxlbWVudGF0aW9uIGlzIG5vdCBhIHNpbXBsZSBjb25zdHJ1Y3RvclxuZXhwb3J0IGNvbnN0IFN0cmluZ1dyYXBwZXI6IFN0cmluZ1dyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8vQHRzLWlnbm9yZSAndGhpcycgY2Fubm90IGJlIGFzc2lnbmVkIHRvIGFueSwgYnV0IE9iamVjdC5nZXRQcm90b3R5cGVPZiBhY2NlcHRzIGFueVxuICBjb25zdCBDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcbiAgY29uc3QgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFN0cmluZywgW251bGwgYXMgYW55LCAuLi5hcmd1bWVudHNdKTtcbiAgLy9AdHMtaWdub3JlIENhbGwgd3JhcHBlZCBTdHJpbmcgY29uc3RydWN0b3IgZGlyZWN0bHksIGRvbid0IGJvdGhlciB0eXBpbmcgaXQuXG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgcmV0dXJuIGluc3RhbmNlIGFzIFN0cmluZztcbn07XG5TdHJpbmdXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RyaW5nLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3Rvcjoge1xuICAgIHZhbHVlOiBTdHJpbmdXcmFwcGVyLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgfSxcbn0pO1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0cmluZ1dyYXBwZXIsIFN0cmluZyk7XG5cbmV4cG9ydCBjbGFzcyBMYXp5SnNvblN0cmluZyBleHRlbmRzIFN0cmluZ1dyYXBwZXIge1xuICBkZXNlcmlhbGl6ZUpTT04oKTogYW55IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdXBlci50b1N0cmluZygpKTtcbiAgfVxuXG4gIHRvSlNPTigpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci50b1N0cmluZygpO1xuICB9XG5cbiAgc3RhdGljIGZyb21PYmplY3Qob2JqZWN0OiBhbnkpOiBMYXp5SnNvblN0cmluZyB7XG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIExhenlKc29uU3RyaW5nKSB7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0gZWxzZSBpZiAob2JqZWN0IGluc3RhbmNlb2YgU3RyaW5nIHx8IHR5cGVvZiBvYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBuZXcgTGF6eUpzb25TdHJpbmcob2JqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcbiAgfVxufVxuIl19","/**\n * Give an input string, strictly parses a boolean value.\n *\n * @param value The boolean string to parse.\n * @returns true for \"true\", false for \"false\", otherwise an error is thrown.\n */\nexport var parseBoolean = function (value) {\n    switch (value) {\n        case \"true\":\n            return true;\n        case \"false\":\n            return false;\n        default:\n            throw new Error(\"Unable to parse boolean value \\\"\" + value + \"\\\"\");\n    }\n};\n/*\n * Asserts a value is a boolean and returns it.\n *\n * @param value A value that is expected to be a boolean.\n * @returns The value if it's a boolean, undefined if it's null/undefined,\n *   otherwise an error is thrown.\n */\nexport var expectBoolean = function (value) {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    throw new TypeError(\"Expected boolean, got \" + typeof value);\n};\n/**\n * Asserts a value is a number and returns it.\n *\n * @param value A value that is expected to be a number.\n * @returns The value if it's a number, undefined if it's null/undefined,\n *   otherwise an error is thrown.\n */\nexport var expectNumber = function (value) {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    throw new TypeError(\"Expected number, got \" + typeof value);\n};\n/**\n * Asserts a value is a string and returns it.\n *\n * @param value A value that is expected to be a string.\n * @returns The value if it's a string, undefined if it's null/undefined,\n *   otherwise an error is thrown.\n */\nexport var expectString = function (value) {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    throw new TypeError(\"Expected string, got \" + typeof value);\n};\n/**\n * Asserts a value is a number and returns it, and also converts string\n * representations of non-numeric floats into Numbers.\n *\n * @param value A number or string representation of a non-numeric float.\n * @returns The value as a number, undefined if it's null/undefined,\n *     otherwise an error is thrown.\n */\nexport var handleFloat = function (value) {\n    if (typeof value == \"string\") {\n        switch (value) {\n            case \"NaN\":\n                return NaN;\n            case \"Infinity\":\n                return Infinity;\n            case \"-Infinity\":\n                return -Infinity;\n            default:\n                throw new Error(\"Unable to parse float value: \" + value);\n        }\n    }\n    return expectNumber(value);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2UtdXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcGFyc2UtdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSCxNQUFNLENBQUMsSUFBTSxZQUFZLEdBQUcsVUFBQyxLQUFhO0lBQ3hDLFFBQVEsS0FBSyxFQUFFO1FBQ2IsS0FBSyxNQUFNO1lBQ1QsT0FBTyxJQUFJLENBQUM7UUFDZCxLQUFLLE9BQU87WUFDVixPQUFPLEtBQUssQ0FBQztRQUNmO1lBQ0UsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBa0MsS0FBSyxPQUFHLENBQUMsQ0FBQztLQUMvRDtBQUNILENBQUMsQ0FBQztBQUVGOzs7Ozs7R0FNRztBQUNILE1BQU0sQ0FBQyxJQUFNLGFBQWEsR0FBRyxVQUFDLEtBQVU7SUFDdEMsSUFBSSxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7UUFDekMsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFDRCxJQUFJLE9BQU8sS0FBSyxLQUFLLFNBQVMsRUFBRTtRQUM5QixPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsTUFBTSxJQUFJLFNBQVMsQ0FBQywyQkFBeUIsT0FBTyxLQUFPLENBQUMsQ0FBQztBQUMvRCxDQUFDLENBQUM7QUFFRjs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxZQUFZLEdBQUcsVUFBQyxLQUFVO0lBQ3JDLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ3pDLE9BQU8sU0FBUyxDQUFDO0tBQ2xCO0lBQ0QsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7UUFDN0IsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUNELE1BQU0sSUFBSSxTQUFTLENBQUMsMEJBQXdCLE9BQU8sS0FBTyxDQUFDLENBQUM7QUFDOUQsQ0FBQyxDQUFDO0FBRUY7Ozs7OztHQU1HO0FBQ0gsTUFBTSxDQUFDLElBQU0sWUFBWSxHQUFHLFVBQUMsS0FBVTtJQUNyQyxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtRQUN6QyxPQUFPLFNBQVMsQ0FBQztLQUNsQjtJQUNELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1FBQzdCLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFDRCxNQUFNLElBQUksU0FBUyxDQUFDLDBCQUF3QixPQUFPLEtBQU8sQ0FBQyxDQUFDO0FBQzlELENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxXQUFXLEdBQUcsVUFBQyxLQUFzQjtJQUNoRCxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtRQUM1QixRQUFRLEtBQUssRUFBRTtZQUNiLEtBQUssS0FBSztnQkFDUixPQUFPLEdBQUcsQ0FBQztZQUNiLEtBQUssVUFBVTtnQkFDYixPQUFPLFFBQVEsQ0FBQztZQUNsQixLQUFLLFdBQVc7Z0JBQ2QsT0FBTyxDQUFDLFFBQVEsQ0FBQztZQUNuQjtnQkFDRSxNQUFNLElBQUksS0FBSyxDQUFDLGtDQUFnQyxLQUFPLENBQUMsQ0FBQztTQUM1RDtLQUNGO0lBQ0QsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHaXZlIGFuIGlucHV0IHN0cmluZywgc3RyaWN0bHkgcGFyc2VzIGEgYm9vbGVhbiB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGJvb2xlYW4gc3RyaW5nIHRvIHBhcnNlLlxuICogQHJldHVybnMgdHJ1ZSBmb3IgXCJ0cnVlXCIsIGZhbHNlIGZvciBcImZhbHNlXCIsIG90aGVyd2lzZSBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZUJvb2xlYW4gPSAodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSBcInRydWVcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBib29sZWFuIHZhbHVlIFwiJHt2YWx1ZX1cImApO1xuICB9XG59O1xuXG4vKlxuICogQXNzZXJ0cyBhIHZhbHVlIGlzIGEgYm9vbGVhbiBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgQSB2YWx1ZSB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlIGEgYm9vbGVhbi5cbiAqIEByZXR1cm5zIFRoZSB2YWx1ZSBpZiBpdCdzIGEgYm9vbGVhbiwgdW5kZWZpbmVkIGlmIGl0J3MgbnVsbC91bmRlZmluZWQsXG4gKiAgIG90aGVyd2lzZSBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBjb25zdCBleHBlY3RCb29sZWFuID0gKHZhbHVlOiBhbnkpOiBib29sZWFuIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGJvb2xlYW4sIGdvdCAke3R5cGVvZiB2YWx1ZX1gKTtcbn07XG5cbi8qKlxuICogQXNzZXJ0cyBhIHZhbHVlIGlzIGEgbnVtYmVyIGFuZCByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBBIHZhbHVlIHRoYXQgaXMgZXhwZWN0ZWQgdG8gYmUgYSBudW1iZXIuXG4gKiBAcmV0dXJucyBUaGUgdmFsdWUgaWYgaXQncyBhIG51bWJlciwgdW5kZWZpbmVkIGlmIGl0J3MgbnVsbC91bmRlZmluZWQsXG4gKiAgIG90aGVyd2lzZSBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBjb25zdCBleHBlY3ROdW1iZXIgPSAodmFsdWU6IGFueSk6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG51bWJlciwgZ290ICR7dHlwZW9mIHZhbHVlfWApO1xufTtcblxuLyoqXG4gKiBBc3NlcnRzIGEgdmFsdWUgaXMgYSBzdHJpbmcgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHZhbHVlIEEgdmFsdWUgdGhhdCBpcyBleHBlY3RlZCB0byBiZSBhIHN0cmluZy5cbiAqIEByZXR1cm5zIFRoZSB2YWx1ZSBpZiBpdCdzIGEgc3RyaW5nLCB1bmRlZmluZWQgaWYgaXQncyBudWxsL3VuZGVmaW5lZCxcbiAqICAgb3RoZXJ3aXNlIGFuIGVycm9yIGlzIHRocm93bi5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGVjdFN0cmluZyA9ICh2YWx1ZTogYW55KTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgc3RyaW5nLCBnb3QgJHt0eXBlb2YgdmFsdWV9YCk7XG59O1xuXG4vKipcbiAqIEFzc2VydHMgYSB2YWx1ZSBpcyBhIG51bWJlciBhbmQgcmV0dXJucyBpdCwgYW5kIGFsc28gY29udmVydHMgc3RyaW5nXG4gKiByZXByZXNlbnRhdGlvbnMgb2Ygbm9uLW51bWVyaWMgZmxvYXRzIGludG8gTnVtYmVycy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgQSBudW1iZXIgb3Igc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbm9uLW51bWVyaWMgZmxvYXQuXG4gKiBAcmV0dXJucyBUaGUgdmFsdWUgYXMgYSBudW1iZXIsIHVuZGVmaW5lZCBpZiBpdCdzIG51bGwvdW5kZWZpbmVkLFxuICogICAgIG90aGVyd2lzZSBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVGbG9hdCA9ICh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBcIk5hTlwiOlxuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgY2FzZSBcIkluZmluaXR5XCI6XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgIGNhc2UgXCItSW5maW5pdHlcIjpcbiAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIGZsb2F0IHZhbHVlOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZXhwZWN0TnVtYmVyKHZhbHVlKTtcbn07XG4iXX0=","/**\n * Serializes a number, turning non-numeric values into strings.\n *\n * @param value The number to serialize.\n * @returns A number, or a string if the given number was non-numeric.\n */\nexport var serializeFloat = function (value) {\n    // NaN is not equal to everything, including itself.\n    if (value !== value) {\n        return \"NaN\";\n    }\n    switch (value) {\n        case Infinity:\n            return \"Infinity\";\n        case -Infinity:\n            return \"-Infinity\";\n        default:\n            return value;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Nlci11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRyxVQUFDLEtBQWE7SUFDMUMsb0RBQW9EO0lBQ3BELElBQUksS0FBSyxLQUFLLEtBQUssRUFBRTtRQUNuQixPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsUUFBUSxLQUFLLEVBQUU7UUFDYixLQUFLLFFBQVE7WUFDWCxPQUFPLFVBQVUsQ0FBQztRQUNwQixLQUFLLENBQUMsUUFBUTtZQUNaLE9BQU8sV0FBVyxDQUFDO1FBQ3JCO1lBQ0UsT0FBTyxLQUFLLENBQUM7S0FDaEI7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlcmlhbGl6ZXMgYSBudW1iZXIsIHR1cm5pbmcgbm9uLW51bWVyaWMgdmFsdWVzIGludG8gc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIG51bWJlciB0byBzZXJpYWxpemUuXG4gKiBAcmV0dXJucyBBIG51bWJlciwgb3IgYSBzdHJpbmcgaWYgdGhlIGdpdmVuIG51bWJlciB3YXMgbm9uLW51bWVyaWMuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVGbG9hdCA9ICh2YWx1ZTogbnVtYmVyKTogc3RyaW5nIHwgbnVtYmVyID0+IHtcbiAgLy8gTmFOIGlzIG5vdCBlcXVhbCB0byBldmVyeXRoaW5nLCBpbmNsdWRpbmcgaXRzZWxmLlxuICBpZiAodmFsdWUgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIFwiTmFOXCI7XG4gIH1cbiAgc3dpdGNoICh2YWx1ZSkge1xuICAgIGNhc2UgSW5maW5pdHk6XG4gICAgICByZXR1cm4gXCJJbmZpbml0eVwiO1xuICAgIGNhc2UgLUluZmluaXR5OlxuICAgICAgcmV0dXJuIFwiLUluZmluaXR5XCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcbiJdfQ==","export var SENSITIVE_STRING = \"***SensitiveInformation***\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyw0QkFBNEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTRU5TSVRJVkVfU1RSSU5HID0gXCIqKipTZW5zaXRpdmVJbmZvcm1hdGlvbioqKlwiO1xuIl19","import { __assign } from \"tslib\";\nimport { SENSITIVE_STRING } from \"@aws-sdk/smithy-client\";\nexport var AccessDeniedException;\n(function (AccessDeniedException) {\n    /**\n     * @internal\n     */\n    AccessDeniedException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AccessDeniedException || (AccessDeniedException = {}));\nexport var AssociateTrackerConsumerRequest;\n(function (AssociateTrackerConsumerRequest) {\n    /**\n     * @internal\n     */\n    AssociateTrackerConsumerRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AssociateTrackerConsumerRequest || (AssociateTrackerConsumerRequest = {}));\nexport var AssociateTrackerConsumerResponse;\n(function (AssociateTrackerConsumerResponse) {\n    /**\n     * @internal\n     */\n    AssociateTrackerConsumerResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AssociateTrackerConsumerResponse || (AssociateTrackerConsumerResponse = {}));\nexport var ConflictException;\n(function (ConflictException) {\n    /**\n     * @internal\n     */\n    ConflictException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ConflictException || (ConflictException = {}));\nexport var InternalServerException;\n(function (InternalServerException) {\n    /**\n     * @internal\n     */\n    InternalServerException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(InternalServerException || (InternalServerException = {}));\nexport var ResourceNotFoundException;\n(function (ResourceNotFoundException) {\n    /**\n     * @internal\n     */\n    ResourceNotFoundException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ResourceNotFoundException || (ResourceNotFoundException = {}));\nexport var ThrottlingException;\n(function (ThrottlingException) {\n    /**\n     * @internal\n     */\n    ThrottlingException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ThrottlingException || (ThrottlingException = {}));\nexport var ValidationExceptionField;\n(function (ValidationExceptionField) {\n    /**\n     * @internal\n     */\n    ValidationExceptionField.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ValidationExceptionField || (ValidationExceptionField = {}));\nexport var ValidationException;\n(function (ValidationException) {\n    /**\n     * @internal\n     */\n    ValidationException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ValidationException || (ValidationException = {}));\nexport var BatchDeleteDevicePositionHistoryRequest;\n(function (BatchDeleteDevicePositionHistoryRequest) {\n    /**\n     * @internal\n     */\n    BatchDeleteDevicePositionHistoryRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchDeleteDevicePositionHistoryRequest || (BatchDeleteDevicePositionHistoryRequest = {}));\nexport var BatchItemError;\n(function (BatchItemError) {\n    /**\n     * @internal\n     */\n    BatchItemError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchItemError || (BatchItemError = {}));\nexport var BatchDeleteDevicePositionHistoryError;\n(function (BatchDeleteDevicePositionHistoryError) {\n    /**\n     * @internal\n     */\n    BatchDeleteDevicePositionHistoryError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchDeleteDevicePositionHistoryError || (BatchDeleteDevicePositionHistoryError = {}));\nexport var BatchDeleteDevicePositionHistoryResponse;\n(function (BatchDeleteDevicePositionHistoryResponse) {\n    /**\n     * @internal\n     */\n    BatchDeleteDevicePositionHistoryResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchDeleteDevicePositionHistoryResponse || (BatchDeleteDevicePositionHistoryResponse = {}));\nexport var BatchDeleteGeofenceRequest;\n(function (BatchDeleteGeofenceRequest) {\n    /**\n     * @internal\n     */\n    BatchDeleteGeofenceRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchDeleteGeofenceRequest || (BatchDeleteGeofenceRequest = {}));\nexport var BatchDeleteGeofenceError;\n(function (BatchDeleteGeofenceError) {\n    /**\n     * @internal\n     */\n    BatchDeleteGeofenceError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchDeleteGeofenceError || (BatchDeleteGeofenceError = {}));\nexport var BatchDeleteGeofenceResponse;\n(function (BatchDeleteGeofenceResponse) {\n    /**\n     * @internal\n     */\n    BatchDeleteGeofenceResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchDeleteGeofenceResponse || (BatchDeleteGeofenceResponse = {}));\nexport var DevicePositionUpdate;\n(function (DevicePositionUpdate) {\n    /**\n     * @internal\n     */\n    DevicePositionUpdate.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Position && { Position: SENSITIVE_STRING }))); };\n})(DevicePositionUpdate || (DevicePositionUpdate = {}));\nexport var BatchEvaluateGeofencesRequest;\n(function (BatchEvaluateGeofencesRequest) {\n    /**\n     * @internal\n     */\n    BatchEvaluateGeofencesRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.DevicePositionUpdates && {\n        DevicePositionUpdates: obj.DevicePositionUpdates.map(function (item) { return DevicePositionUpdate.filterSensitiveLog(item); }),\n    }))); };\n})(BatchEvaluateGeofencesRequest || (BatchEvaluateGeofencesRequest = {}));\nexport var BatchEvaluateGeofencesError;\n(function (BatchEvaluateGeofencesError) {\n    /**\n     * @internal\n     */\n    BatchEvaluateGeofencesError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchEvaluateGeofencesError || (BatchEvaluateGeofencesError = {}));\nexport var BatchEvaluateGeofencesResponse;\n(function (BatchEvaluateGeofencesResponse) {\n    /**\n     * @internal\n     */\n    BatchEvaluateGeofencesResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchEvaluateGeofencesResponse || (BatchEvaluateGeofencesResponse = {}));\nexport var BatchGetDevicePositionRequest;\n(function (BatchGetDevicePositionRequest) {\n    /**\n     * @internal\n     */\n    BatchGetDevicePositionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchGetDevicePositionRequest || (BatchGetDevicePositionRequest = {}));\nexport var DevicePosition;\n(function (DevicePosition) {\n    /**\n     * @internal\n     */\n    DevicePosition.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Position && { Position: SENSITIVE_STRING }))); };\n})(DevicePosition || (DevicePosition = {}));\nexport var BatchGetDevicePositionError;\n(function (BatchGetDevicePositionError) {\n    /**\n     * @internal\n     */\n    BatchGetDevicePositionError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchGetDevicePositionError || (BatchGetDevicePositionError = {}));\nexport var BatchGetDevicePositionResponse;\n(function (BatchGetDevicePositionResponse) {\n    /**\n     * @internal\n     */\n    BatchGetDevicePositionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.DevicePositions && {\n        DevicePositions: obj.DevicePositions.map(function (item) { return DevicePosition.filterSensitiveLog(item); }),\n    }))); };\n})(BatchGetDevicePositionResponse || (BatchGetDevicePositionResponse = {}));\nexport var GeofenceGeometry;\n(function (GeofenceGeometry) {\n    /**\n     * @internal\n     */\n    GeofenceGeometry.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Polygon && { Polygon: obj.Polygon.map(function (item) { return SENSITIVE_STRING; }) }))); };\n})(GeofenceGeometry || (GeofenceGeometry = {}));\nexport var BatchPutGeofenceRequestEntry;\n(function (BatchPutGeofenceRequestEntry) {\n    /**\n     * @internal\n     */\n    BatchPutGeofenceRequestEntry.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Geometry && { Geometry: GeofenceGeometry.filterSensitiveLog(obj.Geometry) }))); };\n})(BatchPutGeofenceRequestEntry || (BatchPutGeofenceRequestEntry = {}));\nexport var BatchPutGeofenceRequest;\n(function (BatchPutGeofenceRequest) {\n    /**\n     * @internal\n     */\n    BatchPutGeofenceRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Entries && { Entries: obj.Entries.map(function (item) { return BatchPutGeofenceRequestEntry.filterSensitiveLog(item); }) }))); };\n})(BatchPutGeofenceRequest || (BatchPutGeofenceRequest = {}));\nexport var BatchPutGeofenceError;\n(function (BatchPutGeofenceError) {\n    /**\n     * @internal\n     */\n    BatchPutGeofenceError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchPutGeofenceError || (BatchPutGeofenceError = {}));\nexport var BatchPutGeofenceSuccess;\n(function (BatchPutGeofenceSuccess) {\n    /**\n     * @internal\n     */\n    BatchPutGeofenceSuccess.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchPutGeofenceSuccess || (BatchPutGeofenceSuccess = {}));\nexport var BatchPutGeofenceResponse;\n(function (BatchPutGeofenceResponse) {\n    /**\n     * @internal\n     */\n    BatchPutGeofenceResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchPutGeofenceResponse || (BatchPutGeofenceResponse = {}));\nexport var BatchUpdateDevicePositionRequest;\n(function (BatchUpdateDevicePositionRequest) {\n    /**\n     * @internal\n     */\n    BatchUpdateDevicePositionRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Updates && { Updates: obj.Updates.map(function (item) { return DevicePositionUpdate.filterSensitiveLog(item); }) }))); };\n})(BatchUpdateDevicePositionRequest || (BatchUpdateDevicePositionRequest = {}));\nexport var BatchUpdateDevicePositionError;\n(function (BatchUpdateDevicePositionError) {\n    /**\n     * @internal\n     */\n    BatchUpdateDevicePositionError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchUpdateDevicePositionError || (BatchUpdateDevicePositionError = {}));\nexport var BatchUpdateDevicePositionResponse;\n(function (BatchUpdateDevicePositionResponse) {\n    /**\n     * @internal\n     */\n    BatchUpdateDevicePositionResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BatchUpdateDevicePositionResponse || (BatchUpdateDevicePositionResponse = {}));\nexport var CalculateRouteCarModeOptions;\n(function (CalculateRouteCarModeOptions) {\n    /**\n     * @internal\n     */\n    CalculateRouteCarModeOptions.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CalculateRouteCarModeOptions || (CalculateRouteCarModeOptions = {}));\nexport var TruckDimensions;\n(function (TruckDimensions) {\n    /**\n     * @internal\n     */\n    TruckDimensions.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(TruckDimensions || (TruckDimensions = {}));\nexport var TruckWeight;\n(function (TruckWeight) {\n    /**\n     * @internal\n     */\n    TruckWeight.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(TruckWeight || (TruckWeight = {}));\nexport var CalculateRouteTruckModeOptions;\n(function (CalculateRouteTruckModeOptions) {\n    /**\n     * @internal\n     */\n    CalculateRouteTruckModeOptions.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CalculateRouteTruckModeOptions || (CalculateRouteTruckModeOptions = {}));\nexport var CalculateRouteRequest;\n(function (CalculateRouteRequest) {\n    /**\n     * @internal\n     */\n    CalculateRouteRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.DeparturePosition && { DeparturePosition: SENSITIVE_STRING })), (obj.DestinationPosition && { DestinationPosition: SENSITIVE_STRING })), (obj.WaypointPositions && { WaypointPositions: SENSITIVE_STRING }))); };\n})(CalculateRouteRequest || (CalculateRouteRequest = {}));\nexport var LegGeometry;\n(function (LegGeometry) {\n    /**\n     * @internal\n     */\n    LegGeometry.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.LineString && { LineString: SENSITIVE_STRING }))); };\n})(LegGeometry || (LegGeometry = {}));\nexport var Step;\n(function (Step) {\n    /**\n     * @internal\n     */\n    Step.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.StartPosition && { StartPosition: SENSITIVE_STRING })), (obj.EndPosition && { EndPosition: SENSITIVE_STRING }))); };\n})(Step || (Step = {}));\nexport var Leg;\n(function (Leg) {\n    /**\n     * @internal\n     */\n    Leg.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign({}, obj), (obj.StartPosition && { StartPosition: SENSITIVE_STRING })), (obj.EndPosition && { EndPosition: SENSITIVE_STRING })), (obj.Geometry && { Geometry: LegGeometry.filterSensitiveLog(obj.Geometry) })), (obj.Steps && { Steps: obj.Steps.map(function (item) { return Step.filterSensitiveLog(item); }) }))); };\n})(Leg || (Leg = {}));\nexport var CalculateRouteSummary;\n(function (CalculateRouteSummary) {\n    /**\n     * @internal\n     */\n    CalculateRouteSummary.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.RouteBBox && { RouteBBox: SENSITIVE_STRING }))); };\n})(CalculateRouteSummary || (CalculateRouteSummary = {}));\nexport var CalculateRouteResponse;\n(function (CalculateRouteResponse) {\n    /**\n     * @internal\n     */\n    CalculateRouteResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.Legs && { Legs: obj.Legs.map(function (item) { return Leg.filterSensitiveLog(item); }) })), (obj.Summary && { Summary: CalculateRouteSummary.filterSensitiveLog(obj.Summary) }))); };\n})(CalculateRouteResponse || (CalculateRouteResponse = {}));\nexport var CreateGeofenceCollectionRequest;\n(function (CreateGeofenceCollectionRequest) {\n    /**\n     * @internal\n     */\n    CreateGeofenceCollectionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateGeofenceCollectionRequest || (CreateGeofenceCollectionRequest = {}));\nexport var CreateGeofenceCollectionResponse;\n(function (CreateGeofenceCollectionResponse) {\n    /**\n     * @internal\n     */\n    CreateGeofenceCollectionResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateGeofenceCollectionResponse || (CreateGeofenceCollectionResponse = {}));\nexport var MapConfiguration;\n(function (MapConfiguration) {\n    /**\n     * @internal\n     */\n    MapConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(MapConfiguration || (MapConfiguration = {}));\nexport var CreateMapRequest;\n(function (CreateMapRequest) {\n    /**\n     * @internal\n     */\n    CreateMapRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateMapRequest || (CreateMapRequest = {}));\nexport var CreateMapResponse;\n(function (CreateMapResponse) {\n    /**\n     * @internal\n     */\n    CreateMapResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateMapResponse || (CreateMapResponse = {}));\nexport var DataSourceConfiguration;\n(function (DataSourceConfiguration) {\n    /**\n     * @internal\n     */\n    DataSourceConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DataSourceConfiguration || (DataSourceConfiguration = {}));\nexport var CreatePlaceIndexRequest;\n(function (CreatePlaceIndexRequest) {\n    /**\n     * @internal\n     */\n    CreatePlaceIndexRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreatePlaceIndexRequest || (CreatePlaceIndexRequest = {}));\nexport var CreatePlaceIndexResponse;\n(function (CreatePlaceIndexResponse) {\n    /**\n     * @internal\n     */\n    CreatePlaceIndexResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreatePlaceIndexResponse || (CreatePlaceIndexResponse = {}));\nexport var CreateRouteCalculatorRequest;\n(function (CreateRouteCalculatorRequest) {\n    /**\n     * @internal\n     */\n    CreateRouteCalculatorRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateRouteCalculatorRequest || (CreateRouteCalculatorRequest = {}));\nexport var CreateRouteCalculatorResponse;\n(function (CreateRouteCalculatorResponse) {\n    /**\n     * @internal\n     */\n    CreateRouteCalculatorResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateRouteCalculatorResponse || (CreateRouteCalculatorResponse = {}));\nexport var CreateTrackerRequest;\n(function (CreateTrackerRequest) {\n    /**\n     * @internal\n     */\n    CreateTrackerRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateTrackerRequest || (CreateTrackerRequest = {}));\nexport var CreateTrackerResponse;\n(function (CreateTrackerResponse) {\n    /**\n     * @internal\n     */\n    CreateTrackerResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateTrackerResponse || (CreateTrackerResponse = {}));\nexport var DeleteGeofenceCollectionRequest;\n(function (DeleteGeofenceCollectionRequest) {\n    /**\n     * @internal\n     */\n    DeleteGeofenceCollectionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteGeofenceCollectionRequest || (DeleteGeofenceCollectionRequest = {}));\nexport var DeleteGeofenceCollectionResponse;\n(function (DeleteGeofenceCollectionResponse) {\n    /**\n     * @internal\n     */\n    DeleteGeofenceCollectionResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteGeofenceCollectionResponse || (DeleteGeofenceCollectionResponse = {}));\nexport var DeleteMapRequest;\n(function (DeleteMapRequest) {\n    /**\n     * @internal\n     */\n    DeleteMapRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteMapRequest || (DeleteMapRequest = {}));\nexport var DeleteMapResponse;\n(function (DeleteMapResponse) {\n    /**\n     * @internal\n     */\n    DeleteMapResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteMapResponse || (DeleteMapResponse = {}));\nexport var DeletePlaceIndexRequest;\n(function (DeletePlaceIndexRequest) {\n    /**\n     * @internal\n     */\n    DeletePlaceIndexRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeletePlaceIndexRequest || (DeletePlaceIndexRequest = {}));\nexport var DeletePlaceIndexResponse;\n(function (DeletePlaceIndexResponse) {\n    /**\n     * @internal\n     */\n    DeletePlaceIndexResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeletePlaceIndexResponse || (DeletePlaceIndexResponse = {}));\nexport var DeleteRouteCalculatorRequest;\n(function (DeleteRouteCalculatorRequest) {\n    /**\n     * @internal\n     */\n    DeleteRouteCalculatorRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteRouteCalculatorRequest || (DeleteRouteCalculatorRequest = {}));\nexport var DeleteRouteCalculatorResponse;\n(function (DeleteRouteCalculatorResponse) {\n    /**\n     * @internal\n     */\n    DeleteRouteCalculatorResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteRouteCalculatorResponse || (DeleteRouteCalculatorResponse = {}));\nexport var DeleteTrackerRequest;\n(function (DeleteTrackerRequest) {\n    /**\n     * @internal\n     */\n    DeleteTrackerRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteTrackerRequest || (DeleteTrackerRequest = {}));\nexport var DeleteTrackerResponse;\n(function (DeleteTrackerResponse) {\n    /**\n     * @internal\n     */\n    DeleteTrackerResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteTrackerResponse || (DeleteTrackerResponse = {}));\nexport var DescribeGeofenceCollectionRequest;\n(function (DescribeGeofenceCollectionRequest) {\n    /**\n     * @internal\n     */\n    DescribeGeofenceCollectionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeGeofenceCollectionRequest || (DescribeGeofenceCollectionRequest = {}));\nexport var DescribeGeofenceCollectionResponse;\n(function (DescribeGeofenceCollectionResponse) {\n    /**\n     * @internal\n     */\n    DescribeGeofenceCollectionResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeGeofenceCollectionResponse || (DescribeGeofenceCollectionResponse = {}));\nexport var DescribeMapRequest;\n(function (DescribeMapRequest) {\n    /**\n     * @internal\n     */\n    DescribeMapRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeMapRequest || (DescribeMapRequest = {}));\nexport var DescribeMapResponse;\n(function (DescribeMapResponse) {\n    /**\n     * @internal\n     */\n    DescribeMapResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeMapResponse || (DescribeMapResponse = {}));\nexport var DescribePlaceIndexRequest;\n(function (DescribePlaceIndexRequest) {\n    /**\n     * @internal\n     */\n    DescribePlaceIndexRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribePlaceIndexRequest || (DescribePlaceIndexRequest = {}));\nexport var DescribePlaceIndexResponse;\n(function (DescribePlaceIndexResponse) {\n    /**\n     * @internal\n     */\n    DescribePlaceIndexResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribePlaceIndexResponse || (DescribePlaceIndexResponse = {}));\nexport var DescribeRouteCalculatorRequest;\n(function (DescribeRouteCalculatorRequest) {\n    /**\n     * @internal\n     */\n    DescribeRouteCalculatorRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeRouteCalculatorRequest || (DescribeRouteCalculatorRequest = {}));\nexport var DescribeRouteCalculatorResponse;\n(function (DescribeRouteCalculatorResponse) {\n    /**\n     * @internal\n     */\n    DescribeRouteCalculatorResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeRouteCalculatorResponse || (DescribeRouteCalculatorResponse = {}));\nexport var DescribeTrackerRequest;\n(function (DescribeTrackerRequest) {\n    /**\n     * @internal\n     */\n    DescribeTrackerRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeTrackerRequest || (DescribeTrackerRequest = {}));\nexport var DescribeTrackerResponse;\n(function (DescribeTrackerResponse) {\n    /**\n     * @internal\n     */\n    DescribeTrackerResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DescribeTrackerResponse || (DescribeTrackerResponse = {}));\nexport var DisassociateTrackerConsumerRequest;\n(function (DisassociateTrackerConsumerRequest) {\n    /**\n     * @internal\n     */\n    DisassociateTrackerConsumerRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DisassociateTrackerConsumerRequest || (DisassociateTrackerConsumerRequest = {}));\nexport var DisassociateTrackerConsumerResponse;\n(function (DisassociateTrackerConsumerResponse) {\n    /**\n     * @internal\n     */\n    DisassociateTrackerConsumerResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DisassociateTrackerConsumerResponse || (DisassociateTrackerConsumerResponse = {}));\nexport var ListTagsForResourceRequest;\n(function (ListTagsForResourceRequest) {\n    /**\n     * @internal\n     */\n    ListTagsForResourceRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTagsForResourceRequest || (ListTagsForResourceRequest = {}));\nexport var ListTagsForResourceResponse;\n(function (ListTagsForResourceResponse) {\n    /**\n     * @internal\n     */\n    ListTagsForResourceResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTagsForResourceResponse || (ListTagsForResourceResponse = {}));\nexport var TagResourceRequest;\n(function (TagResourceRequest) {\n    /**\n     * @internal\n     */\n    TagResourceRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(TagResourceRequest || (TagResourceRequest = {}));\nexport var TagResourceResponse;\n(function (TagResourceResponse) {\n    /**\n     * @internal\n     */\n    TagResourceResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(TagResourceResponse || (TagResourceResponse = {}));\nexport var UntagResourceRequest;\n(function (UntagResourceRequest) {\n    /**\n     * @internal\n     */\n    UntagResourceRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(UntagResourceRequest || (UntagResourceRequest = {}));\nexport var UntagResourceResponse;\n(function (UntagResourceResponse) {\n    /**\n     * @internal\n     */\n    UntagResourceResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(UntagResourceResponse || (UntagResourceResponse = {}));\nexport var GetGeofenceRequest;\n(function (GetGeofenceRequest) {\n    /**\n     * @internal\n     */\n    GetGeofenceRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetGeofenceRequest || (GetGeofenceRequest = {}));\nexport var GetGeofenceResponse;\n(function (GetGeofenceResponse) {\n    /**\n     * @internal\n     */\n    GetGeofenceResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Geometry && { Geometry: GeofenceGeometry.filterSensitiveLog(obj.Geometry) }))); };\n})(GetGeofenceResponse || (GetGeofenceResponse = {}));\nexport var ListGeofenceCollectionsRequest;\n(function (ListGeofenceCollectionsRequest) {\n    /**\n     * @internal\n     */\n    ListGeofenceCollectionsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListGeofenceCollectionsRequest || (ListGeofenceCollectionsRequest = {}));\nexport var ListGeofenceCollectionsResponseEntry;\n(function (ListGeofenceCollectionsResponseEntry) {\n    /**\n     * @internal\n     */\n    ListGeofenceCollectionsResponseEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListGeofenceCollectionsResponseEntry || (ListGeofenceCollectionsResponseEntry = {}));\nexport var ListGeofenceCollectionsResponse;\n(function (ListGeofenceCollectionsResponse) {\n    /**\n     * @internal\n     */\n    ListGeofenceCollectionsResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListGeofenceCollectionsResponse || (ListGeofenceCollectionsResponse = {}));\nexport var ListGeofencesRequest;\n(function (ListGeofencesRequest) {\n    /**\n     * @internal\n     */\n    ListGeofencesRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListGeofencesRequest || (ListGeofencesRequest = {}));\nexport var ListGeofenceResponseEntry;\n(function (ListGeofenceResponseEntry) {\n    /**\n     * @internal\n     */\n    ListGeofenceResponseEntry.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Geometry && { Geometry: GeofenceGeometry.filterSensitiveLog(obj.Geometry) }))); };\n})(ListGeofenceResponseEntry || (ListGeofenceResponseEntry = {}));\nexport var ListGeofencesResponse;\n(function (ListGeofencesResponse) {\n    /**\n     * @internal\n     */\n    ListGeofencesResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Entries && { Entries: obj.Entries.map(function (item) { return ListGeofenceResponseEntry.filterSensitiveLog(item); }) }))); };\n})(ListGeofencesResponse || (ListGeofencesResponse = {}));\nexport var PutGeofenceRequest;\n(function (PutGeofenceRequest) {\n    /**\n     * @internal\n     */\n    PutGeofenceRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Geometry && { Geometry: GeofenceGeometry.filterSensitiveLog(obj.Geometry) }))); };\n})(PutGeofenceRequest || (PutGeofenceRequest = {}));\nexport var PutGeofenceResponse;\n(function (PutGeofenceResponse) {\n    /**\n     * @internal\n     */\n    PutGeofenceResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutGeofenceResponse || (PutGeofenceResponse = {}));\nexport var GetDevicePositionRequest;\n(function (GetDevicePositionRequest) {\n    /**\n     * @internal\n     */\n    GetDevicePositionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetDevicePositionRequest || (GetDevicePositionRequest = {}));\nexport var GetDevicePositionResponse;\n(function (GetDevicePositionResponse) {\n    /**\n     * @internal\n     */\n    GetDevicePositionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Position && { Position: SENSITIVE_STRING }))); };\n})(GetDevicePositionResponse || (GetDevicePositionResponse = {}));\nexport var GetDevicePositionHistoryRequest;\n(function (GetDevicePositionHistoryRequest) {\n    /**\n     * @internal\n     */\n    GetDevicePositionHistoryRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetDevicePositionHistoryRequest || (GetDevicePositionHistoryRequest = {}));\nexport var GetDevicePositionHistoryResponse;\n(function (GetDevicePositionHistoryResponse) {\n    /**\n     * @internal\n     */\n    GetDevicePositionHistoryResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.DevicePositions && {\n        DevicePositions: obj.DevicePositions.map(function (item) { return DevicePosition.filterSensitiveLog(item); }),\n    }))); };\n})(GetDevicePositionHistoryResponse || (GetDevicePositionHistoryResponse = {}));\nexport var GetMapGlyphsRequest;\n(function (GetMapGlyphsRequest) {\n    /**\n     * @internal\n     */\n    GetMapGlyphsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapGlyphsRequest || (GetMapGlyphsRequest = {}));\nexport var GetMapGlyphsResponse;\n(function (GetMapGlyphsResponse) {\n    /**\n     * @internal\n     */\n    GetMapGlyphsResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapGlyphsResponse || (GetMapGlyphsResponse = {}));\nexport var GetMapSpritesRequest;\n(function (GetMapSpritesRequest) {\n    /**\n     * @internal\n     */\n    GetMapSpritesRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapSpritesRequest || (GetMapSpritesRequest = {}));\nexport var GetMapSpritesResponse;\n(function (GetMapSpritesResponse) {\n    /**\n     * @internal\n     */\n    GetMapSpritesResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapSpritesResponse || (GetMapSpritesResponse = {}));\nexport var GetMapStyleDescriptorRequest;\n(function (GetMapStyleDescriptorRequest) {\n    /**\n     * @internal\n     */\n    GetMapStyleDescriptorRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapStyleDescriptorRequest || (GetMapStyleDescriptorRequest = {}));\nexport var GetMapStyleDescriptorResponse;\n(function (GetMapStyleDescriptorResponse) {\n    /**\n     * @internal\n     */\n    GetMapStyleDescriptorResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapStyleDescriptorResponse || (GetMapStyleDescriptorResponse = {}));\nexport var GetMapTileRequest;\n(function (GetMapTileRequest) {\n    /**\n     * @internal\n     */\n    GetMapTileRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapTileRequest || (GetMapTileRequest = {}));\nexport var GetMapTileResponse;\n(function (GetMapTileResponse) {\n    /**\n     * @internal\n     */\n    GetMapTileResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetMapTileResponse || (GetMapTileResponse = {}));\nexport var ListDevicePositionsRequest;\n(function (ListDevicePositionsRequest) {\n    /**\n     * @internal\n     */\n    ListDevicePositionsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListDevicePositionsRequest || (ListDevicePositionsRequest = {}));\nexport var ListDevicePositionsResponseEntry;\n(function (ListDevicePositionsResponseEntry) {\n    /**\n     * @internal\n     */\n    ListDevicePositionsResponseEntry.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Position && { Position: SENSITIVE_STRING }))); };\n})(ListDevicePositionsResponseEntry || (ListDevicePositionsResponseEntry = {}));\nexport var ListDevicePositionsResponse;\n(function (ListDevicePositionsResponse) {\n    /**\n     * @internal\n     */\n    ListDevicePositionsResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Entries && {\n        Entries: obj.Entries.map(function (item) { return ListDevicePositionsResponseEntry.filterSensitiveLog(item); }),\n    }))); };\n})(ListDevicePositionsResponse || (ListDevicePositionsResponse = {}));\nexport var ListMapsRequest;\n(function (ListMapsRequest) {\n    /**\n     * @internal\n     */\n    ListMapsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListMapsRequest || (ListMapsRequest = {}));\nexport var ListMapsResponseEntry;\n(function (ListMapsResponseEntry) {\n    /**\n     * @internal\n     */\n    ListMapsResponseEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListMapsResponseEntry || (ListMapsResponseEntry = {}));\nexport var ListMapsResponse;\n(function (ListMapsResponse) {\n    /**\n     * @internal\n     */\n    ListMapsResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListMapsResponse || (ListMapsResponse = {}));\nexport var ListPlaceIndexesRequest;\n(function (ListPlaceIndexesRequest) {\n    /**\n     * @internal\n     */\n    ListPlaceIndexesRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListPlaceIndexesRequest || (ListPlaceIndexesRequest = {}));\nexport var ListPlaceIndexesResponseEntry;\n(function (ListPlaceIndexesResponseEntry) {\n    /**\n     * @internal\n     */\n    ListPlaceIndexesResponseEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListPlaceIndexesResponseEntry || (ListPlaceIndexesResponseEntry = {}));\nexport var ListPlaceIndexesResponse;\n(function (ListPlaceIndexesResponse) {\n    /**\n     * @internal\n     */\n    ListPlaceIndexesResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListPlaceIndexesResponse || (ListPlaceIndexesResponse = {}));\nexport var ListRouteCalculatorsRequest;\n(function (ListRouteCalculatorsRequest) {\n    /**\n     * @internal\n     */\n    ListRouteCalculatorsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListRouteCalculatorsRequest || (ListRouteCalculatorsRequest = {}));\nexport var ListRouteCalculatorsResponseEntry;\n(function (ListRouteCalculatorsResponseEntry) {\n    /**\n     * @internal\n     */\n    ListRouteCalculatorsResponseEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListRouteCalculatorsResponseEntry || (ListRouteCalculatorsResponseEntry = {}));\nexport var ListRouteCalculatorsResponse;\n(function (ListRouteCalculatorsResponse) {\n    /**\n     * @internal\n     */\n    ListRouteCalculatorsResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListRouteCalculatorsResponse || (ListRouteCalculatorsResponse = {}));\nexport var ListTrackerConsumersRequest;\n(function (ListTrackerConsumersRequest) {\n    /**\n     * @internal\n     */\n    ListTrackerConsumersRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTrackerConsumersRequest || (ListTrackerConsumersRequest = {}));\nexport var ListTrackerConsumersResponse;\n(function (ListTrackerConsumersResponse) {\n    /**\n     * @internal\n     */\n    ListTrackerConsumersResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTrackerConsumersResponse || (ListTrackerConsumersResponse = {}));\nexport var ListTrackersRequest;\n(function (ListTrackersRequest) {\n    /**\n     * @internal\n     */\n    ListTrackersRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTrackersRequest || (ListTrackersRequest = {}));\nexport var ListTrackersResponseEntry;\n(function (ListTrackersResponseEntry) {\n    /**\n     * @internal\n     */\n    ListTrackersResponseEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTrackersResponseEntry || (ListTrackersResponseEntry = {}));\nexport var ListTrackersResponse;\n(function (ListTrackersResponse) {\n    /**\n     * @internal\n     */\n    ListTrackersResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListTrackersResponse || (ListTrackersResponse = {}));\nexport var SearchPlaceIndexForPositionRequest;\n(function (SearchPlaceIndexForPositionRequest) {\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForPositionRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Position && { Position: SENSITIVE_STRING }))); };\n})(SearchPlaceIndexForPositionRequest || (SearchPlaceIndexForPositionRequest = {}));\nexport var PlaceGeometry;\n(function (PlaceGeometry) {\n    /**\n     * @internal\n     */\n    PlaceGeometry.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Point && { Point: SENSITIVE_STRING }))); };\n})(PlaceGeometry || (PlaceGeometry = {}));\nexport var Place;\n(function (Place) {\n    /**\n     * @internal\n     */\n    Place.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Geometry && { Geometry: PlaceGeometry.filterSensitiveLog(obj.Geometry) }))); };\n})(Place || (Place = {}));\nexport var SearchForPositionResult;\n(function (SearchForPositionResult) {\n    /**\n     * @internal\n     */\n    SearchForPositionResult.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Place && { Place: Place.filterSensitiveLog(obj.Place) }))); };\n})(SearchForPositionResult || (SearchForPositionResult = {}));\nexport var SearchPlaceIndexForPositionSummary;\n(function (SearchPlaceIndexForPositionSummary) {\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForPositionSummary.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Position && { Position: SENSITIVE_STRING }))); };\n})(SearchPlaceIndexForPositionSummary || (SearchPlaceIndexForPositionSummary = {}));\nexport var SearchPlaceIndexForPositionResponse;\n(function (SearchPlaceIndexForPositionResponse) {\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForPositionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.Summary && { Summary: SearchPlaceIndexForPositionSummary.filterSensitiveLog(obj.Summary) })), (obj.Results && { Results: obj.Results.map(function (item) { return SearchForPositionResult.filterSensitiveLog(item); }) }))); };\n})(SearchPlaceIndexForPositionResponse || (SearchPlaceIndexForPositionResponse = {}));\nexport var SearchPlaceIndexForTextRequest;\n(function (SearchPlaceIndexForTextRequest) {\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForTextRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.Text && { Text: SENSITIVE_STRING })), (obj.BiasPosition && { BiasPosition: SENSITIVE_STRING })), (obj.FilterBBox && { FilterBBox: SENSITIVE_STRING }))); };\n})(SearchPlaceIndexForTextRequest || (SearchPlaceIndexForTextRequest = {}));\nexport var SearchForTextResult;\n(function (SearchForTextResult) {\n    /**\n     * @internal\n     */\n    SearchForTextResult.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Place && { Place: Place.filterSensitiveLog(obj.Place) }))); };\n})(SearchForTextResult || (SearchForTextResult = {}));\nexport var SearchPlaceIndexForTextSummary;\n(function (SearchPlaceIndexForTextSummary) {\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForTextSummary.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign({}, obj), (obj.Text && { Text: SENSITIVE_STRING })), (obj.BiasPosition && { BiasPosition: SENSITIVE_STRING })), (obj.FilterBBox && { FilterBBox: SENSITIVE_STRING })), (obj.ResultBBox && { ResultBBox: SENSITIVE_STRING }))); };\n})(SearchPlaceIndexForTextSummary || (SearchPlaceIndexForTextSummary = {}));\nexport var SearchPlaceIndexForTextResponse;\n(function (SearchPlaceIndexForTextResponse) {\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForTextResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.Summary && { Summary: SearchPlaceIndexForTextSummary.filterSensitiveLog(obj.Summary) })), (obj.Results && { Results: obj.Results.map(function (item) { return SearchForTextResult.filterSensitiveLog(item); }) }))); };\n})(SearchPlaceIndexForTextResponse || (SearchPlaceIndexForTextResponse = {}));\n//# sourceMappingURL=models_0.js.map","import { __assign, __extends } from \"tslib\";\nimport { ClientDefaultValues as __ClientDefaultValues } from \"./runtimeConfig\";\nimport { resolveEndpointsConfig, resolveRegionConfig, } from \"@aws-sdk/config-resolver\";\nimport { getContentLengthPlugin } from \"@aws-sdk/middleware-content-length\";\nimport { getHostHeaderPlugin, resolveHostHeaderConfig, } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin } from \"@aws-sdk/middleware-logger\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@aws-sdk/middleware-retry\";\nimport { getAwsAuthPlugin, resolveAwsAuthConfig, } from \"@aws-sdk/middleware-signing\";\nimport { getUserAgentPlugin, resolveUserAgentConfig, } from \"@aws-sdk/middleware-user-agent\";\nimport { Client as __Client, } from \"@aws-sdk/smithy-client\";\n/**\n * Suite of geospatial services including Maps, Places, Routes, Tracking, and Geofencing\n */\nvar LocationClient = /** @class */ (function (_super) {\n    __extends(LocationClient, _super);\n    function LocationClient(configuration) {\n        var _this = this;\n        var _config_0 = __assign(__assign({}, __ClientDefaultValues), configuration);\n        var _config_1 = resolveRegionConfig(_config_0);\n        var _config_2 = resolveEndpointsConfig(_config_1);\n        var _config_3 = resolveRetryConfig(_config_2);\n        var _config_4 = resolveHostHeaderConfig(_config_3);\n        var _config_5 = resolveAwsAuthConfig(_config_4);\n        var _config_6 = resolveUserAgentConfig(_config_5);\n        _this = _super.call(this, _config_6) || this;\n        _this.config = _config_6;\n        _this.middlewareStack.use(getRetryPlugin(_this.config));\n        _this.middlewareStack.use(getContentLengthPlugin(_this.config));\n        _this.middlewareStack.use(getHostHeaderPlugin(_this.config));\n        _this.middlewareStack.use(getLoggerPlugin(_this.config));\n        _this.middlewareStack.use(getAwsAuthPlugin(_this.config));\n        _this.middlewareStack.use(getUserAgentPlugin(_this.config));\n        return _this;\n    }\n    /**\n     * Destroy underlying resources, like sockets. It's usually not necessary to do this.\n     * However in Node.js, it's best to explicitly shut down the client's agent when it is no longer needed.\n     * Otherwise, sockets might stay open for quite a long time before the server terminates them.\n     */\n    LocationClient.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return LocationClient;\n}(__Client));\nexport { LocationClient };\n//# sourceMappingURL=LocationClient.js.map","import { __assign } from \"tslib\";\nexport function resolveUserAgentConfig(input) {\n    return __assign(__assign({}, input), { customUserAgent: typeof input.customUserAgent === \"string\" ? [[input.customUserAgent]] : input.customUserAgent });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQTBCQSxNQUFNLFVBQVUsc0JBQXNCLENBQ3BDLEtBQW9EO0lBRXBELDZCQUNLLEtBQUssS0FDUixlQUFlLEVBQUUsT0FBTyxLQUFLLENBQUMsZUFBZSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsZUFBZSxJQUM5RztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciwgVXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBZ2VudElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBjdXN0b20gdXNlciBhZ2VudCBoZWFkZXIgdGhhdCB3b3VsZCBiZSBhcHBlbmRlZCB0byBkZWZhdWx0IG9uZVxuICAgKi9cbiAgY3VzdG9tVXNlckFnZW50Pzogc3RyaW5nIHwgVXNlckFnZW50O1xufVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogUHJvdmlkZXI8VXNlckFnZW50PjtcbiAgcnVudGltZTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgcHJvdmlkZXIgcG9wdWxhdGluZyBkZWZhdWx0IHRyYWNraW5nIGluZm9ybWF0aW9uIHRvIGJlIHNlbnQgd2l0aCBgdXNlci1hZ2VudGAsIGB4LWFtei11c2VyLWFnZW50YCBoZWFkZXIuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBQcm92aWRlcjxVc2VyQWdlbnQ+O1xuICAvKipcbiAgICogVGhlIGN1c3RvbSB1c2VyIGFnZW50IGhlYWRlciB0aGF0IHdvdWxkIGJlIGFwcGVuZGVkIHRvIGRlZmF1bHQgb25lXG4gICAqL1xuICBjdXN0b21Vc2VyQWdlbnQ/OiBVc2VyQWdlbnQ7XG4gIC8qKlxuICAgKiBUaGUgcnVudGltZSBlbnZpcm9ubWVudFxuICAgKi9cbiAgcnVudGltZTogc3RyaW5nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVc2VyQWdlbnRDb25maWc8VD4oXG4gIGlucHV0OiBUICYgUHJldmlvdXNseVJlc29sdmVkICYgVXNlckFnZW50SW5wdXRDb25maWdcbik6IFQgJiBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyB7XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgY3VzdG9tVXNlckFnZW50OiB0eXBlb2YgaW5wdXQuY3VzdG9tVXNlckFnZW50ID09PSBcInN0cmluZ1wiID8gW1tpbnB1dC5jdXN0b21Vc2VyQWdlbnRdXSA6IGlucHV0LmN1c3RvbVVzZXJBZ2VudCxcbiAgfTtcbn1cbiJdfQ==","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { HttpRequest as __HttpRequest, isValidHostname as __isValidHostname, } from \"@aws-sdk/protocol-http\";\nimport { expectNumber as __expectNumber, expectString as __expectString, extendedEncodeURIComponent as __extendedEncodeURIComponent, handleFloat as __handleFloat, serializeFloat as __serializeFloat, } from \"@aws-sdk/smithy-client\";\nexport var serializeAws_restJson1AssociateTrackerConsumerCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/consumers\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.ConsumerArn !== undefined && input.ConsumerArn !== null && { ConsumerArn: input.ConsumerArn })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1BatchDeleteDevicePositionHistoryCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/delete-positions\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.DeviceIds !== undefined &&\n                    input.DeviceIds !== null && { DeviceIds: serializeAws_restJson1DeviceIdsList(input.DeviceIds, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1BatchDeleteGeofenceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}/delete-geofences\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.GeofenceIds !== undefined &&\n                    input.GeofenceIds !== null && { GeofenceIds: serializeAws_restJson1IdList(input.GeofenceIds, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1BatchEvaluateGeofencesCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}/positions\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.DevicePositionUpdates !== undefined &&\n                    input.DevicePositionUpdates !== null && {\n                    DevicePositionUpdates: serializeAws_restJson1DevicePositionUpdateList(input.DevicePositionUpdates, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1BatchGetDevicePositionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/get-positions\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.DeviceIds !== undefined &&\n                    input.DeviceIds !== null && { DeviceIds: serializeAws_restJson1IdList(input.DeviceIds, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1BatchPutGeofenceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}/put-geofences\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.Entries !== undefined &&\n                    input.Entries !== null && {\n                    Entries: serializeAws_restJson1BatchPutGeofenceRequestEntryList(input.Entries, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1BatchUpdateDevicePositionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/positions\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.Updates !== undefined &&\n                    input.Updates !== null && { Updates: serializeAws_restJson1DevicePositionUpdateList(input.Updates, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1CalculateRouteCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/routes/v0/calculators/{CalculatorName}/calculate/route\";\n                if (input.CalculatorName !== undefined) {\n                    labelValue = input.CalculatorName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CalculatorName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CalculatorName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CalculatorName.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.CarModeOptions !== undefined &&\n                    input.CarModeOptions !== null && {\n                    CarModeOptions: serializeAws_restJson1CalculateRouteCarModeOptions(input.CarModeOptions, context),\n                })), (input.DepartNow !== undefined && input.DepartNow !== null && { DepartNow: input.DepartNow })), (input.DeparturePosition !== undefined &&\n                    input.DeparturePosition !== null && {\n                    DeparturePosition: serializeAws_restJson1Position(input.DeparturePosition, context),\n                })), (input.DepartureTime !== undefined &&\n                    input.DepartureTime !== null && { DepartureTime: input.DepartureTime.toISOString().split(\".\")[0] + \"Z\" })), (input.DestinationPosition !== undefined &&\n                    input.DestinationPosition !== null && {\n                    DestinationPosition: serializeAws_restJson1Position(input.DestinationPosition, context),\n                })), (input.DistanceUnit !== undefined && input.DistanceUnit !== null && { DistanceUnit: input.DistanceUnit })), (input.IncludeLegGeometry !== undefined &&\n                    input.IncludeLegGeometry !== null && { IncludeLegGeometry: input.IncludeLegGeometry })), (input.TravelMode !== undefined && input.TravelMode !== null && { TravelMode: input.TravelMode })), (input.TruckModeOptions !== undefined &&\n                    input.TruckModeOptions !== null && {\n                    TruckModeOptions: serializeAws_restJson1CalculateRouteTruckModeOptions(input.TruckModeOptions, context),\n                })), (input.WaypointPositions !== undefined &&\n                    input.WaypointPositions !== null && {\n                    WaypointPositions: serializeAws_restJson1WaypointPositionList(input.WaypointPositions, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"routes.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1CreateGeofenceCollectionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/geofencing/v0/collections\";\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.CollectionName !== undefined &&\n                    input.CollectionName !== null && { CollectionName: input.CollectionName })), (input.Description !== undefined && input.Description !== null && { Description: input.Description })), (input.KmsKeyId !== undefined && input.KmsKeyId !== null && { KmsKeyId: input.KmsKeyId })), (input.PricingPlan !== undefined && input.PricingPlan !== null && { PricingPlan: input.PricingPlan })), (input.PricingPlanDataSource !== undefined &&\n                    input.PricingPlanDataSource !== null && { PricingPlanDataSource: input.PricingPlanDataSource })), (input.Tags !== undefined && input.Tags !== null && { Tags: serializeAws_restJson1TagMap(input.Tags, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1CreateMapCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/maps/v0/maps\";\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign({}, (input.Configuration !== undefined &&\n                    input.Configuration !== null && {\n                    Configuration: serializeAws_restJson1MapConfiguration(input.Configuration, context),\n                })), (input.Description !== undefined && input.Description !== null && { Description: input.Description })), (input.MapName !== undefined && input.MapName !== null && { MapName: input.MapName })), (input.PricingPlan !== undefined && input.PricingPlan !== null && { PricingPlan: input.PricingPlan })), (input.Tags !== undefined && input.Tags !== null && { Tags: serializeAws_restJson1TagMap(input.Tags, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1CreatePlaceIndexCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/places/v0/indexes\";\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.DataSource !== undefined && input.DataSource !== null && { DataSource: input.DataSource })), (input.DataSourceConfiguration !== undefined &&\n                    input.DataSourceConfiguration !== null && {\n                    DataSourceConfiguration: serializeAws_restJson1DataSourceConfiguration(input.DataSourceConfiguration, context),\n                })), (input.Description !== undefined && input.Description !== null && { Description: input.Description })), (input.IndexName !== undefined && input.IndexName !== null && { IndexName: input.IndexName })), (input.PricingPlan !== undefined && input.PricingPlan !== null && { PricingPlan: input.PricingPlan })), (input.Tags !== undefined && input.Tags !== null && { Tags: serializeAws_restJson1TagMap(input.Tags, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"places.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1CreateRouteCalculatorCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/routes/v0/calculators\";\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign({}, (input.CalculatorName !== undefined &&\n                    input.CalculatorName !== null && { CalculatorName: input.CalculatorName })), (input.DataSource !== undefined && input.DataSource !== null && { DataSource: input.DataSource })), (input.Description !== undefined && input.Description !== null && { Description: input.Description })), (input.PricingPlan !== undefined && input.PricingPlan !== null && { PricingPlan: input.PricingPlan })), (input.Tags !== undefined && input.Tags !== null && { Tags: serializeAws_restJson1TagMap(input.Tags, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"routes.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1CreateTrackerCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tracking/v0/trackers\";\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.Description !== undefined && input.Description !== null && { Description: input.Description })), (input.KmsKeyId !== undefined && input.KmsKeyId !== null && { KmsKeyId: input.KmsKeyId })), (input.PricingPlan !== undefined && input.PricingPlan !== null && { PricingPlan: input.PricingPlan })), (input.PricingPlanDataSource !== undefined &&\n                    input.PricingPlanDataSource !== null && { PricingPlanDataSource: input.PricingPlanDataSource })), (input.Tags !== undefined && input.Tags !== null && { Tags: serializeAws_restJson1TagMap(input.Tags, context) })), (input.TrackerName !== undefined && input.TrackerName !== null && { TrackerName: input.TrackerName })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DeleteGeofenceCollectionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DeleteMapCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/maps/v0/maps/{MapName}\";\n                if (input.MapName !== undefined) {\n                    labelValue = input.MapName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: MapName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{MapName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: MapName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DeletePlaceIndexCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/places/v0/indexes/{IndexName}\";\n                if (input.IndexName !== undefined) {\n                    labelValue = input.IndexName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: IndexName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{IndexName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: IndexName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"places.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DeleteRouteCalculatorCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/routes/v0/calculators/{CalculatorName}\";\n                if (input.CalculatorName !== undefined) {\n                    labelValue = input.CalculatorName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CalculatorName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CalculatorName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CalculatorName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"routes.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DeleteTrackerCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tracking/v0/trackers/{TrackerName}\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DescribeGeofenceCollectionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DescribeMapCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/maps/v0/maps/{MapName}\";\n                if (input.MapName !== undefined) {\n                    labelValue = input.MapName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: MapName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{MapName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: MapName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DescribePlaceIndexCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/places/v0/indexes/{IndexName}\";\n                if (input.IndexName !== undefined) {\n                    labelValue = input.IndexName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: IndexName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{IndexName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: IndexName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"places.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DescribeRouteCalculatorCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/routes/v0/calculators/{CalculatorName}\";\n                if (input.CalculatorName !== undefined) {\n                    labelValue = input.CalculatorName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CalculatorName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CalculatorName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CalculatorName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"routes.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DescribeTrackerCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tracking/v0/trackers/{TrackerName}\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1DisassociateTrackerConsumerCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/consumers/{ConsumerArn}\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                if (input.ConsumerArn !== undefined) {\n                    labelValue = input.ConsumerArn;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: ConsumerArn.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{ConsumerArn}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: ConsumerArn.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetDevicePositionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/devices/{DeviceId}/positions/latest\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                if (input.DeviceId !== undefined) {\n                    labelValue = input.DeviceId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: DeviceId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{DeviceId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: DeviceId.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetDevicePositionHistoryCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/devices/{DeviceId}/list-positions\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                if (input.DeviceId !== undefined) {\n                    labelValue = input.DeviceId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: DeviceId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{DeviceId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: DeviceId.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign({}, (input.EndTimeExclusive !== undefined &&\n                    input.EndTimeExclusive !== null && {\n                    EndTimeExclusive: input.EndTimeExclusive.toISOString().split(\".\")[0] + \"Z\",\n                })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })), (input.StartTimeInclusive !== undefined &&\n                    input.StartTimeInclusive !== null && {\n                    StartTimeInclusive: input.StartTimeInclusive.toISOString().split(\".\")[0] + \"Z\",\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetGeofenceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}/geofences/{GeofenceId}\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                if (input.GeofenceId !== undefined) {\n                    labelValue = input.GeofenceId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: GeofenceId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{GeofenceId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: GeofenceId.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetMapGlyphsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/maps/v0/maps/{MapName}/glyphs/{FontStack}/{FontUnicodeRange}\";\n                if (input.MapName !== undefined) {\n                    labelValue = input.MapName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: MapName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{MapName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: MapName.\");\n                }\n                if (input.FontStack !== undefined) {\n                    labelValue = input.FontStack;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: FontStack.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{FontStack}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: FontStack.\");\n                }\n                if (input.FontUnicodeRange !== undefined) {\n                    labelValue = input.FontUnicodeRange;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: FontUnicodeRange.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{FontUnicodeRange}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: FontUnicodeRange.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetMapSpritesCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/maps/v0/maps/{MapName}/sprites/{FileName}\";\n                if (input.MapName !== undefined) {\n                    labelValue = input.MapName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: MapName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{MapName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: MapName.\");\n                }\n                if (input.FileName !== undefined) {\n                    labelValue = input.FileName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: FileName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{FileName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: FileName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetMapStyleDescriptorCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/maps/v0/maps/{MapName}/style-descriptor\";\n                if (input.MapName !== undefined) {\n                    labelValue = input.MapName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: MapName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{MapName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: MapName.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetMapTileCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/maps/v0/maps/{MapName}/tiles/{Z}/{X}/{Y}\";\n                if (input.MapName !== undefined) {\n                    labelValue = input.MapName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: MapName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{MapName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: MapName.\");\n                }\n                if (input.Z !== undefined) {\n                    labelValue = input.Z;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Z.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Z}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Z.\");\n                }\n                if (input.X !== undefined) {\n                    labelValue = input.X;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: X.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{X}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: X.\");\n                }\n                if (input.Y !== undefined) {\n                    labelValue = input.Y;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Y.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Y}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Y.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListDevicePositionsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/list-positions\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListGeofenceCollectionsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/geofencing/v0/list-collections\";\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListGeofencesCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}/list-geofences\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                body = JSON.stringify(__assign({}, (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListMapsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/maps/v0/list-maps\";\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"maps.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListPlaceIndexesCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/places/v0/list-indexes\";\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"places.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListRouteCalculatorsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/routes/v0/list-calculators\";\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"routes.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListTagsForResourceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tags/{ResourceArn}\";\n                if (input.ResourceArn !== undefined) {\n                    labelValue = input.ResourceArn;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: ResourceArn.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{ResourceArn}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: ResourceArn.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"metadata.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListTrackerConsumersCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/tracking/v0/trackers/{TrackerName}/list-consumers\";\n                if (input.TrackerName !== undefined) {\n                    labelValue = input.TrackerName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: TrackerName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{TrackerName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: TrackerName.\");\n                }\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1ListTrackersCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tracking/v0/list-trackers\";\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.NextToken !== undefined && input.NextToken !== null && { NextToken: input.NextToken })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"tracking.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PutGeofenceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/geofencing/v0/collections/{CollectionName}/geofences/{GeofenceId}\";\n                if (input.CollectionName !== undefined) {\n                    labelValue = input.CollectionName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: CollectionName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{CollectionName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: CollectionName.\");\n                }\n                if (input.GeofenceId !== undefined) {\n                    labelValue = input.GeofenceId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: GeofenceId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{GeofenceId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: GeofenceId.\");\n                }\n                body = JSON.stringify(__assign({}, (input.Geometry !== undefined &&\n                    input.Geometry !== null && { Geometry: serializeAws_restJson1GeofenceGeometry(input.Geometry, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"geofencing.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1SearchPlaceIndexForPositionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/places/v0/indexes/{IndexName}/search/position\";\n                if (input.IndexName !== undefined) {\n                    labelValue = input.IndexName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: IndexName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{IndexName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: IndexName.\");\n                }\n                body = JSON.stringify(__assign(__assign({}, (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.Position !== undefined &&\n                    input.Position !== null && { Position: serializeAws_restJson1Position(input.Position, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"places.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1SearchPlaceIndexForTextCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") +\n                    \"/places/v0/indexes/{IndexName}/search/text\";\n                if (input.IndexName !== undefined) {\n                    labelValue = input.IndexName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: IndexName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{IndexName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: IndexName.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign(__assign(__assign({}, (input.BiasPosition !== undefined &&\n                    input.BiasPosition !== null && { BiasPosition: serializeAws_restJson1Position(input.BiasPosition, context) })), (input.FilterBBox !== undefined &&\n                    input.FilterBBox !== null && { FilterBBox: serializeAws_restJson1BoundingBox(input.FilterBBox, context) })), (input.FilterCountries !== undefined &&\n                    input.FilterCountries !== null && {\n                    FilterCountries: serializeAws_restJson1CountryCodeList(input.FilterCountries, context),\n                })), (input.MaxResults !== undefined && input.MaxResults !== null && { MaxResults: input.MaxResults })), (input.Text !== undefined && input.Text !== null && { Text: input.Text })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"places.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1TagResourceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {\n                    \"content-type\": \"application/json\",\n                };\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tags/{ResourceArn}\";\n                if (input.ResourceArn !== undefined) {\n                    labelValue = input.ResourceArn;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: ResourceArn.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{ResourceArn}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: ResourceArn.\");\n                }\n                body = JSON.stringify(__assign({}, (input.Tags !== undefined && input.Tags !== null && { Tags: serializeAws_restJson1TagMap(input.Tags, context) })));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"metadata.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1UntagResourceCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, hostname, _b, protocol, port, basePath, headers, resolvedPath, labelValue, query, body, resolvedHostname;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port, basePath = _a.path;\n                headers = {};\n                resolvedPath = \"\" + ((basePath === null || basePath === void 0 ? void 0 : basePath.endsWith(\"/\")) ? basePath.slice(0, -1) : basePath || \"\") + \"/tags/{ResourceArn}\";\n                if (input.ResourceArn !== undefined) {\n                    labelValue = input.ResourceArn;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: ResourceArn.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{ResourceArn}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: ResourceArn.\");\n                }\n                query = __assign({}, (input.TagKeys !== undefined && { tagKeys: (input.TagKeys || []).map(function (_entry) { return _entry; }) }));\n                return [4 /*yield*/, context.endpoint()];\n            case 2:\n                resolvedHostname = (_c.sent()).hostname;\n                if (context.disableHostPrefix !== true) {\n                    resolvedHostname = \"metadata.\" + resolvedHostname;\n                    if (!__isValidHostname(resolvedHostname)) {\n                        throw new Error(\"ValidationError: prefixed hostname must be hostname compatible.\");\n                    }\n                }\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: resolvedHostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1AssociateTrackerConsumerCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1AssociateTrackerConsumerCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1AssociateTrackerConsumerCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, parsedBody, message;\n    var _j;\n    return __generator(this, function (_k) {\n        switch (_k.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _j = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_j.body = _k.sent(), _j)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 8];\n                    case \"ThrottlingException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 10];\n                    case \"ValidationException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 12];\n                }\n                return [3 /*break*/, 14];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 14:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _k.label = 15;\n            case 15:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1BatchDeleteDevicePositionHistoryCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1BatchDeleteDevicePositionHistoryCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Errors: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Errors !== undefined && data.Errors !== null) {\n                    contents.Errors = deserializeAws_restJson1BatchDeleteDevicePositionHistoryErrorList(data.Errors, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BatchDeleteDevicePositionHistoryCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1BatchDeleteGeofenceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1BatchDeleteGeofenceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Errors: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Errors !== undefined && data.Errors !== null) {\n                    contents.Errors = deserializeAws_restJson1BatchDeleteGeofenceErrorList(data.Errors, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BatchDeleteGeofenceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1BatchEvaluateGeofencesCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1BatchEvaluateGeofencesCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Errors: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Errors !== undefined && data.Errors !== null) {\n                    contents.Errors = deserializeAws_restJson1BatchEvaluateGeofencesErrorList(data.Errors, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BatchEvaluateGeofencesCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1BatchGetDevicePositionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1BatchGetDevicePositionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    DevicePositions: undefined,\n                    Errors: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.DevicePositions !== undefined && data.DevicePositions !== null) {\n                    contents.DevicePositions = deserializeAws_restJson1DevicePositionList(data.DevicePositions, context);\n                }\n                if (data.Errors !== undefined && data.Errors !== null) {\n                    contents.Errors = deserializeAws_restJson1BatchGetDevicePositionErrorList(data.Errors, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BatchGetDevicePositionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1BatchPutGeofenceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1BatchPutGeofenceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Errors: undefined,\n                    Successes: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Errors !== undefined && data.Errors !== null) {\n                    contents.Errors = deserializeAws_restJson1BatchPutGeofenceErrorList(data.Errors, context);\n                }\n                if (data.Successes !== undefined && data.Successes !== null) {\n                    contents.Successes = deserializeAws_restJson1BatchPutGeofenceSuccessList(data.Successes, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BatchPutGeofenceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1BatchUpdateDevicePositionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1BatchUpdateDevicePositionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Errors: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Errors !== undefined && data.Errors !== null) {\n                    contents.Errors = deserializeAws_restJson1BatchUpdateDevicePositionErrorList(data.Errors, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BatchUpdateDevicePositionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1CalculateRouteCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1CalculateRouteCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Legs: undefined,\n                    Summary: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Legs !== undefined && data.Legs !== null) {\n                    contents.Legs = deserializeAws_restJson1LegList(data.Legs, context);\n                }\n                if (data.Summary !== undefined && data.Summary !== null) {\n                    contents.Summary = deserializeAws_restJson1CalculateRouteSummary(data.Summary, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1CalculateRouteCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1CreateGeofenceCollectionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1CreateGeofenceCollectionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CollectionArn: undefined,\n                    CollectionName: undefined,\n                    CreateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CollectionArn !== undefined && data.CollectionArn !== null) {\n                    contents.CollectionArn = __expectString(data.CollectionArn);\n                }\n                if (data.CollectionName !== undefined && data.CollectionName !== null) {\n                    contents.CollectionName = __expectString(data.CollectionName);\n                }\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1CreateGeofenceCollectionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1CreateMapCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1CreateMapCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    MapArn: undefined,\n                    MapName: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.MapArn !== undefined && data.MapArn !== null) {\n                    contents.MapArn = __expectString(data.MapArn);\n                }\n                if (data.MapName !== undefined && data.MapName !== null) {\n                    contents.MapName = __expectString(data.MapName);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1CreateMapCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1CreatePlaceIndexCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1CreatePlaceIndexCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    IndexArn: undefined,\n                    IndexName: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.IndexArn !== undefined && data.IndexArn !== null) {\n                    contents.IndexArn = __expectString(data.IndexArn);\n                }\n                if (data.IndexName !== undefined && data.IndexName !== null) {\n                    contents.IndexName = __expectString(data.IndexName);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1CreatePlaceIndexCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1CreateRouteCalculatorCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1CreateRouteCalculatorCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CalculatorArn: undefined,\n                    CalculatorName: undefined,\n                    CreateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CalculatorArn !== undefined && data.CalculatorArn !== null) {\n                    contents.CalculatorArn = __expectString(data.CalculatorArn);\n                }\n                if (data.CalculatorName !== undefined && data.CalculatorName !== null) {\n                    contents.CalculatorName = __expectString(data.CalculatorName);\n                }\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1CreateRouteCalculatorCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1CreateTrackerCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1CreateTrackerCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    TrackerArn: undefined,\n                    TrackerName: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.TrackerArn !== undefined && data.TrackerArn !== null) {\n                    contents.TrackerArn = __expectString(data.TrackerArn);\n                }\n                if (data.TrackerName !== undefined && data.TrackerName !== null) {\n                    contents.TrackerName = __expectString(data.TrackerName);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1CreateTrackerCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeleteGeofenceCollectionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteGeofenceCollectionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteGeofenceCollectionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeleteMapCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteMapCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteMapCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeletePlaceIndexCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeletePlaceIndexCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeletePlaceIndexCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeleteRouteCalculatorCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteRouteCalculatorCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteRouteCalculatorCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeleteTrackerCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteTrackerCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteTrackerCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DescribeGeofenceCollectionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DescribeGeofenceCollectionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CollectionArn: undefined,\n                    CollectionName: undefined,\n                    CreateTime: undefined,\n                    Description: undefined,\n                    KmsKeyId: undefined,\n                    PricingPlan: undefined,\n                    PricingPlanDataSource: undefined,\n                    Tags: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CollectionArn !== undefined && data.CollectionArn !== null) {\n                    contents.CollectionArn = __expectString(data.CollectionArn);\n                }\n                if (data.CollectionName !== undefined && data.CollectionName !== null) {\n                    contents.CollectionName = __expectString(data.CollectionName);\n                }\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.Description !== undefined && data.Description !== null) {\n                    contents.Description = __expectString(data.Description);\n                }\n                if (data.KmsKeyId !== undefined && data.KmsKeyId !== null) {\n                    contents.KmsKeyId = __expectString(data.KmsKeyId);\n                }\n                if (data.PricingPlan !== undefined && data.PricingPlan !== null) {\n                    contents.PricingPlan = __expectString(data.PricingPlan);\n                }\n                if (data.PricingPlanDataSource !== undefined && data.PricingPlanDataSource !== null) {\n                    contents.PricingPlanDataSource = __expectString(data.PricingPlanDataSource);\n                }\n                if (data.Tags !== undefined && data.Tags !== null) {\n                    contents.Tags = deserializeAws_restJson1TagMap(data.Tags, context);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DescribeGeofenceCollectionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DescribeMapCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DescribeMapCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Configuration: undefined,\n                    CreateTime: undefined,\n                    DataSource: undefined,\n                    Description: undefined,\n                    MapArn: undefined,\n                    MapName: undefined,\n                    PricingPlan: undefined,\n                    Tags: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Configuration !== undefined && data.Configuration !== null) {\n                    contents.Configuration = deserializeAws_restJson1MapConfiguration(data.Configuration, context);\n                }\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.DataSource !== undefined && data.DataSource !== null) {\n                    contents.DataSource = __expectString(data.DataSource);\n                }\n                if (data.Description !== undefined && data.Description !== null) {\n                    contents.Description = __expectString(data.Description);\n                }\n                if (data.MapArn !== undefined && data.MapArn !== null) {\n                    contents.MapArn = __expectString(data.MapArn);\n                }\n                if (data.MapName !== undefined && data.MapName !== null) {\n                    contents.MapName = __expectString(data.MapName);\n                }\n                if (data.PricingPlan !== undefined && data.PricingPlan !== null) {\n                    contents.PricingPlan = __expectString(data.PricingPlan);\n                }\n                if (data.Tags !== undefined && data.Tags !== null) {\n                    contents.Tags = deserializeAws_restJson1TagMap(data.Tags, context);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DescribeMapCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DescribePlaceIndexCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DescribePlaceIndexCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    DataSource: undefined,\n                    DataSourceConfiguration: undefined,\n                    Description: undefined,\n                    IndexArn: undefined,\n                    IndexName: undefined,\n                    PricingPlan: undefined,\n                    Tags: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.DataSource !== undefined && data.DataSource !== null) {\n                    contents.DataSource = __expectString(data.DataSource);\n                }\n                if (data.DataSourceConfiguration !== undefined && data.DataSourceConfiguration !== null) {\n                    contents.DataSourceConfiguration = deserializeAws_restJson1DataSourceConfiguration(data.DataSourceConfiguration, context);\n                }\n                if (data.Description !== undefined && data.Description !== null) {\n                    contents.Description = __expectString(data.Description);\n                }\n                if (data.IndexArn !== undefined && data.IndexArn !== null) {\n                    contents.IndexArn = __expectString(data.IndexArn);\n                }\n                if (data.IndexName !== undefined && data.IndexName !== null) {\n                    contents.IndexName = __expectString(data.IndexName);\n                }\n                if (data.PricingPlan !== undefined && data.PricingPlan !== null) {\n                    contents.PricingPlan = __expectString(data.PricingPlan);\n                }\n                if (data.Tags !== undefined && data.Tags !== null) {\n                    contents.Tags = deserializeAws_restJson1TagMap(data.Tags, context);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DescribePlaceIndexCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DescribeRouteCalculatorCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DescribeRouteCalculatorCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CalculatorArn: undefined,\n                    CalculatorName: undefined,\n                    CreateTime: undefined,\n                    DataSource: undefined,\n                    Description: undefined,\n                    PricingPlan: undefined,\n                    Tags: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CalculatorArn !== undefined && data.CalculatorArn !== null) {\n                    contents.CalculatorArn = __expectString(data.CalculatorArn);\n                }\n                if (data.CalculatorName !== undefined && data.CalculatorName !== null) {\n                    contents.CalculatorName = __expectString(data.CalculatorName);\n                }\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.DataSource !== undefined && data.DataSource !== null) {\n                    contents.DataSource = __expectString(data.DataSource);\n                }\n                if (data.Description !== undefined && data.Description !== null) {\n                    contents.Description = __expectString(data.Description);\n                }\n                if (data.PricingPlan !== undefined && data.PricingPlan !== null) {\n                    contents.PricingPlan = __expectString(data.PricingPlan);\n                }\n                if (data.Tags !== undefined && data.Tags !== null) {\n                    contents.Tags = deserializeAws_restJson1TagMap(data.Tags, context);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DescribeRouteCalculatorCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DescribeTrackerCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DescribeTrackerCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    Description: undefined,\n                    KmsKeyId: undefined,\n                    PricingPlan: undefined,\n                    PricingPlanDataSource: undefined,\n                    Tags: undefined,\n                    TrackerArn: undefined,\n                    TrackerName: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.Description !== undefined && data.Description !== null) {\n                    contents.Description = __expectString(data.Description);\n                }\n                if (data.KmsKeyId !== undefined && data.KmsKeyId !== null) {\n                    contents.KmsKeyId = __expectString(data.KmsKeyId);\n                }\n                if (data.PricingPlan !== undefined && data.PricingPlan !== null) {\n                    contents.PricingPlan = __expectString(data.PricingPlan);\n                }\n                if (data.PricingPlanDataSource !== undefined && data.PricingPlanDataSource !== null) {\n                    contents.PricingPlanDataSource = __expectString(data.PricingPlanDataSource);\n                }\n                if (data.Tags !== undefined && data.Tags !== null) {\n                    contents.Tags = deserializeAws_restJson1TagMap(data.Tags, context);\n                }\n                if (data.TrackerArn !== undefined && data.TrackerArn !== null) {\n                    contents.TrackerArn = __expectString(data.TrackerArn);\n                }\n                if (data.TrackerName !== undefined && data.TrackerName !== null) {\n                    contents.TrackerName = __expectString(data.TrackerName);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DescribeTrackerCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DisassociateTrackerConsumerCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DisassociateTrackerConsumerCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DisassociateTrackerConsumerCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetDevicePositionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetDevicePositionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    DeviceId: undefined,\n                    Position: undefined,\n                    ReceivedTime: undefined,\n                    SampleTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.DeviceId !== undefined && data.DeviceId !== null) {\n                    contents.DeviceId = __expectString(data.DeviceId);\n                }\n                if (data.Position !== undefined && data.Position !== null) {\n                    contents.Position = deserializeAws_restJson1Position(data.Position, context);\n                }\n                if (data.ReceivedTime !== undefined && data.ReceivedTime !== null) {\n                    contents.ReceivedTime = new Date(data.ReceivedTime);\n                }\n                if (data.SampleTime !== undefined && data.SampleTime !== null) {\n                    contents.SampleTime = new Date(data.SampleTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetDevicePositionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetDevicePositionHistoryCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetDevicePositionHistoryCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    DevicePositions: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.DevicePositions !== undefined && data.DevicePositions !== null) {\n                    contents.DevicePositions = deserializeAws_restJson1DevicePositionList(data.DevicePositions, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetDevicePositionHistoryCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetGeofenceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetGeofenceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    GeofenceId: undefined,\n                    Geometry: undefined,\n                    Status: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.GeofenceId !== undefined && data.GeofenceId !== null) {\n                    contents.GeofenceId = __expectString(data.GeofenceId);\n                }\n                if (data.Geometry !== undefined && data.Geometry !== null) {\n                    contents.Geometry = deserializeAws_restJson1GeofenceGeometry(data.Geometry, context);\n                }\n                if (data.Status !== undefined && data.Status !== null) {\n                    contents.Status = __expectString(data.Status);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetGeofenceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetMapGlyphsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetMapGlyphsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Blob: undefined,\n                    ContentType: undefined,\n                };\n                if (output.headers[\"content-type\"] !== undefined) {\n                    contents.ContentType = output.headers[\"content-type\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.Blob = data;\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetMapGlyphsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetMapSpritesCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetMapSpritesCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Blob: undefined,\n                    ContentType: undefined,\n                };\n                if (output.headers[\"content-type\"] !== undefined) {\n                    contents.ContentType = output.headers[\"content-type\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.Blob = data;\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetMapSpritesCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetMapStyleDescriptorCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetMapStyleDescriptorCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Blob: undefined,\n                    ContentType: undefined,\n                };\n                if (output.headers[\"content-type\"] !== undefined) {\n                    contents.ContentType = output.headers[\"content-type\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.Blob = data;\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetMapStyleDescriptorCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetMapTileCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetMapTileCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Blob: undefined,\n                    ContentType: undefined,\n                };\n                if (output.headers[\"content-type\"] !== undefined) {\n                    contents.ContentType = output.headers[\"content-type\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.Blob = data;\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetMapTileCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListDevicePositionsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListDevicePositionsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListDevicePositionsResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListDevicePositionsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ThrottlingException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 6];\n                    case \"ValidationException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListGeofenceCollectionsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListGeofenceCollectionsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListGeofenceCollectionsResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListGeofenceCollectionsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ThrottlingException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 6];\n                    case \"ValidationException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListGeofencesCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListGeofencesCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListGeofenceResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListGeofencesCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListMapsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListMapsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListMapsResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListMapsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ThrottlingException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 6];\n                    case \"ValidationException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListPlaceIndexesCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListPlaceIndexesCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListPlaceIndexesResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListPlaceIndexesCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ThrottlingException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 6];\n                    case \"ValidationException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListRouteCalculatorsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListRouteCalculatorsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListRouteCalculatorsResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListRouteCalculatorsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ThrottlingException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 6];\n                    case \"ValidationException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListTagsForResourceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListTagsForResourceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Tags: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Tags !== undefined && data.Tags !== null) {\n                    contents.Tags = deserializeAws_restJson1TagMap(data.Tags, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListTagsForResourceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListTrackerConsumersCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListTrackerConsumersCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ConsumerArns: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.ConsumerArns !== undefined && data.ConsumerArns !== null) {\n                    contents.ConsumerArns = deserializeAws_restJson1ArnList(data.ConsumerArns, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListTrackerConsumersCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1ListTrackersCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1ListTrackersCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Entries: undefined,\n                    NextToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Entries !== undefined && data.Entries !== null) {\n                    contents.Entries = deserializeAws_restJson1ListTrackersResponseEntryList(data.Entries, context);\n                }\n                if (data.NextToken !== undefined && data.NextToken !== null) {\n                    contents.NextToken = __expectString(data.NextToken);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1ListTrackersCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ThrottlingException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 6];\n                    case \"ValidationException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PutGeofenceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1PutGeofenceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CreateTime: undefined,\n                    GeofenceId: undefined,\n                    UpdateTime: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CreateTime !== undefined && data.CreateTime !== null) {\n                    contents.CreateTime = new Date(data.CreateTime);\n                }\n                if (data.GeofenceId !== undefined && data.GeofenceId !== null) {\n                    contents.GeofenceId = __expectString(data.GeofenceId);\n                }\n                if (data.UpdateTime !== undefined && data.UpdateTime !== null) {\n                    contents.UpdateTime = new Date(data.UpdateTime);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PutGeofenceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, parsedBody, message;\n    var _j;\n    return __generator(this, function (_k) {\n        switch (_k.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _j = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_j.body = _k.sent(), _j)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalServerException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 6];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 8];\n                    case \"ThrottlingException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 10];\n                    case \"ValidationException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 12];\n                }\n                return [3 /*break*/, 14];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_k.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 15];\n            case 14:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _k.label = 15;\n            case 15:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1SearchPlaceIndexForPositionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1SearchPlaceIndexForPositionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Results: undefined,\n                    Summary: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Results !== undefined && data.Results !== null) {\n                    contents.Results = deserializeAws_restJson1SearchForPositionResultList(data.Results, context);\n                }\n                if (data.Summary !== undefined && data.Summary !== null) {\n                    contents.Summary = deserializeAws_restJson1SearchPlaceIndexForPositionSummary(data.Summary, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1SearchPlaceIndexForPositionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1SearchPlaceIndexForTextCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1SearchPlaceIndexForTextCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Results: undefined,\n                    Summary: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Results !== undefined && data.Results !== null) {\n                    contents.Results = deserializeAws_restJson1SearchForTextResultList(data.Results, context);\n                }\n                if (data.Summary !== undefined && data.Summary !== null) {\n                    contents.Summary = deserializeAws_restJson1SearchPlaceIndexForTextSummary(data.Summary, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1SearchPlaceIndexForTextCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1TagResourceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1TagResourceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1TagResourceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1UntagResourceCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1UntagResourceCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1UntagResourceCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.location#AccessDeniedException\": return [3 /*break*/, 2];\n                    case \"InternalServerException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.location#InternalServerException\": return [3 /*break*/, 4];\n                    case \"ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.location#ResourceNotFoundException\": return [3 /*break*/, 6];\n                    case \"ThrottlingException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.location#ThrottlingException\": return [3 /*break*/, 8];\n                    case \"ValidationException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.location#ValidationException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1AccessDeniedExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalServerExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ResourceNotFoundExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ThrottlingExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ValidationExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1AccessDeniedExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"AccessDeniedException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.Message = __expectString(data.message);\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ConflictExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ConflictException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.Message = __expectString(data.message);\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1InternalServerExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"InternalServerException\",\n            $fault: \"server\",\n            $retryable: {},\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.Message = __expectString(data.message);\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ResourceNotFoundExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ResourceNotFoundException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.Message = __expectString(data.message);\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ThrottlingExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ThrottlingException\",\n            $fault: \"client\",\n            $retryable: {},\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.Message = __expectString(data.message);\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ValidationExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ValidationException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            FieldList: undefined,\n            Message: undefined,\n            Reason: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.fieldList !== undefined && data.fieldList !== null) {\n            contents.FieldList = deserializeAws_restJson1ValidationExceptionFieldList(data.fieldList, context);\n        }\n        if (data.message !== undefined && data.message !== null) {\n            contents.Message = __expectString(data.message);\n        }\n        if (data.reason !== undefined && data.reason !== null) {\n            contents.Reason = __expectString(data.reason);\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar serializeAws_restJson1BatchPutGeofenceRequestEntry = function (input, context) {\n    return __assign(__assign({}, (input.GeofenceId !== undefined && input.GeofenceId !== null && { GeofenceId: input.GeofenceId })), (input.Geometry !== undefined &&\n        input.Geometry !== null && { Geometry: serializeAws_restJson1GeofenceGeometry(input.Geometry, context) }));\n};\nvar serializeAws_restJson1BatchPutGeofenceRequestEntryList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1BatchPutGeofenceRequestEntry(entry, context);\n    });\n};\nvar serializeAws_restJson1BoundingBox = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return __serializeFloat(entry);\n    });\n};\nvar serializeAws_restJson1CalculateRouteCarModeOptions = function (input, context) {\n    return __assign(__assign({}, (input.AvoidFerries !== undefined && input.AvoidFerries !== null && { AvoidFerries: input.AvoidFerries })), (input.AvoidTolls !== undefined && input.AvoidTolls !== null && { AvoidTolls: input.AvoidTolls }));\n};\nvar serializeAws_restJson1CalculateRouteTruckModeOptions = function (input, context) {\n    return __assign(__assign(__assign(__assign({}, (input.AvoidFerries !== undefined && input.AvoidFerries !== null && { AvoidFerries: input.AvoidFerries })), (input.AvoidTolls !== undefined && input.AvoidTolls !== null && { AvoidTolls: input.AvoidTolls })), (input.Dimensions !== undefined &&\n        input.Dimensions !== null && { Dimensions: serializeAws_restJson1TruckDimensions(input.Dimensions, context) })), (input.Weight !== undefined &&\n        input.Weight !== null && { Weight: serializeAws_restJson1TruckWeight(input.Weight, context) }));\n};\nvar serializeAws_restJson1CountryCodeList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar serializeAws_restJson1DataSourceConfiguration = function (input, context) {\n    return __assign({}, (input.IntendedUse !== undefined && input.IntendedUse !== null && { IntendedUse: input.IntendedUse }));\n};\nvar serializeAws_restJson1DeviceIdsList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar serializeAws_restJson1DevicePositionUpdate = function (input, context) {\n    return __assign(__assign(__assign({}, (input.DeviceId !== undefined && input.DeviceId !== null && { DeviceId: input.DeviceId })), (input.Position !== undefined &&\n        input.Position !== null && { Position: serializeAws_restJson1Position(input.Position, context) })), (input.SampleTime !== undefined &&\n        input.SampleTime !== null && { SampleTime: input.SampleTime.toISOString().split(\".\")[0] + \"Z\" }));\n};\nvar serializeAws_restJson1DevicePositionUpdateList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1DevicePositionUpdate(entry, context);\n    });\n};\nvar serializeAws_restJson1GeofenceGeometry = function (input, context) {\n    return __assign({}, (input.Polygon !== undefined &&\n        input.Polygon !== null && { Polygon: serializeAws_restJson1LinearRings(input.Polygon, context) }));\n};\nvar serializeAws_restJson1IdList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar serializeAws_restJson1LinearRing = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1Position(entry, context);\n    });\n};\nvar serializeAws_restJson1LinearRings = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1LinearRing(entry, context);\n    });\n};\nvar serializeAws_restJson1MapConfiguration = function (input, context) {\n    return __assign({}, (input.Style !== undefined && input.Style !== null && { Style: input.Style }));\n};\nvar serializeAws_restJson1Position = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return __serializeFloat(entry);\n    });\n};\nvar serializeAws_restJson1TagMap = function (input, context) {\n    return Object.entries(input).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return __assign(__assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar serializeAws_restJson1TruckDimensions = function (input, context) {\n    return __assign(__assign(__assign(__assign({}, (input.Height !== undefined && input.Height !== null && { Height: __serializeFloat(input.Height) })), (input.Length !== undefined && input.Length !== null && { Length: __serializeFloat(input.Length) })), (input.Unit !== undefined && input.Unit !== null && { Unit: input.Unit })), (input.Width !== undefined && input.Width !== null && { Width: __serializeFloat(input.Width) }));\n};\nvar serializeAws_restJson1TruckWeight = function (input, context) {\n    return __assign(__assign({}, (input.Total !== undefined && input.Total !== null && { Total: __serializeFloat(input.Total) })), (input.Unit !== undefined && input.Unit !== null && { Unit: input.Unit }));\n};\nvar serializeAws_restJson1WaypointPositionList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1Position(entry, context);\n    });\n};\nvar deserializeAws_restJson1ArnList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return __expectString(entry);\n    });\n};\nvar deserializeAws_restJson1BatchDeleteDevicePositionHistoryError = function (output, context) {\n    return {\n        DeviceId: __expectString(output.DeviceId),\n        Error: output.Error !== undefined && output.Error !== null\n            ? deserializeAws_restJson1BatchItemError(output.Error, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1BatchDeleteDevicePositionHistoryErrorList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchDeleteDevicePositionHistoryError(entry, context);\n    });\n};\nvar deserializeAws_restJson1BatchDeleteGeofenceError = function (output, context) {\n    return {\n        Error: output.Error !== undefined && output.Error !== null\n            ? deserializeAws_restJson1BatchItemError(output.Error, context)\n            : undefined,\n        GeofenceId: __expectString(output.GeofenceId),\n    };\n};\nvar deserializeAws_restJson1BatchDeleteGeofenceErrorList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchDeleteGeofenceError(entry, context);\n    });\n};\nvar deserializeAws_restJson1BatchEvaluateGeofencesError = function (output, context) {\n    return {\n        DeviceId: __expectString(output.DeviceId),\n        Error: output.Error !== undefined && output.Error !== null\n            ? deserializeAws_restJson1BatchItemError(output.Error, context)\n            : undefined,\n        SampleTime: output.SampleTime !== undefined && output.SampleTime !== null ? new Date(output.SampleTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1BatchEvaluateGeofencesErrorList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchEvaluateGeofencesError(entry, context);\n    });\n};\nvar deserializeAws_restJson1BatchGetDevicePositionError = function (output, context) {\n    return {\n        DeviceId: __expectString(output.DeviceId),\n        Error: output.Error !== undefined && output.Error !== null\n            ? deserializeAws_restJson1BatchItemError(output.Error, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1BatchGetDevicePositionErrorList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchGetDevicePositionError(entry, context);\n    });\n};\nvar deserializeAws_restJson1BatchItemError = function (output, context) {\n    return {\n        Code: __expectString(output.Code),\n        Message: __expectString(output.Message),\n    };\n};\nvar deserializeAws_restJson1BatchPutGeofenceError = function (output, context) {\n    return {\n        Error: output.Error !== undefined && output.Error !== null\n            ? deserializeAws_restJson1BatchItemError(output.Error, context)\n            : undefined,\n        GeofenceId: __expectString(output.GeofenceId),\n    };\n};\nvar deserializeAws_restJson1BatchPutGeofenceErrorList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchPutGeofenceError(entry, context);\n    });\n};\nvar deserializeAws_restJson1BatchPutGeofenceSuccess = function (output, context) {\n    return {\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        GeofenceId: __expectString(output.GeofenceId),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1BatchPutGeofenceSuccessList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchPutGeofenceSuccess(entry, context);\n    });\n};\nvar deserializeAws_restJson1BatchUpdateDevicePositionError = function (output, context) {\n    return {\n        DeviceId: __expectString(output.DeviceId),\n        Error: output.Error !== undefined && output.Error !== null\n            ? deserializeAws_restJson1BatchItemError(output.Error, context)\n            : undefined,\n        SampleTime: output.SampleTime !== undefined && output.SampleTime !== null ? new Date(output.SampleTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1BatchUpdateDevicePositionErrorList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1BatchUpdateDevicePositionError(entry, context);\n    });\n};\nvar deserializeAws_restJson1BoundingBox = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return __handleFloat(entry);\n    });\n};\nvar deserializeAws_restJson1CalculateRouteSummary = function (output, context) {\n    return {\n        DataSource: __expectString(output.DataSource),\n        Distance: __handleFloat(output.Distance),\n        DistanceUnit: __expectString(output.DistanceUnit),\n        DurationSeconds: __handleFloat(output.DurationSeconds),\n        RouteBBox: output.RouteBBox !== undefined && output.RouteBBox !== null\n            ? deserializeAws_restJson1BoundingBox(output.RouteBBox, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1CountryCodeList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return __expectString(entry);\n    });\n};\nvar deserializeAws_restJson1DataSourceConfiguration = function (output, context) {\n    return {\n        IntendedUse: __expectString(output.IntendedUse),\n    };\n};\nvar deserializeAws_restJson1DevicePosition = function (output, context) {\n    return {\n        DeviceId: __expectString(output.DeviceId),\n        Position: output.Position !== undefined && output.Position !== null\n            ? deserializeAws_restJson1Position(output.Position, context)\n            : undefined,\n        ReceivedTime: output.ReceivedTime !== undefined && output.ReceivedTime !== null ? new Date(output.ReceivedTime) : undefined,\n        SampleTime: output.SampleTime !== undefined && output.SampleTime !== null ? new Date(output.SampleTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1DevicePositionList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1DevicePosition(entry, context);\n    });\n};\nvar deserializeAws_restJson1GeofenceGeometry = function (output, context) {\n    return {\n        Polygon: output.Polygon !== undefined && output.Polygon !== null\n            ? deserializeAws_restJson1LinearRings(output.Polygon, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1Leg = function (output, context) {\n    return {\n        Distance: __handleFloat(output.Distance),\n        DurationSeconds: __handleFloat(output.DurationSeconds),\n        EndPosition: output.EndPosition !== undefined && output.EndPosition !== null\n            ? deserializeAws_restJson1Position(output.EndPosition, context)\n            : undefined,\n        Geometry: output.Geometry !== undefined && output.Geometry !== null\n            ? deserializeAws_restJson1LegGeometry(output.Geometry, context)\n            : undefined,\n        StartPosition: output.StartPosition !== undefined && output.StartPosition !== null\n            ? deserializeAws_restJson1Position(output.StartPosition, context)\n            : undefined,\n        Steps: output.Steps !== undefined && output.Steps !== null\n            ? deserializeAws_restJson1StepList(output.Steps, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1LegGeometry = function (output, context) {\n    return {\n        LineString: output.LineString !== undefined && output.LineString !== null\n            ? deserializeAws_restJson1LineString(output.LineString, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1LegList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1Leg(entry, context);\n    });\n};\nvar deserializeAws_restJson1LinearRing = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1Position(entry, context);\n    });\n};\nvar deserializeAws_restJson1LinearRings = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1LinearRing(entry, context);\n    });\n};\nvar deserializeAws_restJson1LineString = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1Position(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListDevicePositionsResponseEntry = function (output, context) {\n    return {\n        DeviceId: __expectString(output.DeviceId),\n        Position: output.Position !== undefined && output.Position !== null\n            ? deserializeAws_restJson1Position(output.Position, context)\n            : undefined,\n        SampleTime: output.SampleTime !== undefined && output.SampleTime !== null ? new Date(output.SampleTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListDevicePositionsResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListDevicePositionsResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListGeofenceCollectionsResponseEntry = function (output, context) {\n    return {\n        CollectionName: __expectString(output.CollectionName),\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        Description: __expectString(output.Description),\n        PricingPlan: __expectString(output.PricingPlan),\n        PricingPlanDataSource: __expectString(output.PricingPlanDataSource),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListGeofenceCollectionsResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListGeofenceCollectionsResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListGeofenceResponseEntry = function (output, context) {\n    return {\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        GeofenceId: __expectString(output.GeofenceId),\n        Geometry: output.Geometry !== undefined && output.Geometry !== null\n            ? deserializeAws_restJson1GeofenceGeometry(output.Geometry, context)\n            : undefined,\n        Status: __expectString(output.Status),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListGeofenceResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListGeofenceResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListMapsResponseEntry = function (output, context) {\n    return {\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        DataSource: __expectString(output.DataSource),\n        Description: __expectString(output.Description),\n        MapName: __expectString(output.MapName),\n        PricingPlan: __expectString(output.PricingPlan),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListMapsResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListMapsResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListPlaceIndexesResponseEntry = function (output, context) {\n    return {\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        DataSource: __expectString(output.DataSource),\n        Description: __expectString(output.Description),\n        IndexName: __expectString(output.IndexName),\n        PricingPlan: __expectString(output.PricingPlan),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListPlaceIndexesResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListPlaceIndexesResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListRouteCalculatorsResponseEntry = function (output, context) {\n    return {\n        CalculatorName: __expectString(output.CalculatorName),\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        DataSource: __expectString(output.DataSource),\n        Description: __expectString(output.Description),\n        PricingPlan: __expectString(output.PricingPlan),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListRouteCalculatorsResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListRouteCalculatorsResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1ListTrackersResponseEntry = function (output, context) {\n    return {\n        CreateTime: output.CreateTime !== undefined && output.CreateTime !== null ? new Date(output.CreateTime) : undefined,\n        Description: __expectString(output.Description),\n        PricingPlan: __expectString(output.PricingPlan),\n        PricingPlanDataSource: __expectString(output.PricingPlanDataSource),\n        TrackerName: __expectString(output.TrackerName),\n        UpdateTime: output.UpdateTime !== undefined && output.UpdateTime !== null ? new Date(output.UpdateTime) : undefined,\n    };\n};\nvar deserializeAws_restJson1ListTrackersResponseEntryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ListTrackersResponseEntry(entry, context);\n    });\n};\nvar deserializeAws_restJson1MapConfiguration = function (output, context) {\n    return {\n        Style: __expectString(output.Style),\n    };\n};\nvar deserializeAws_restJson1Place = function (output, context) {\n    return {\n        AddressNumber: __expectString(output.AddressNumber),\n        Country: __expectString(output.Country),\n        Geometry: output.Geometry !== undefined && output.Geometry !== null\n            ? deserializeAws_restJson1PlaceGeometry(output.Geometry, context)\n            : undefined,\n        Label: __expectString(output.Label),\n        Municipality: __expectString(output.Municipality),\n        Neighborhood: __expectString(output.Neighborhood),\n        PostalCode: __expectString(output.PostalCode),\n        Region: __expectString(output.Region),\n        Street: __expectString(output.Street),\n        SubRegion: __expectString(output.SubRegion),\n    };\n};\nvar deserializeAws_restJson1PlaceGeometry = function (output, context) {\n    return {\n        Point: output.Point !== undefined && output.Point !== null\n            ? deserializeAws_restJson1Position(output.Point, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1Position = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return __handleFloat(entry);\n    });\n};\nvar deserializeAws_restJson1SearchForPositionResult = function (output, context) {\n    return {\n        Place: output.Place !== undefined && output.Place !== null\n            ? deserializeAws_restJson1Place(output.Place, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1SearchForPositionResultList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1SearchForPositionResult(entry, context);\n    });\n};\nvar deserializeAws_restJson1SearchForTextResult = function (output, context) {\n    return {\n        Place: output.Place !== undefined && output.Place !== null\n            ? deserializeAws_restJson1Place(output.Place, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1SearchForTextResultList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1SearchForTextResult(entry, context);\n    });\n};\nvar deserializeAws_restJson1SearchPlaceIndexForPositionSummary = function (output, context) {\n    return {\n        DataSource: __expectString(output.DataSource),\n        MaxResults: __expectNumber(output.MaxResults),\n        Position: output.Position !== undefined && output.Position !== null\n            ? deserializeAws_restJson1Position(output.Position, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1SearchPlaceIndexForTextSummary = function (output, context) {\n    return {\n        BiasPosition: output.BiasPosition !== undefined && output.BiasPosition !== null\n            ? deserializeAws_restJson1Position(output.BiasPosition, context)\n            : undefined,\n        DataSource: __expectString(output.DataSource),\n        FilterBBox: output.FilterBBox !== undefined && output.FilterBBox !== null\n            ? deserializeAws_restJson1BoundingBox(output.FilterBBox, context)\n            : undefined,\n        FilterCountries: output.FilterCountries !== undefined && output.FilterCountries !== null\n            ? deserializeAws_restJson1CountryCodeList(output.FilterCountries, context)\n            : undefined,\n        MaxResults: __expectNumber(output.MaxResults),\n        ResultBBox: output.ResultBBox !== undefined && output.ResultBBox !== null\n            ? deserializeAws_restJson1BoundingBox(output.ResultBBox, context)\n            : undefined,\n        Text: __expectString(output.Text),\n    };\n};\nvar deserializeAws_restJson1Step = function (output, context) {\n    return {\n        Distance: __handleFloat(output.Distance),\n        DurationSeconds: __handleFloat(output.DurationSeconds),\n        EndPosition: output.EndPosition !== undefined && output.EndPosition !== null\n            ? deserializeAws_restJson1Position(output.EndPosition, context)\n            : undefined,\n        GeometryOffset: __expectNumber(output.GeometryOffset),\n        StartPosition: output.StartPosition !== undefined && output.StartPosition !== null\n            ? deserializeAws_restJson1Position(output.StartPosition, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1StepList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1Step(entry, context);\n    });\n};\nvar deserializeAws_restJson1TagMap = function (output, context) {\n    return Object.entries(output).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return __assign(__assign({}, acc), (_b = {}, _b[key] = __expectString(value), _b));\n    }, {});\n};\nvar deserializeAws_restJson1ValidationExceptionField = function (output, context) {\n    return {\n        Message: __expectString(output.message),\n        Name: __expectString(output.name),\n    };\n};\nvar deserializeAws_restJson1ValidationExceptionFieldList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ValidationExceptionField(entry, context);\n    });\n};\nvar deserializeMetadata = function (output) {\n    var _a;\n    return ({\n        httpStatusCode: output.statusCode,\n        requestId: (_a = output.headers[\"x-amzn-requestid\"]) !== null && _a !== void 0 ? _a : output.headers[\"x-amzn-request-id\"],\n        extendedRequestId: output.headers[\"x-amz-id-2\"],\n        cfId: output.headers[\"x-amz-cf-id\"],\n    });\n};\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody === void 0) { streamBody = new Uint8Array(); }\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) { return context.utf8Encoder(body); });\n};\nvar isSerializableHeaderValue = function (value) {\n    return value !== undefined &&\n        value !== null &&\n        value !== \"\" &&\n        (!Object.getOwnPropertyNames(value).includes(\"length\") || value.length != 0) &&\n        (!Object.getOwnPropertyNames(value).includes(\"size\") || value.size != 0);\n};\nvar parseBody = function (streamBody, context) {\n    return collectBodyString(streamBody, context).then(function (encoded) {\n        if (encoded.length) {\n            return JSON.parse(encoded);\n        }\n        return {};\n    });\n};\n/**\n * Load an error code for the aws.rest-json-1.1 protocol.\n */\nvar loadRestJsonErrorCode = function (output, data) {\n    var findKey = function (object, key) { return Object.keys(object).find(function (k) { return k.toLowerCase() === key.toLowerCase(); }); };\n    var sanitizeErrorCode = function (rawValue) {\n        var cleanValue = rawValue;\n        if (cleanValue.indexOf(\":\") >= 0) {\n            cleanValue = cleanValue.split(\":\")[0];\n        }\n        if (cleanValue.indexOf(\"#\") >= 0) {\n            cleanValue = cleanValue.split(\"#\")[1];\n        }\n        return cleanValue;\n    };\n    var headerKey = findKey(output.headers, \"x-amzn-errortype\");\n    if (headerKey !== undefined) {\n        return sanitizeErrorCode(output.headers[headerKey]);\n    }\n    if (data.code !== undefined) {\n        return sanitizeErrorCode(data.code);\n    }\n    if (data[\"__type\"] !== undefined) {\n        return sanitizeErrorCode(data[\"__type\"]);\n    }\n    return \"\";\n};\n//# sourceMappingURL=Aws_restJson1.js.map","import { deserializerMiddleware } from \"./deserializerMiddleware\";\nimport { serializerMiddleware } from \"./serializerMiddleware\";\nexport var deserializerMiddlewareOption = {\n    name: \"deserializerMiddleware\",\n    step: \"deserialize\",\n    tags: [\"DESERIALIZER\"],\n    override: true,\n};\nexport var serializerMiddlewareOption = {\n    name: \"serializerMiddleware\",\n    step: \"serialize\",\n    tags: [\"SERIALIZER\"],\n    override: true,\n};\nexport function getSerdePlugin(config, serializer, deserializer) {\n    return {\n        applyToStack: function (commandStack) {\n            commandStack.add(deserializerMiddleware(config, deserializer), deserializerMiddlewareOption);\n            commandStack.add(serializerMiddleware(config, serializer), serializerMiddlewareOption);\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyZGVQbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyZGVQbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0EsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDbEUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFOUQsTUFBTSxDQUFDLElBQU0sNEJBQTRCLEdBQThCO0lBQ3JFLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLGFBQWE7SUFDbkIsSUFBSSxFQUFFLENBQUMsY0FBYyxDQUFDO0lBQ3RCLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLDBCQUEwQixHQUE0QjtJQUNqRSxJQUFJLEVBQUUsc0JBQXNCO0lBQzVCLElBQUksRUFBRSxXQUFXO0lBQ2pCLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQztJQUNwQixRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUM7QUFFRixNQUFNLFVBQVUsY0FBYyxDQUs1QixNQUFvQixFQUNwQixVQUFnRCxFQUNoRCxZQUFpRTtJQUVqRSxPQUFPO1FBQ0wsWUFBWSxFQUFFLFVBQUMsWUFBb0Q7WUFDakUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztZQUM3RixZQUFZLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDO1FBQ3pGLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERlc2VyaWFsaXplSGFuZGxlck9wdGlvbnMsXG4gIEVuZHBvaW50QmVhcmVyLFxuICBNZXRhZGF0YUJlYXJlcixcbiAgTWlkZGxld2FyZVN0YWNrLFxuICBQbHVnZ2FibGUsXG4gIFJlcXVlc3RTZXJpYWxpemVyLFxuICBSZXNwb25zZURlc2VyaWFsaXplcixcbiAgU2VyaWFsaXplSGFuZGxlck9wdGlvbnMsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlIH0gZnJvbSBcIi4vZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgc2VyaWFsaXplck1pZGRsZXdhcmUgfSBmcm9tIFwiLi9zZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuXG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbjogRGVzZXJpYWxpemVIYW5kbGVyT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwiZGVzZXJpYWxpemVcIixcbiAgdGFnczogW1wiREVTRVJJQUxJWkVSXCJdLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbjogU2VyaWFsaXplSGFuZGxlck9wdGlvbnMgPSB7XG4gIG5hbWU6IFwic2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJzZXJpYWxpemVcIixcbiAgdGFnczogW1wiU0VSSUFMSVpFUlwiXSxcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyZGVQbHVnaW48XG4gIElucHV0VHlwZSBleHRlbmRzIG9iamVjdCxcbiAgU2VyRGVDb250ZXh0IGV4dGVuZHMgRW5kcG9pbnRCZWFyZXIsXG4gIE91dHB1dFR5cGUgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlclxuPihcbiAgY29uZmlnOiBTZXJEZUNvbnRleHQsXG4gIHNlcmlhbGl6ZXI6IFJlcXVlc3RTZXJpYWxpemVyPGFueSwgU2VyRGVDb250ZXh0PixcbiAgZGVzZXJpYWxpemVyOiBSZXNwb25zZURlc2VyaWFsaXplcjxPdXRwdXRUeXBlLCBhbnksIFNlckRlQ29udGV4dD5cbik6IFBsdWdnYWJsZTxJbnB1dFR5cGUsIE91dHB1dFR5cGU+IHtcbiAgcmV0dXJuIHtcbiAgICBhcHBseVRvU3RhY2s6IChjb21tYW5kU3RhY2s6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+KSA9PiB7XG4gICAgICBjb21tYW5kU3RhY2suYWRkKGRlc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBkZXNlcmlhbGl6ZXIpLCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uKTtcbiAgICAgIGNvbW1hbmRTdGFjay5hZGQoc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBzZXJpYWxpemVyKSwgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24pO1xuICAgIH0sXG4gIH07XG59XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nexport var deserializerMiddleware = function (options, deserializer) {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var response, parsed;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, next(args)];\n                    case 1:\n                        response = (_a.sent()).response;\n                        return [4 /*yield*/, deserializer(response, options)];\n                    case 2:\n                        parsed = _a.sent();\n                        return [2 /*return*/, {\n                                response: response,\n                                output: parsed,\n                            }];\n                }\n            });\n        }); };\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzZXJpYWxpemVyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FDakMsVUFDRSxPQUFxQixFQUNyQixZQUEwRDtJQUU1RCxPQUFBLFVBQUMsSUFBdUMsRUFBRSxPQUFnQztRQUMxRSxPQUFBLFVBQU8sSUFBd0M7Ozs7NEJBQ3hCLHFCQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQTs7d0JBQTdCLFFBQVEsR0FBSyxDQUFBLFNBQWdCLENBQUEsU0FBckI7d0JBQ0QscUJBQU0sWUFBWSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBQTs7d0JBQTlDLE1BQU0sR0FBRyxTQUFxQzt3QkFDcEQsc0JBQU87Z0NBQ0wsUUFBUSxVQUFBO2dDQUNSLE1BQU0sRUFBRSxNQUFnQjs2QkFDekIsRUFBQzs7O2FBQ0g7SUFQRCxDQU9DO0FBUkQsQ0FRQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRGVzZXJpYWxpemVIYW5kbGVyLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIERlc2VyaWFsaXplSGFuZGxlck91dHB1dCxcbiAgRGVzZXJpYWxpemVNaWRkbGV3YXJlLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgUmVzcG9uc2VEZXNlcmlhbGl6ZXIsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVyTWlkZGxld2FyZSA9XG4gIDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0LCBSdW50aW1lVXRpbHMgPSBhbnk+KFxuICAgIG9wdGlvbnM6IFJ1bnRpbWVVdGlscyxcbiAgICBkZXNlcmlhbGl6ZXI6IFJlc3BvbnNlRGVzZXJpYWxpemVyPGFueSwgYW55LCBSdW50aW1lVXRpbHM+XG4gICk6IERlc2VyaWFsaXplTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PiA9PlxuICAobmV4dDogRGVzZXJpYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+LCBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiA9PlxuICBhc3luYyAoYXJnczogRGVzZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0Pik6IFByb21pc2U8RGVzZXJpYWxpemVIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IHBhcnNlZCA9IGF3YWl0IGRlc2VyaWFsaXplcihyZXNwb25zZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgb3V0cHV0OiBwYXJzZWQgYXMgT3V0cHV0LFxuICAgIH07XG4gIH07XG4iXX0=","import { __assign, __awaiter, __generator } from \"tslib\";\nexport var serializerMiddleware = function (options, serializer) {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var request;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, serializer(args.input, options)];\n                    case 1:\n                        request = _a.sent();\n                        return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n                }\n            });\n        }); };\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyaWFsaXplck1pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVVBLE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUMvQixVQUNFLE9BQXFCLEVBQ3JCLFVBQWdEO0lBRWxELE9BQUEsVUFBQyxJQUFxQyxFQUFFLE9BQWdDO1FBQ3hFLE9BQUEsVUFBTyxJQUFzQzs7Ozs0QkFDM0IscUJBQU0sVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUE7O3dCQUEvQyxPQUFPLEdBQUcsU0FBcUM7d0JBQ3JELHNCQUFPLElBQUksdUJBQ04sSUFBSSxLQUNQLE9BQU8sU0FBQSxJQUNQLEVBQUM7OzthQUNKO0lBTkQsQ0FNQztBQVBELENBT0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEVuZHBvaW50QmVhcmVyLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgUmVxdWVzdFNlcmlhbGl6ZXIsXG4gIFNlcmlhbGl6ZUhhbmRsZXIsXG4gIFNlcmlhbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIFNlcmlhbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIFNlcmlhbGl6ZU1pZGRsZXdhcmUsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplck1pZGRsZXdhcmUgPVxuICA8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91dHB1dCBleHRlbmRzIG9iamVjdCwgUnVudGltZVV0aWxzIGV4dGVuZHMgRW5kcG9pbnRCZWFyZXI+KFxuICAgIG9wdGlvbnM6IFJ1bnRpbWVVdGlscyxcbiAgICBzZXJpYWxpemVyOiBSZXF1ZXN0U2VyaWFsaXplcjxhbnksIFJ1bnRpbWVVdGlscz5cbiAgKTogU2VyaWFsaXplTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PiA9PlxuICAobmV4dDogU2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiwgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpOiBTZXJpYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+ID0+XG4gIGFzeW5jIChhcmdzOiBTZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0Pik6IFByb21pc2U8U2VyaWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHNlcmlhbGl6ZXIoYXJncy5pbnB1dCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgLi4uYXJncyxcbiAgICAgIHJlcXVlc3QsXG4gICAgfSk7XG4gIH07XG4iXX0=","import { __extends } from \"tslib\";\nimport { SearchPlaceIndexForTextRequest, SearchPlaceIndexForTextResponse } from \"../models/models_0\";\nimport { deserializeAws_restJson1SearchPlaceIndexForTextCommand, serializeAws_restJson1SearchPlaceIndexForTextCommand, } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Geocodes free-form text, such as an address, name, city, or region to allow you to\n *          search for Places or points of interest. </p>\n *          <p>Includes the option to apply additional parameters to narrow your list of\n *          results.</p>\n *          <note>\n *             <p>You can search for places near a given position using <code>BiasPosition</code>, or\n *             filter results within a bounding box using <code>FilterBBox</code>. Providing both\n *             parameters simultaneously returns an error.</p>\n *          </note>\n * @example\n * Use a bare-bones client and the command you need to make an API call.\n * ```javascript\n * import { LocationClient, SearchPlaceIndexForTextCommand } from \"@aws-sdk/client-location\"; // ES Modules import\n * // const { LocationClient, SearchPlaceIndexForTextCommand } = require(\"@aws-sdk/client-location\"); // CommonJS import\n * const client = new LocationClient(config);\n * const command = new SearchPlaceIndexForTextCommand(input);\n * const response = await client.send(command);\n * ```\n *\n * @see {@link SearchPlaceIndexForTextCommandInput} for command's `input` shape.\n * @see {@link SearchPlaceIndexForTextCommandOutput} for command's `response` shape.\n * @see {@link LocationClientResolvedConfig | config} for command's `input` shape.\n *\n */\nvar SearchPlaceIndexForTextCommand = /** @class */ (function (_super) {\n    __extends(SearchPlaceIndexForTextCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function SearchPlaceIndexForTextCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForTextCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"LocationClient\";\n        var commandName = \"SearchPlaceIndexForTextCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: SearchPlaceIndexForTextRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: SearchPlaceIndexForTextResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    SearchPlaceIndexForTextCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1SearchPlaceIndexForTextCommand(input, context);\n    };\n    SearchPlaceIndexForTextCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1SearchPlaceIndexForTextCommand(output, context);\n    };\n    return SearchPlaceIndexForTextCommand;\n}($Command));\nexport { SearchPlaceIndexForTextCommand };\n//# sourceMappingURL=SearchPlaceIndexForTextCommand.js.map","import { __extends } from \"tslib\";\nimport { SearchPlaceIndexForPositionRequest, SearchPlaceIndexForPositionResponse } from \"../models/models_0\";\nimport { deserializeAws_restJson1SearchPlaceIndexForPositionCommand, serializeAws_restJson1SearchPlaceIndexForPositionCommand, } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Reverse geocodes a given coordinate and returns a legible address. Allows you to search\n *          for Places or points of interest near a given position.</p>\n * @example\n * Use a bare-bones client and the command you need to make an API call.\n * ```javascript\n * import { LocationClient, SearchPlaceIndexForPositionCommand } from \"@aws-sdk/client-location\"; // ES Modules import\n * // const { LocationClient, SearchPlaceIndexForPositionCommand } = require(\"@aws-sdk/client-location\"); // CommonJS import\n * const client = new LocationClient(config);\n * const command = new SearchPlaceIndexForPositionCommand(input);\n * const response = await client.send(command);\n * ```\n *\n * @see {@link SearchPlaceIndexForPositionCommandInput} for command's `input` shape.\n * @see {@link SearchPlaceIndexForPositionCommandOutput} for command's `response` shape.\n * @see {@link LocationClientResolvedConfig | config} for command's `input` shape.\n *\n */\nvar SearchPlaceIndexForPositionCommand = /** @class */ (function (_super) {\n    __extends(SearchPlaceIndexForPositionCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function SearchPlaceIndexForPositionCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    SearchPlaceIndexForPositionCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"LocationClient\";\n        var commandName = \"SearchPlaceIndexForPositionCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: SearchPlaceIndexForPositionRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: SearchPlaceIndexForPositionResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    SearchPlaceIndexForPositionCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1SearchPlaceIndexForPositionCommand(input, context);\n    };\n    SearchPlaceIndexForPositionCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1SearchPlaceIndexForPositionCommand(output, context);\n    };\n    return SearchPlaceIndexForPositionCommand;\n}($Command));\nexport { SearchPlaceIndexForPositionCommand };\n//# sourceMappingURL=SearchPlaceIndexForPositionCommand.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport camelcaseKeys from 'camelcase-keys';\nimport { ConsoleLogger as Logger, Credentials, getAmplifyUserAgent, } from '@aws-amplify/core';\nimport { LocationClient, SearchPlaceIndexForTextCommand, SearchPlaceIndexForPositionCommand, } from '@aws-sdk/client-location';\nvar logger = new Logger('AmazonLocationServiceProvider');\nvar AmazonLocationServiceProvider = /** @class */ (function () {\n    /**\n     * Initialize Geo with AWS configurations\n     * @param {Object} config - Configuration object for Geo\n     */\n    function AmazonLocationServiceProvider(config) {\n        this._config = config ? config : {};\n        logger.debug('Geo Options', this._config);\n    }\n    /**\n     * get the category of the plugin\n     * @returns {string} name of the category\n     */\n    AmazonLocationServiceProvider.prototype.getCategory = function () {\n        return AmazonLocationServiceProvider.CATEGORY;\n    };\n    /**\n     * get provider name of the plugin\n     * @returns {string} name of the provider\n     */\n    AmazonLocationServiceProvider.prototype.getProviderName = function () {\n        return AmazonLocationServiceProvider.PROVIDER_NAME;\n    };\n    /**\n     * Configure Geo part with aws configuration\n     * @param {Object} config - Configuration of the Geo\n     * @return {Object} - Current configuration\n     */\n    AmazonLocationServiceProvider.prototype.configure = function (config) {\n        logger.debug('configure Amazon Location Service Provider', config);\n        if (!config)\n            return this._config;\n        this._config = Object.assign({}, this._config, config);\n        return this._config;\n    };\n    /**\n     * Get the map resources that are currently available through the provider\n     * @returns {AmazonLocationServiceMapStyle[]}- Array of available map resources\n     */\n    AmazonLocationServiceProvider.prototype.getAvailableMaps = function () {\n        this._verifyMapResources();\n        var mapStyles = [];\n        var availableMaps = this._config.maps.items;\n        var region = this._config.region;\n        for (var mapName in availableMaps) {\n            var style = availableMaps[mapName].style;\n            mapStyles.push({ mapName: mapName, style: style, region: region });\n        }\n        return mapStyles;\n    };\n    /**\n     * Get the map resource set as default in amplify config\n     * @returns {AmazonLocationServiceMapStyle} - Map resource set as the default in amplify config\n     */\n    AmazonLocationServiceProvider.prototype.getDefaultMap = function () {\n        this._verifyMapResources();\n        var mapName = this._config.maps.default;\n        var style = this._config.maps.items[mapName].style;\n        var region = this._config.region;\n        return { mapName: mapName, style: style, region: region };\n    };\n    /**\n     * Search by text input with optional parameters\n     * @param  {string} text - The text string that is to be searched for\n     * @param  {SearchByTextOptions} options? - Optional parameters to the search\n     * @returns {Promise<Place[]>} - Promise resolves to a list of Places that match search parameters\n     */\n    AmazonLocationServiceProvider.prototype.searchByText = function (text, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, locationServiceInput, client, command, response, error_1, PascalResults, results;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _b.sent();\n                        if (!credentialsOK) {\n                            throw new Error('No credentials');\n                        }\n                        this._verifySearchIndex((_a = options) === null || _a === void 0 ? void 0 : _a.searchIndexName);\n                        locationServiceInput = {\n                            Text: text,\n                            IndexName: this._config.search_indices.default,\n                        };\n                        /**\n                         * Map search options to Amazon Location Service input object\n                         */\n                        if (options) {\n                            locationServiceInput.FilterCountries = options.countries;\n                            locationServiceInput.MaxResults = options.maxResults;\n                            if (options.searchIndexName) {\n                                locationServiceInput.IndexName = options.searchIndexName;\n                            }\n                            if (options['biasPosition']) {\n                                locationServiceInput.BiasPosition = options['biasPosition'];\n                            }\n                            else if (options['searchAreaConstraints']) {\n                                locationServiceInput.FilterBBox = options['searchAreaConstraints'];\n                            }\n                        }\n                        client = new LocationClient({\n                            credentials: this._config.credentials,\n                            region: this._config.region,\n                            customUserAgent: getAmplifyUserAgent(),\n                        });\n                        command = new SearchPlaceIndexForTextCommand(locationServiceInput);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, client.send(command)];\n                    case 3:\n                        response = _b.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_1 = _b.sent();\n                        logger.debug(error_1);\n                        throw error_1;\n                    case 5:\n                        PascalResults = response.Results.map(function (result) { return result.Place; });\n                        results = camelcaseKeys(PascalResults, {\n                            deep: true,\n                        });\n                        return [2 /*return*/, results];\n                }\n            });\n        });\n    };\n    /**\n     * Reverse geocoding search via a coordinate point on the map\n     * @param coordinates - Coordinates array for the search input\n     * @param options - Options parameters for the search\n     * @returns {Promise<Place>} - Promise that resolves to a place matching search coordinates\n     */\n    AmazonLocationServiceProvider.prototype.searchByCoordinates = function (coordinates, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, locationServiceInput, client, command, response, error_2, PascalResults, results;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _b.sent();\n                        if (!credentialsOK) {\n                            throw new Error('No credentials');\n                        }\n                        this._verifySearchIndex((_a = options) === null || _a === void 0 ? void 0 : _a.searchIndexName);\n                        locationServiceInput = {\n                            Position: coordinates,\n                            IndexName: this._config.search_indices.default,\n                        };\n                        if (options) {\n                            if (options.searchIndexName) {\n                                locationServiceInput.IndexName = options.searchIndexName;\n                            }\n                            locationServiceInput.MaxResults = options.maxResults;\n                        }\n                        client = new LocationClient({\n                            credentials: this._config.credentials,\n                            region: this._config.region,\n                            customUserAgent: getAmplifyUserAgent(),\n                        });\n                        command = new SearchPlaceIndexForPositionCommand(locationServiceInput);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, client.send(command)];\n                    case 3:\n                        response = _b.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_2 = _b.sent();\n                        logger.debug(error_2);\n                        throw error_2;\n                    case 5:\n                        PascalResults = response.Results.map(function (result) { return result.Place; });\n                        results = camelcaseKeys(PascalResults[0], {\n                            deep: true,\n                        });\n                        return [2 /*return*/, results];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     */\n    AmazonLocationServiceProvider.prototype._ensureCredentials = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, cred, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, Credentials.get()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials)\n                            return [2 /*return*/, false];\n                        cred = Credentials.shear(credentials);\n                        logger.debug('Set credentials for storage. Credentials are:', cred);\n                        this._config.credentials = cred;\n                        return [2 /*return*/, true];\n                    case 2:\n                        error_3 = _a.sent();\n                        logger.warn('Ensure credentials error. Credentials are:', error_3);\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmazonLocationServiceProvider.prototype._verifyMapResources = function () {\n        if (!this._config.maps) {\n            var errorString = \"No map resources found in amplify config, run 'amplify add geo' to create them and ensure to run `amplify push` after\";\n            logger.warn(errorString);\n            throw new Error(errorString);\n        }\n        if (!this._config.maps.default) {\n            var errorString = \"No default map resource found in amplify config, run 'amplify add geo' to create one and ensure to run `amplify push` after\";\n            logger.warn(errorString);\n            throw new Error(errorString);\n        }\n    };\n    AmazonLocationServiceProvider.prototype._verifySearchIndex = function (optionalSearchIndex) {\n        if ((!this._config.search_indices || !this._config.search_indices.default) &&\n            !optionalSearchIndex) {\n            var errorString = 'No Search Index found, please run `amplify add geo` to add one and ensure to run `amplify push` after.';\n            logger.warn(errorString);\n            throw new Error(errorString);\n        }\n    };\n    AmazonLocationServiceProvider.CATEGORY = 'Geo';\n    AmazonLocationServiceProvider.PROVIDER_NAME = 'AmazonLocationService';\n    return AmazonLocationServiceProvider;\n}());\nexport { AmazonLocationServiceProvider };\n//# sourceMappingURL=AmazonLocationServiceProvider.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { Amplify, ConsoleLogger as Logger, parseMobileHubConfig, } from '@aws-amplify/core';\nimport { AmazonLocationServiceProvider } from './Providers/AmazonLocationServiceProvider';\nvar logger = new Logger('Geo');\nvar DEFAULT_PROVIDER = 'AmazonLocationService';\nvar GeoClass = /** @class */ (function () {\n    function GeoClass() {\n        this._config = {};\n        this._pluggables = [];\n        logger.debug('Geo Options', this._config);\n    }\n    /**\n     * get the name of the module category\n     * @returns {string} name of the module category\n     */\n    GeoClass.prototype.getModuleName = function () {\n        return GeoClass.MODULE;\n    };\n    /**\n     * add plugin into Geo category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    GeoClass.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Geo') {\n            this._pluggables.push(pluggable);\n            var config = pluggable.configure(this._config[pluggable.getProviderName()]);\n            return config;\n        }\n    };\n    /**\n     * Get the plugin object\n     * @param providerName - the name of the plugin\n     */\n    GeoClass.prototype.getPluggable = function (providerName) {\n        var pluggable = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === providerName; });\n        if (pluggable === undefined) {\n            logger.debug('No plugin found with providerName', providerName);\n            throw new Error('No plugin found in Geo for the provider');\n        }\n        else\n            return pluggable;\n    };\n    /**\n     * Remove the plugin object\n     * @param providerName - the name of the plugin\n     */\n    GeoClass.prototype.removePluggable = function (providerName) {\n        this._pluggables = this._pluggables.filter(function (pluggable) { return pluggable.getProviderName() !== providerName; });\n        return;\n    };\n    /**\n     * Configure Geo\n     * @param {Object} config - Configuration object for Geo\n     * @return {Object} - Current configuration\n     */\n    GeoClass.prototype.configure = function (config) {\n        var _this = this;\n        logger.debug('configure Geo');\n        if (!config)\n            return this._config;\n        var amplifyConfig = parseMobileHubConfig(config);\n        this._config = Object.assign({}, this._config, amplifyConfig.Geo, config);\n        this._pluggables.forEach(function (pluggable) {\n            pluggable.configure(_this._config[pluggable.getProviderName()]);\n        });\n        if (this._pluggables.length === 0) {\n            this.addPluggable(new AmazonLocationServiceProvider());\n        }\n        return this._config;\n    };\n    /**\n     * Get the map resources that are currently available through the provider\n     * @param {string} provider\n     * @returns - Array of available map resources\n     */\n    GeoClass.prototype.getAvailableMaps = function (provider) {\n        if (provider === void 0) { provider = DEFAULT_PROVIDER; }\n        var prov = this.getPluggable(provider);\n        return prov.getAvailableMaps();\n    };\n    /**\n     * Get the map resource set as default in amplify config\n     * @param {string} provider\n     * @returns - Map resource set as the default in amplify config\n     */\n    GeoClass.prototype.getDefaultMap = function (provider) {\n        if (provider === void 0) { provider = DEFAULT_PROVIDER; }\n        var prov = this.getPluggable(provider);\n        return prov.getDefaultMap();\n    };\n    /**\n     * Search by text input with optional parameters\n     * @param  {string} text - The text string that is to be searched for\n     * @param  {SearchByTextOptions} options? - Optional parameters to the search\n     * @returns {Promise<Place[]>} - Promise resolves to a list of Places that match search parameters\n     */\n    GeoClass.prototype.searchByText = function (text, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, providerName, prov, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = (options || {}).providerName, providerName = _a === void 0 ? DEFAULT_PROVIDER : _a;\n                        prov = this.getPluggable(providerName);\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, prov.searchByText(text, options)];\n                    case 2: return [2 /*return*/, _b.sent()];\n                    case 3:\n                        error_1 = _b.sent();\n                        logger.debug(error_1);\n                        throw error_1;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Reverse geocoding search via a coordinate point on the map\n     * @param coordinates - Coordinates array for the search input\n     * @param options - Options parameters for the search\n     * @returns {Promise<Place>} - Promise that resolves to a place matching search coordinates\n     */\n    GeoClass.prototype.searchByCoordinates = function (coordinates, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, providerName, prov, error_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = (options || {}).providerName, providerName = _a === void 0 ? DEFAULT_PROVIDER : _a;\n                        prov = this.getPluggable(providerName);\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, prov.searchByCoordinates(coordinates, options)];\n                    case 2: return [2 /*return*/, _b.sent()];\n                    case 3:\n                        error_2 = _b.sent();\n                        logger.debug(error_2);\n                        throw error_2;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    GeoClass.MODULE = 'Geo';\n    return GeoClass;\n}());\nexport { GeoClass };\nexport var Geo = new GeoClass();\nAmplify.register(Geo);\n//# sourceMappingURL=Geo.js.map","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport var fromUtf8 = function (input) {\n    return typeof TextEncoder === \"function\" ? textEncoderFromUtf8(input) : jsFromUtf8(input);\n};\nexport var toUtf8 = function (input) {\n    return typeof TextDecoder === \"function\" ? textEncoderToUtf8(input) : jsToUtf8(input);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxVQUFDLEtBQWE7SUFDcEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sTUFBTSxHQUFHLFVBQUMsS0FBaUI7SUFDdEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQTlFLENBQThFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSA9PlxuICB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5cbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcgPT5cbiAgdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iXX0=","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport var fromUtf8 = function (input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n};\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport var toUtf8 = function (input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQy9HLElBQU0sYUFBYSxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3hHLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLENBQUMsQ0FBQztTQUNqSDtLQUNGO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxNQUFNLEdBQUcsVUFBQyxLQUFpQjtJQUN0QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVUsRUFBRTtZQUNsRCxJQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsU0FBUyxJQUFLLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxDQUNuRixDQUFDO1NBQ0g7S0FDRjtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTExKSA8PCA2KSB8IChuZXh0Qnl0ZSAmIDBiMTExMTExKSk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufTtcbiJdfQ==","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport var fromUtf8 = function (input) {\n    return typeof TextEncoder === \"function\" ? textEncoderFromUtf8(input) : jsFromUtf8(input);\n};\nexport var toUtf8 = function (input) {\n    return typeof TextDecoder === \"function\" ? textEncoderToUtf8(input) : jsToUtf8(input);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxVQUFDLEtBQWE7SUFDcEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sTUFBTSxHQUFHLFVBQUMsS0FBaUI7SUFDdEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQTlFLENBQThFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSA9PlxuICB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5cbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcgPT5cbiAgdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iXX0=","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport var fromUtf8 = function (input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n};\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport var toUtf8 = function (input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQy9HLElBQU0sYUFBYSxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3hHLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLENBQUMsQ0FBQztTQUNqSDtLQUNGO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxNQUFNLEdBQUcsVUFBQyxLQUFpQjtJQUN0QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVUsRUFBRTtZQUNsRCxJQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsU0FBUyxJQUFLLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxDQUNuRixDQUFDO1NBQ0g7S0FDRjtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTExKSA8PCA2KSB8IChuZXh0Qnl0ZSAmIDBiMTExMTExKSk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufTtcbiJdfQ=="],"sourceRoot":""}